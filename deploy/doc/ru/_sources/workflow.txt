
Рабочий процесс
***************


Содержание
^^^^^^^^^^

* Рабочий процесс

  * Подготовка сцен

  * Отображение сцен в просмотрщике

  * Экспорт сцен

  * Разработка приложения

Создание любого продукта является творческим процессом, в котором
могут участвовать множество людей, с различными навыками и опытом.
Однако, вне зависимости от его сложности и конечного результата,
всегда можно выделить стадию производства, на которой создаётся
основной объём ресурсов (ассетов) и исходного кода.

При использовании Blend4Web производственный процесс можно представить
следующим образом:

1. Создание нового проекта.

2. Подготовка трёхмерных сцен в программе Blender.

3. Запуск, настройка и отладка сцены в программе-просмотрщике.

4. Экспорт сцен.

5. Разработка приложения.

6. Сборка проекта.

7. Создание целевого веб-приложения.


Подготовка сцен
===============

Помимо обычных операций по моделированию, текстурированию, анимации и
т.д. должна быть осуществлена подготовка сцены для работы в движке.

Общие рекомендации:

1. Настоятельно рекомендуется сохранять blend-файлы в директории
   "projects/имя_проекта/blender". Там же должны находиться
   вспомогательные файлы, не предназначенные для загрузки в приложение
   (например, референсы).

2. Изображения и медиа-файлы должны быть внешними и находиться в
   директории "projects/имя_проекта/assets".

3. Файл, из которого будет осуществляться экспорт, должен содержать
   только необходимые в разрабатываемом приложении ресурсы (объекты,
   материалы, текстуры, анимацию и т.д.).

4. Составные части сцен должны иметь отличающие названия. Они не
   должны называться “Cube.001”, “Material”, “Armature”.

5. Рекомендуется практиковать добавление по ссылке (linking)
   компонентов из других файлов (библиотек).


Отображение сцен в просмотрщике
===============================

При использовании локального сервера разработки возможно сделать
предварительный просмотр сцены используя кнопку "Fast Preview",
расположенную в нижней части окна 3D View Blender'а, а также на панели
"Render -> Development Server" в Blender. В этом случае будет
произведён автоматический экспорт сцены во временное хранилище с
последующей загрузкой в просмотрщике.

Другой способ - использовать опцию экспорта сцены Run in Viewer. В
этом случая сцена показывается в просмотрщике сразу после экспорта.


Экспорт сцен
============

Процедура экспорта преобразует данные сцены из формата, понятного
Blender, в формат, понятный Blend4Web.

[рисунок]

Экспорт может осуществляться в два формата: JSON и HTML.

Формат HTML применяется для простых, самодостаточных проектов, в
которых все ресурсы упакованы в один файл. Полученный файл легко можно
разместить на веб-странице.

Формат JSON также может применяться для создания подобных приложений,
но кроме этого он предлагает множество дополнительных возможностей для
создания сложных проектов, требующих программирования. Различия между
форматами и настройки экспорта описаны в разделе "Форматы экспорта".

Для экспорта сцены, выберите в меню "File > Export" опцию "Blend4Web
(.json)" или "Blend4Web (.html)" либо наберите "b4w export" в меню
поиска команд (вызывается по клавише "ПРОБЕЛ").

Примечание: Если сцена использует возможности Blender, не
  поддерживаемые движком Blend4Web, при экспорте могут возникнуть
  ошибки. Ошибки экспорта перечислены в этой таблице.

Опции экспорта подробно описаны в соответствующем разделе.


Разработка приложения
=====================

На этой стадии создаётся приложение, в котором на языке JavaScript
пишется логика по загрузке сцены и взаимодействию с ней пользователя.
Документация для разработчиков приложений приведена в соответствующем
разделе.

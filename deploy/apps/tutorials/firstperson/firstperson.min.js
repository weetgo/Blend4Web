b4w.register("example_main",function(r,b){function t(a,b){if(b){l.create_preloader();window.addEventListener("resize",u);var c=v.get_std_assets_path()+"tutorials/firstperson/firstperson.json";w.load(c,x,y)}else console.log("b4w init failure")}function y(a){l.update_preloader(a)}function x(){h.enable_fps_controls();h.set_cam_smooth_factor(.01);h.set_cam_sensitivity(110);var b=c.get_object_by_dupli_name("gun","lp.005"),f=c.get_object_by_dupli_name("gun","Plane"),e=c.get_object_by_dupli_name("gun","Plane.001"),
g=c.get_object_by_dupli_name("gun","Plane.002"),d=c.get_object_by_dupli_name("gun","Plane.003");a.apply(b,"zoom_shoot",a.SLOT_2);a.set_behavior(b,a.AB_FINISH_RESET,a.SLOT_2);a.apply(b,"shoot",a.SLOT_0);a.set_behavior(b,a.AB_FINISH_RESET,a.SLOT_0);a.apply(b,"zoom",a.SLOT_1);a.set_behavior(b,a.AB_FINISH_STOP,a.SLOT_1);a.apply(f,"ParticleSystem",a.SLOT_0);a.set_behavior(f,a.AB_FINISH_RESET,a.SLOT_0);a.apply(e,"ParticleSystem",a.SLOT_0);a.set_behavior(e,a.AB_FINISH_RESET,a.SLOT_0);a.apply(g,"ParticleSystem",
a.SLOT_0);a.set_behavior(g,a.AB_FINISH_RESET,a.SLOT_0);a.apply(d,"ParticleSystem",a.SLOT_0);a.set_behavior(d,a.AB_FINISH_RESET,a.SLOT_0);b=m.get_container();z(b)}function u(){m.resize_to_container()}function z(b){function f(){d=!1}var h=c.get_object_by_name("shot"),g=c.get_object_by_dupli_name("gun","lp.005"),d=!1,n=!1;b=e.create_mouse_click_sensor(b);var k=c.get_object_by_dupli_name("gun","Plane"),l=c.get_object_by_dupli_name("gun","Plane.001"),m=c.get_object_by_dupli_name("gun","Plane.002"),p=c.get_object_by_dupli_name("gun",
"Plane.003");e.create_sensor_manifold(g,"SHOT_MANIFOLD",e.CT_SHOT,[b],function(a){return a[0]},function(b,c,g){if(g&&!d)switch(e.get_sensor_payload(b,c,0).which){case 1:d=!0;a.play(k,null,a.SLOT_0);a.play(l,null,a.SLOT_0);a.play(m,null,a.SLOT_0);a.play(p,null,a.SLOT_0);A.play(h);c=a.SLOT_0;n?a.play(b,f,a.SLOT_2):a.play(b,f,c);break;case 3:d=!0,c=a.SLOT_1,n?a.set_speed(b,-1,c):a.set_speed(b,1,c),a.play(b,f,a.SLOT_1),n=!n}})}var a=b("animation"),p=b("app"),v=b("config"),m=b("container"),e=b("controls"),
w=b("data"),h=b("fps"),q=b("input"),B=b("main"),l=b("preloader"),c=b("scenes"),A=b("sfx"),k="DEBUG"===b("version").type();r.init=function(){var a=k,b=p.get_url_params();b&&"show_fps"in b&&(a=!0);p.init({canvas_container_id:"canvas3d",callback:t,show_fps:a,assets_dds_available:!k,assets_min50_available:!k,alpha:!1,stereo:q.can_use_device(q.DEVICE_HMD)&&!B.detect_mobile()?"HMD":"NONE"})}});b4w.require("example_main").init();

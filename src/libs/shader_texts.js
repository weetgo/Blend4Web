/**
 * Copyright (C) 2014-2016 Triumph LLC
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
b4w.module["shader_texts"] = function(exports, require) {exports["anchors.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";","}"]}]},exports["anchors.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"ANCHOR_NUM",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec3","u_position","[","ANCHOR_NUM","]",";","uniform","mat4","u_view_proj_matrix",";","uniform","vec2","u_texel_size",";","GLSL_IN","float","a_index",";","void","main","(",")","{","int","c","=","int","(","mod","(","a_index",",","3.0",")",")",";","int","d","=","int","(","a_index","/","3.0",")",";","vec2","e",";","if","(","c","==","0",")","{","e","=","vec2","(","-","4.0","*","u_texel_size","[","0","]",",","-","u_texel_size","[","1","]",")",";","}","else","if","(","c","==","1",")","{","e","=","vec2","(","4.0","*","u_texel_size","[","0","]",",","-","u_texel_size","[","1","]",")",";","}","else","{","e","=","vec2","(","0.0",",","5.0","*","u_texel_size","[","1","]",")",";","}","vec4","f","=","u_view_proj_matrix","*","vec4","(","u_position","[","d","]",",","1.0",")",";","f",".","xy","+=","e","*","f",".","w",";","gl_Position","=","f",";","}"]}]},exports["color_id.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"USE_OUTLINE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"CAMERA_TYPE",TOKENS:["CAM_TYPE_PERSP"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"var",NAME:"USE_DERIVATIVES_EXT",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_DERIVATIVES_EXT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_FRESNEL","USE_NODE_LAYER_WEIGHT",{TYPE:"logical_or_expr",PLACES:2},"CAMERA_TYPE","CAM_TYPE_ORTHO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_direction",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_VIEW_TSR",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";","uniform","float","u_alpha_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_color_id",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","GLSL_SMPLR2D_SHDW","u_shadow_map0",";","uniform","GLSL_SMPLR2D_SHDW","u_shadow_map1",";","uniform","GLSL_SMPLR2D_SHDW","u_shadow_map2",";","uniform","GLSL_SMPLR2D_SHDW","u_shadow_map3",";","uniform","sampler2D","u_shadow_mask",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_outline_intensity",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_OBJECT_INFO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_obj_info",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";","GLSL_IN","vec4","i",";","GLSL_IN","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","m",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","n",";","GLSL_IN","vec4","o",";","GLSL_IN","vec4","u",";","GLSL_IN","vec4","v",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","B",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","C","=","normalize","(","u_camera_eye_frag","-","h",")",";","vec3","D",";","vec3","E",";","vec3","F",";","vec4","G",";","float","H",";","I","(","C",",","D",",","E",",","F",",","G",",","H",")",";","float","J","=","H",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","(","GLSL_TEXTURE","(","u_sampler",",","A",")",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","u_alpha_factor","*","J",";","L","+=","(","1.0","-","step","(","0.0",",","L",")",")",";","J","=","mix","(","L",",","1.0",",","u_diffuse_color",".","a",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","u_diffuse_color",".","a",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","J","<","0.5",")","discard",";","J","=","1.0",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","u_outline_intensity",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","u_color_id",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["color_id.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"SMAA_JITTER",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM_MIX_NORMALS_FACTOR",TOKENS:["u_va_frame_factor"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat_next",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","B",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";","GLSL_OUT","vec4","i",";","GLSL_OUT","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","m",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]}]}}]},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","M","=","u_view_tsr",";","vec3","N","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA","CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6},{TYPE:"logical_and_expr",PLACES:3},"USE_TBN_SHADING","CALC_TBN",{TYPE:"logical_and_expr",PLACES:2},"USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_NO","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","P","=","O","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","O","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","R","=","sign","(","a_tbn_quat","[","3","]",")","*","cross","(","P",",","Q",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","vec3","(","0.0",")",";","vec3","R","=","vec3","(","0.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","P","=","vec3","(","0.0",")",";","vec3","Q","=","vec3","(","0.0",")",";","vec3","R","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","S","=","u_model_tsr",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","U","=","normalize","(","T","(","u_model_tsr",",","P",")",")",";","vec3","V","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","U",")",";","vec3","W","=","cross","(","U",",","V",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","W","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","W","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["N","=","mix","(","N",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","O","(","a_tbn_quat_next",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","P","=","mix","(","P",",","X",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Y","=","O","(","a_tbn_quat_next",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","Z","=","sign","(","a_tbn_quat_next","[","3","]",")","*","cross","(","X",",","Y",")",";","Q","=","mix","(","Q",",","Y",",","u_va_frame_factor",")",";","R","=","mix","(","R",",","Z",",","u_va_frame_factor",")",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["_","(","N",",","Q",",","R",",","P",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","au_center_pos",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ae","=","ad","(","S",",","ac",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","af","(","u_camera_eye",",","ae",",","M",",","S",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","ah","(","u_camera_eye",",","ae",",","M",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","ai","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","ae",",","S",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aj","al","=","ak","(","N","-","ac",",","ac",",","vec3","(","0.0",")",",","W",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","S",")",";","al",".","ac","=","ae",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aj","al","=","ak","(","N",",","ac",",","vec3","(","0.0",")",",","W",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","S",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["am","(","al",".","N",",","al",".","ac",",","P",",","mat4","(","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","an","=","O","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","an","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["am","(","al",".","N",",","al",".","ac",",","an",",","mat4","(","0.0",")",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","ao","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["h","=","al",".","N",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO","USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:12}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["j","=","al",".","P",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ap","=","(","dot","(","cross","(","al",".","P",",","al",".","Q",")",",","al",".","R",")","<","0.0",")","?","-","1.0",":","1.0",";","k","=","vec4","(","al",".","Q",",","ap",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["B","=","al",".","aq",";"]}]}}]},{TYPE:"txt",TOKENS:["i","=","vec4","(","ad","(","M",",","al",".","N",")",",","1.0",")",";","vec4","f","=","u_proj_matrix","*","i",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f",".","xy","+=","u_subpixel_jitter","*","f",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","as","(","f",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","-","i",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["I","(",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","u_proj_matrix","*","vec4","(","ad","(","M",",","al",".","N",")",",","1.0",")",";","}"]}]},exports["debug_view.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DEBUG_SPHERE",TOKENS:["0"]},{TYPE:"var",NAME:"WIREFRAME_QUALITY",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_SPHERE_DYNAMIC",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_debug_view_mode",";","uniform","float","u_cluster_id",";","uniform","float","u_batch_debug_id_color",";","uniform","float","u_batch_debug_main_render_time",";","uniform","float","u_debug_colors_seed",";","uniform","float","u_debug_render_time_threshold",";","uniform","vec3","u_wireframe_edge_color",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","at",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","const","float","au","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE_DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","av","=","vec3","(","1.0",",","0.05",",","0.05",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","av","=","vec3","(","0.05",",","0.05",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","aw","=","vec3","(","0.4",",","0.4",",","1.0",")",";","const","vec3","ax","=","vec3","(","1.0",",","0.4",",","0.4",")",";","const","vec3","ay","=","vec3","(","1.0",",","1.0",",","1.0",")",";","const","vec3","az","=","vec3","(","0.0",",","133.0","/","255.0",",","66.0","/","255.0",")",";","const","vec3","aA","=","vec3","(","160.0","/","255.0",",","38.0","/","255.0",",","33.0","/","255.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aF","(",")","{","float","aB","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIREFRAME_QUALITY",0,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aC","=","sign","(","at","-","vec3","(","0.02","*","au",")",")",";","if","(","aC",".","x","<","0.0","||","aC",".","y","<","0.0","||","aC",".","z","<","0.0",")","aB","=","0.0",";"]}]}},{TYPE:"elif",EXPRESSION:["WIREFRAME_QUALITY",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"txt",TOKENS:["vec3","aD","=","fwidth","(","at",")",";","vec3","aE","=","smoothstep","(","vec3","(","0.0",")",",","aD","*","au",",","at",")",";","aB","=","min","(","min","(","aE",".","x",",","aE",".","y",")",",","aE",".","z",")",";","aB","=","clamp","(","aB",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aB",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec3","aG","=","vec3","(","0.0",")",";","float","J","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aC","=","sign","(","at","-","vec3","(","0.02","*","au",")",")",";","if","(","aC",".","x","<","0.0","||","aC",".","y","<","0.0","||","aC",".","z","<","0.0",")","{","aG","=","av",";","J","=","1.0",";","}","else","discard",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_debug_view_mode","==","DV_OPAQUE_WIREFRAME",")","{","float","aB","=","aF","(",")",";","aG","=","vec3","(","mix","(","u_wireframe_edge_color",",","ay",",","aB",")",")",";","J","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_TRANSPARENT_WIREFRAME",")","{","float","aB","=","aF","(",")",";","aG","=","u_wireframe_edge_color",";","J","=","mix","(","1.0",",","0.0",",","aB",")",";","}","else","if","(","u_debug_view_mode","==","DV_FRONT_BACK_VIEW",")","{","float","aB","=","aF","(",")",";","if","(","gl_FrontFacing",")","aG","=","mix","(","u_wireframe_edge_color",",","aw",",","aB",")",";","else","aG","=","mix","(","u_wireframe_edge_color",",","ax",",","aB",")",";","J","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_CLUSTERS_VIEW",")","{","float","aH","=","u_cluster_id","+","u_debug_colors_seed","+","2.0",";","aG","=","vec3","(","fract","(","aH","*","19.73",")",",","fract","(","aH","*","6.34",")",",","fract","(","aH","*","1.56",")",")",";","J","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_BATCHES_VIEW",")","{","float","aH","=","u_batch_debug_id_color","+","u_debug_colors_seed",";","aG","=","vec3","(","fract","(","aH","*","19.73",")",",","fract","(","aH","*","6.34",")",",","fract","(","aH","*","1.56",")",")",";","J","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_RENDER_TIME",")","{","float","aI",";","if","(","u_debug_render_time_threshold",">","0.0",")","aI","=","clamp","(","u_batch_debug_main_render_time",",","0.0",",","u_debug_render_time_threshold",")","/","u_debug_render_time_threshold",";","else","aI","=","1.0",";","float","aJ","=","clamp","(","2.0","*","aI",",","0.0",",","1.0",")",";","float","aK","=","clamp","(","2.0","*","aI","-","1.0",",","0.0",",","1.0",")",";","float","aL","=","aI",";","aG","=","mix","(","az",",","aA",",","vec3","(","aJ",",","aK",",","aL",")",")",";","J","=","1.0",";","}"]}]}}]},{TYPE:"txt",TOKENS:["aM","(","aG",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aN","(","aG",",","J",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aG",",","J",")",";","}"]}]},exports["debug_view.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_VIEW_SPECIAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_SPHERE",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn_quat",";","GLSL_IN","float","a_polyindex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","at",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"include",FILE:"dynamic_grass.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","if","(","a_polyindex","==","0.0",")","at","=","vec3","(","1.0",",","0.0",",","0.0",")",";","else","if","(","a_polyindex","==","1.0",")","at","=","vec3","(","0.0",",","0.0",",","1.0",")",";","else","at","=","vec3","(","0.0",",","1.0",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_VIEW_SPECIAL_SKYDOME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["gl_Position","=","vec4","(","a_position",".","xy",",","0.9999999",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","S","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","aO","(","u_model_tsr",",","S",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","S","=","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","M","=","u_view_tsr",";","vec3","N","=","a_position",";","vec3","P","=","O","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aj","al","=","ak","(","N",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","S",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["N","=","mix","(","N",",","a_position_next",",","u_va_frame_factor",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","vec3","(","0.0",")",";","vec3","R","=","vec3","(","0.0",")",";","_","(","N",",","Q",",","R",",","P",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","a_part_ts",".","xyz",";","N","=","ad","(","S",",","N",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aj","al","=","aP","(","N",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","ac",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","M",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ae","=","ad","(","S",",","ac",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","af","(","u_camera_eye",",","ae",",","M",",","S",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","ah","(","u_camera_eye",",","ae",",","M",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aQ","=","ae",";","S","=","ai","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","aQ",",","S",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aj","al","=","ak","(","N","-","ac",",","ac",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","S",")",";","al",".","ac","=","ae",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aj","al","=","ak","(","N",",","ac",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","S",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["am","(","al",".","N",",","al",".","ac",",","P",",","mat4","(","0.0",")",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","u_proj_matrix","*","vec4","(","ad","(","M",",","al",".","N",")",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["error.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","0.0",",","1.0",",","1.0",")",";","}"]}]},exports["error.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","void","main","(",")","{","gl_Position","=","u_proj_matrix","*","aR","(","u_view_tsr",")","*","vec4","(","a_position",",","1.0",")",";","}"]}]},exports["grass_map.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_SIZE",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_COLOR",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","aS",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","aS",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","aS",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","aS",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aS",",","vec3","(","1.0",")",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","aS",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["grass_map.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_SIZE",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_grass_size",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_grass_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","aS",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","aS",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","aS",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","float","u_time",";","uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","M","=","u_view_tsr",";","mat3","S","=","u_model_tsr",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ae","=","ad","(","S",",","vec3","(","0.0",")",")",";","mat3","S","=","ah","(","u_camera_eye",",","ae",",","M",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","ai","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","vec3","(","0.0",")",",","S",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aj","al","=","ak","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","S",")",";","al",".","ac","=","ae",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aj","al","=","ak","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","S",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","f","=","u_proj_matrix","*","vec4","(","ad","(","M",",","al",".","N",")",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aS","=","vec4","(","a_grass_size",",","a_grass_color",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aS","=","a_grass_size",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aS","=","a_grass_color",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","f",";","}"]}]},exports["halo.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec3","u_halo_rings_color",";","uniform","vec3","u_halo_lines_color",";","uniform","float","u_halo_hardness",";","uniform","float","u_halo_size",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_halo_stars_blend",";","uniform","float","u_halo_stars_height",";","uniform","float","u_cam_water_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS","WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","aT",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";","GLSL_IN","float","aU",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"halo_color.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec4","aW","=","aV","(",")",";","vec3","aG","=","aW",".","rgb",";","float","aC","=","aW",".","a",";","aM","(","aG",")",";","aN","(","aG",",","aC",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aG",",","aC",")",";","}"]}]},exports["halo.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","PRECISION","float","u_halo_size",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec2","a_halo_bb_vertex",";","GLSL_IN","float","a_random_vals",";","GLSL_OUT","vec2","A",";","GLSL_OUT","float","aU",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","aT",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","M","=","u_view_tsr",";","mat3","S","=","u_model_tsr",";","vec3","N","=","ad","(","S",",","a_position",")",";","A","=","a_halo_bb_vertex","*","2.0","-","1.0",";","aU","=","a_random_vals",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","aY","=","aX","(","N",",","M",")",";","mat3","aZ","=","M",";","aZ","[","0","]","[","0","]","=","0.0",";","aZ","[","0","]","[","1","]","=","0.0",";","aZ","[","0","]","[","2","]","=","0.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","aY","=","aX","(","N",",","M",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec2","a_","=","(","a_halo_bb_vertex","*","2.0","-","1.0",")","*","u_halo_size",";","vec3","bc","=","vec3","(","a_","[","0","]",",","0.0",",","a_","[","1","]",")",";","vec3","bd","=","ad","(","aY",",","bc",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","f","=","u_proj_matrix","*","vec4","(","ad","(","aZ",",","bd",")",",","1.0",")",";","f",".","z","=","0.99999","*","f",".","w",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aT","=","vec4","(","bd",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","f","=","u_proj_matrix","*","vec4","(","ad","(","M",",","bd",")",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","f",";","}"]}]},exports["lens_flares.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","aG","=","GLSL_TEXTURE","(","u_sampler",",","A",")",";","aM","(","aG",".","rgb",")",";","aN","(","aG",".","rgb",",","aG",".","a",")",";","GLSL_OUT_FRAG_COLOR","=","aG",";","}"]}]},exports["lens_flares.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"define",NAME:"LIGHT_INDEX",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","GLSL_IN","float","a_lf_dist",";","GLSL_IN","vec2","a_lf_bb_vertex",";","GLSL_IN","vec2","a_texcoord",";","GLSL_OUT","vec2","A",";","void","main","(",")","{","A","=","a_texcoord",";","vec3","be","=","normalize","(","u_light_directions","[","LIGHT_INDEX","]",")",";","vec4","f","=","u_proj_matrix","*","vec4","(","T","(","u_view_tsr",",","be",")",",","0.0",")",";","f",".","x","/=","f",".","w",";","f",".","y","/=","f",".","w",";","f","+=","99999.0","*","step","(","f",".","z",",","0.0",")",";","f","+=","100.0","*","(","step","(","1.0",",","abs","(","f",".","x",")",")","+","step","(","1.0",",","abs","(","f",".","y",")",")",")",";","f",".","x","=","a_lf_dist","*","f",".","x",";","f",".","y","=","a_lf_dist","*","f",".","y",";","float","bf","=","u_proj_matrix","[","1","]","[","1","]","/","u_proj_matrix","[","0","]","[","0","]",";","vec2","bh","=","vec2","(","a_lf_bb_vertex",".","x","/","bf",",","a_lf_bb_vertex",".","y",")",";","if","(","a_lf_dist","<","0.999",")","{","const","float","bi","=","1.9",";","bh","*=","(","1.0","+","bi","*","length","(","f",".","xy",")",")",";","}","gl_Position","=","vec4","(","f",".","xy","+","bh",",","0.999999",",","1.0",")",";","}"]}]},exports["line.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec3","aG","=","u_diffuse_color",".","xyz",";","float","J","=","u_diffuse_color",".","a",";","aM","(","aG",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aN","(","aG",",","J",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aG",",","J",")",";","}"]}]},exports["line.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec3","a_direction",";","uniform","mat3","u_model_tsr",";","uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","float","u_height",";","uniform","float","u_line_width",";","void","main","(",")","{","mat3","M","=","u_view_tsr",";","mat3","S","=","u_model_tsr",";","aj","al","=","ak","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","normalize","(","a_direction",")",",","S",")",";","vec4","bj","=","u_proj_matrix","*","vec4","(","ad","(","M",",","al",".","N",")",",","1.0",")",";","bj",".","xyz","/=","bj",".","w",";","vec4","bk","=","u_proj_matrix","*","vec4","(","ad","(","M",",","al",".","N","+","al",".","P",")",",","1.0",")",";","bk",".","xyz","/=","bk",".","w",";","float","bf","=","u_proj_matrix","[","1","]","[","1","]","/","u_proj_matrix","[","0","]","[","0","]",";","vec2","bl","=","(","bk","-","bj",")",".","xy",";","bl",".","x","*=","bf",";","float","bm","=","M_PI","/","2.0",";","mat2","bn","=","mat2","(","cos","(","bm",")",",","sin","(","bm",")",",","-","sin","(","bm",")",",","cos","(","bm",")",")",";","bl","=","bn","*","bl",";","bl","=","normalize","(","bl",")",";","vec2","bo","=","(","u_line_width","/","u_height",")","*","vec2","(","1.0","/","bf",",","1.0",")",";","gl_Position","=","vec4","(","bj",".","xy","+","bl",".","xy","*","bo","/","2.0",",","bj",".","z",",","1.0",")",";","gl_Position","*=","bj",".","w",";","}"]}]},exports["main.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"NORMAL_TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"PARALLAX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"CAMERA_TYPE",TOKENS:["CAM_TYPE_PERSP"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"WETTABLE",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"SSAO_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"var",NAME:"USE_DERIVATIVES_EXT",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_DERIVATIVES_EXT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"caustics.glslf"}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","vec2","u_texel_size",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_sun_quaternion",";","uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_FRESNEL","USE_NODE_LAYER_WEIGHT",{TYPE:"logical_or_expr",PLACES:2},"CAMERA_TYPE","CAM_TYPE_ORTHO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_direction",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_VIEW_TSR",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION","REFRACTIVE","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_OBJECT_INFO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_obj_info",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";","GLSL_IN","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","B",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","u",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","v",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","m",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"nodes.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bp","=","length","(","i",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bq","=","h",".","z","-","WATER_LEVEL",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","C","=","normalize","(","u_camera_eye_frag","-","h",")",";","vec3","D",";","vec3","E",";","vec3","F",";","vec4","G",";","float","H",";","I","(","C",",","D",",","E",",","F",",","G",",","H",")",";","vec3","aG","=","D",";","float","J","=","H",";","vec3","P","=","F",";","vec4","bs","=","G",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WETTABLE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aG","=","max","(","aG","-","sqrt","(","0.01","*","-","min","(","bq",",","0.0",")",")",",","0.5","*","aG",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bt","(","aG",",","bq",",","u_time",",","bs",",","P",",","u_sun_direction",",","u_sun_intensity",",","u_sun_quaternion",",","h",",","bp",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","J","<","0.5",")","discard",";","J","=","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","min","(","1.0",",","J",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bu","(","aG",",","bp",",","C",",","bq",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bu","(","aG",",","bp",",","C",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_ONLY","SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bv","=","GLSL_TEXTURE_PROJ","(","u_shadow_mask",",","l",")",".","a",";","aG","=","vec3","(","bv",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aG","=","max","(","vec3","(","0.0",")",",","aG",")",";","aM","(","aG",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aN","(","aG",",","J",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aG",",","J",")",";","}"]}]},exports["main.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN",TOKENS:["0"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"PARALLAX",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"SMAA_JITTER",TOKENS:["0"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"MAC_OS_SHADOW_HACK",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM_MIX_NORMALS_FACTOR",TOKENS:["u_va_frame_factor"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO","USE_NODE_BSDF_BEGIN","USE_NODE_TEX_COORD_RE",{TYPE:"logical_or_expr",PLACES:9}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat_next",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_color",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";","GLSL_OUT","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bw",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bx",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","u",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","v",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","m",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","B",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_view_refl_matrix",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_offset",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_v_light_tsr","[","NUM_CAST_LAMPS","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_v_light_ts","[","NUM_CAST_LAMPS","]",";","uniform","vec4","u_v_light_r","[","NUM_CAST_LAMPS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"include",FILE:"dynamic_grass.glslv"},{TYPE:"include",FILE:"shadow.glslv"},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","by","=","u_view_refl_matrix",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","by","=","mat4","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","M","=","u_view_tsr",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","S","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","aO","(","u_model_tsr",",","S",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","S","=","u_model_tsr",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec3","N","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_TBN_SHADING","CALC_TBN",{TYPE:"logical_and_expr",PLACES:2},"USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_NO","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:14}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bz","=","O","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_NO","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:13}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","P","=","bz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","P","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","O","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","R","=","sign","(","a_tbn_quat","[","3","]",")","*","cross","(","P",",","Q",")",";"]}]}},{TYPE:"elif",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bA","=","ad","(","S",",","N",")",";","vec3","U","=","normalize","(","T","(","S",",","bz",")",")",";","vec3","C","=","bA","-","u_camera_eye",";","vec3","R","=","cross","(","C",",","U",")",";","vec3","Q","=","cross","(","U",",","R",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","vec3","(","0.0",")",";","vec3","R","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","U","=","normalize","(","T","(","S",",","bz",")",")",";","vec3","V","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","U",")",";","vec3","W","=","cross","(","U",",","V",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","W","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","W","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["N","=","mix","(","N",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"USE_NODE_BSDF_BEGIN","USE_NODE_TEX_COORD_RE","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:10}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bB","=","O","(","a_tbn_quat_next",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_BSDF_BEGIN","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["P","=","mix","(","P",",","bB",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Y","=","O","(","a_tbn_quat_next",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","Z","=","sign","(","a_tbn_quat_next","[","3","]",")","*","cross","(","bB",",","Y",")",";","Q","=","mix","(","Q",",","Y",",","u_va_frame_factor",")",";","R","=","mix","(","R",",","Z",",","u_va_frame_factor",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["_","(","N",",","Q",",","R",",","P",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","a_part_ts",".","xyz",";","N","=","ad","(","S",",","N",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aj","al","=","aP","(","N",",","Q",",","W",",","R",",","P",",","ac",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","M",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ae","=","ad","(","S",",","ac",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["N","=","(","by","*","vec4","(","N",",","1.0",")",")",".","xyz",";","ac","=","(","by","*","vec4","(","ac",",","1.0",")",")",".","xyz",";","ae","=","(","by","*","vec4","(","ae",",","1.0",")",")",".","xyz",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","af","(","u_camera_eye",",","ae",",","M",",","S",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","ah","(","u_camera_eye",",","ae",",","M",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aQ","=","ae",";","S","=","ai","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","aQ",",","S",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aj","al","=","ak","(","N","-","ac",",","ac",",","Q",",","W",",","R",",","P",",","S",")",";","al",".","ac","=","ae",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aj","al","=","ak","(","N",",","ac",",","Q",",","W",",","R",",","P",",","S",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ap","=","(","dot","(","cross","(","al",".","P",",","al",".","Q",")",",","al",".","R",")","<","0.0",")","?","-","1.0",":","1.0",";","k","=","vec4","(","al",".","Q",",","ap",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["B","=","al",".","aq",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["am","(","al",".","N",",","al",".","ac",",","P",",","by",")",";"]}]}}]},{TYPE:"txt",TOKENS:["h","=","al",".","N",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO","USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:13}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["j","=","al",".","P",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bw","=","u_camera_eye","-","al",".","N",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","ao","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bx","=","al",".","aG",";"]}]}},{TYPE:"elif",EXPRESSION:["VERTEX_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bx","=","a_color",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bC","=","by","*","vec4","(","al",".","N",",","1.0",")",";","bC",".","xyz","=","ad","(","M",",","bC",".","xyz",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bC","=","vec4","(","ad","(","M",",","al",".","N",")",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","bC",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","f","=","u_proj_matrix","*","bC",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f",".","xy","+=","u_subpixel_jitter","*","f",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","as","(","f",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bD","(","al",".","N",",","al",".","P",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","-","bC",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["I","(",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","f",";","}"]}]},exports["main_stack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"TEXTURE_SPEC_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR0_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"TEXTURE_COLOR1_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"PARALLAX",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_PLANE"]},{TYPE:"var",NAME:"TEXTURE_SPEC",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_AS_SPEC",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_STENCIL_ALPHA_MASK",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_STENCIL_ALPHA_MASK_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"NORMAL_TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"DOUBLE_SIDED_LIGHTING",TOKENS:["0"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"WETTABLE",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"PARALLAX_LOD_DIST",TOKENS:["5.0"]},{TYPE:"var",NAME:"PARALLAX_STEPS",TOKENS:["5.0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"var",NAME:"SSAO_ONLY",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"caustics.glslf"}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_sun_quaternion",";","uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC","ALPHA_AS_SPEC",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_specmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_normalmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap1",";","uniform","sampler2D","u_stencil0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";","uniform","float","u_specular_alpha",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_reflect_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_diffuse_color_factor",";","uniform","float","u_alpha_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_specular_color_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_parallax_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_refr_bump",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";","GLSL_IN","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bw",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","B",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bx",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","u",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","v",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","m",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"shadow.glslf"}]}}]},{TYPE:"include",FILE:"mirror.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"lighting_nodes.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bp","=","length","(","i",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bq","=","h",".","z","-","WATER_LEVEL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bE","=","A",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","bF","=","normalize","(","j",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing","==","false",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["bF","=","bF",";","else","bF","=","-","bF",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","cross","(","bF",",","k",".","xyz",")","*","k",".","w",";","R","=","normalize","(","R",")",";","vec3","Q","=","cross","(","R",",","bF",")","*","k",".","w",";","mat3","bG","=","mat3","(","Q",",","R",",","bF",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","M","=","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bH","=","normalize","(","T","(","M",",","j",")",")",".","st",";","bH","=","bH","*","vec2","(","0.495",")","+","vec2","(","0.5",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","bp","<","PARALLAX_LOD_DIST",")","{","float","bI","=","clamp","(","0.5","*","(","PARALLAX_LOD_DIST","-","bp",")",",","0.0",",","1.0",")",";","float","bJ","=","u_parallax_scale","*","bI",";","vec3","bK","=","normalize","(","bw","*","bG",")",";","float","bL","=","1.0","/","PARALLAX_STEPS",";","vec2","bM","=","bK",".","xy","*","bJ","/","(","PARALLAX_STEPS","*","bK",".","z",")",";","float","bN","=","1.0",";","float","bO",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bP","=","bH",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bP","=","bE",";"]}]}}]},{TYPE:"txt",TOKENS:["bO","=","GLSL_TEXTURE","(","u_normalmap0",",","bP",")",".","a",";","for","(","float","bQ","=","1.0",";","bQ","<=","PARALLAX_STEPS",";","bQ","++",")","{","if","(","bO","<","bN",")","{","bN","-=","bL",";","bP","-=","bM",";","bO","=","GLSL_TEXTURE","(","u_normalmap0",",","bP",")",".","a",";","}","}","vec2","bR","=","bP","+","bM",";","float","bS","=","GLSL_TEXTURE","(","u_normalmap0",",","bR",")",".","a","-","(","bN","+","bL",")",";","float","bT","=","bO","-","bN",";","float","bU","=","bT","/","(","bT","-","bS",")",";","bP","=","bU","*","bR","+","(","1.0","-","bU",")","*","bP",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bE","+=","bP","-","bH",";"]}]}}]},{TYPE:"txt",TOKENS:["bH","=","bP",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bH","+=","bP","-","bE",";"]}]}}]},{TYPE:"txt",TOKENS:["bE","=","bP",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bV",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bV","=","GLSL_TEXTURE","(","u_normalmap0",",","bH",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bV","=","GLSL_TEXTURE","(","u_normalmap0",",","bE",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","bW","=","bV",".","rgb","-","0.5",";","bW","=","mix","(","vec3","(","0.0",",","0.0",",","1.0",")",",","bW",",","u_normal_factor",")",";","vec3","P","=","bG","*","bW",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","P","=","bF",";"]}]}}]},{TYPE:"txt",TOKENS:["P","=","normalize","(","P",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bH","=","normalize","(","T","(","M",",","P",")",")",".","st",";","bH","=","bH","*","vec2","(","0.495",")","+","vec2","(","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","C","=","normalize","(","bw",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bX","=","bx",";","bY","(","bX",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bZ","=","vec4","(","bX",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bZ","=","u_diffuse_color",";"]}]}}]},{TYPE:"txt",TOKENS:["float","b_","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ca","=","GLSL_TEXTURE","(","u_colormap0",",","bH",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ca","=","GLSL_TEXTURE","(","u_colormap0",",","bE",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bY","(","ca",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR1_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cb","=","GLSL_TEXTURE","(","u_colormap1",",","bH",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cb","=","GLSL_TEXTURE","(","u_colormap1",",","bE",")",";"]}]}}]},{TYPE:"txt",TOKENS:["bY","(","cb",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cc","=","GLSL_TEXTURE","(","u_stencil0",",","bH",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cc","=","GLSL_TEXTURE","(","u_stencil0",",","bE",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ca","=","mix","(","ca",",","cb",",","cc",".","r",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bZ",".","rgb","=","mix","(","bZ",".","rgb",",","ca",".","rgb",",","u_diffuse_color_factor",")",";","float","L","=","u_alpha_factor","*","ca",".","a",";","L","+=","(","1.0","-","step","(","0.0",",","L",")",")",";","bZ",".","a","=","mix","(","L",",","1.0",",","u_diffuse_color",".","a",")",";","b_","=","ca",".","a",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bZ",".","rgb","*=","mix","(","vec3","(","1.0",")",",","ca",".","rgb",",","u_diffuse_color_factor",")",";","bZ",".","a","=","ca",".","a",";","b_","=","ca",".","a",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aG","=","bZ",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cd","=","u_diffuse_intensity","*","bZ",".","rgb",";","vec3","cf","=","u_environment_energy","*","ce","(","P",")",";","vec3","cg","=","u_ambient","*","cf",";","vec4","bs","=","ch","(","cd",")",";","vec3","ci","=","u_emit","*","bZ",".","rgb",";","vec3","cj","=","u_specular_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_AS_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ck","=","vec3","(","b_",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_SPEC_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ck","=","GLSL_TEXTURE","(","u_specmap0",",","bH",")",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ck","=","GLSL_TEXTURE","(","u_specmap0",",","bE",")",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["bY","(","ck",".","rgb",")",";","cj","=","mix","(","cj",",","ck",",","u_specular_color_factor",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","cl","=","u_specular_params","[","0","]",";","vec2","cm","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","cn","=","cl","*","cj",";","vec3","aG",";","vec3","co",";","cp","(","ci",",","cg",",","cd",",","cn",",","h",",","P",",","C",",","cm",",","u_diffuse_params",",","bs",",","0.0",",","vec4","(","0.0",")",",","aG",",","co",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cq","(","aG",",","C",",","P",",","u_reflect_factor",",","M",")",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cq","(","aG",",","C",",","P",",","u_reflect_factor",",","mat3","(","0.0",")",")",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cq","(","aG",",","C",",","P",",","u_mirror_factor",",","mat3","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aG","+=","co",";"]}]}}]},{TYPE:"txt",TOKENS:["float","J","=","bZ",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WETTABLE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aG","=","max","(","aG","-","sqrt","(","0.01","*","-","min","(","bq",",","0.0",")",")",",","0.5","*","aG",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bt","(","aG",",","bq",",","u_time",",","bs",",","P",",","u_sun_direction",",","u_sun_intensity",",","u_sun_quaternion",",","h",",","bp",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","J","<","0.5",")","discard",";","J","=","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","co",".","r",",","co",".","g",")",",","co",".","b",")","*","u_specular_alpha",";","J","=","bZ",".","a","*","(","1.0","-","t",")","+","t",";"]}]}}]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","cr","=","-","(","T","(","M",",","P",")",")",".","xy",";","aG","=","mix","(","cs","(","l",",","cr","*","u_refr_bump",")",",","aG",",","J",")",";","J","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bu","(","aG",",","bp",",","C",",","bq",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bu","(","aG",",","bp",",","C",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_ONLY","SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bv","=","GLSL_TEXTURE_PROJ","(","u_shadow_mask",",","l",")",".","a",";","aG","=","vec3","(","bv",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aM","(","aG",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aN","(","aG",",","J",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aG",",","J",")",";","}"]}]},exports["particle_system.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"NORMAL_TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_STRENGTH",TOKENS:["0.25"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"CAMERA_TYPE",TOKENS:["CAM_TYPE_PERSP"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"USE_DERIVATIVES_EXT",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_DERIVATIVES_EXT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","NODES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","float","u_time",";","uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_FRESNEL","USE_NODE_LAYER_WEIGHT",{TYPE:"logical_or_expr",PLACES:2},"CAMERA_TYPE","CAM_TYPE_ORTHO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_direction",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_VIEW_TSR",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";","uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_OBJECT_INFO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_obj_info",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","i",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","j",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"particles_nodes.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec3","C","=","normalize","(","u_camera_eye_frag","-","h",")",";","vec3","D",";","vec3","E",";","vec3","F",";","vec4","G",";","float","H",";","I","(","C",",","D",",","E",",","F",",","G",",","H",")",";","vec3","aG","=","D",";","float","J","=","H",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","J","<","0.5",")","discard",";","J","=","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","min","(","1.0",",","J",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bu","(","aG",",","length","(","i",")",",","C",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ct","=","-","i",".","z","/","u_view_max_depth",";","vec4","cu","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","l",")",";","float","cw","=","cv","(","cu",")",";","float","cx","=","cw","-","ct",";","float","cy","=","u_view_max_depth","/","SOFT_STRENGTH","*","cx",";","J","=","J","*","min","(","cy",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aM","(","aG",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aN","(","aG",",","J",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aG",",","J",")",";","}"]}]},exports["particle_system.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"BILLBOARD_ALIGN",TOKENS:["BILLBOARD_ALIGN_VIEW"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"HALO_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"PARTICLES_SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"COLOR_RAMP_LENGTH",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"WORLD_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_COLOR_RAMP",TOKENS:["0"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn_quat",";","GLSL_IN","vec3","a_p_data",";","GLSL_IN","vec4","a_p_vels",";","GLSL_IN","vec2","a_p_bb_vertex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","cz",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bx",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","HALO_PARTICLES","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bw",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","j",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","aU",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_p_color_ramp","[","COLOR_RAMP_LENGTH","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_p_time",";","uniform","float","u_p_length",";","uniform","int","u_p_cyclic",";","uniform","float","u_p_fade_in",";","uniform","float","u_p_fade_out",";","uniform","float","u_p_nfactor",";","uniform","float","u_p_gravity",";","uniform","float","u_p_mass",";","uniform","float","u_p_wind_fac",";","uniform","float","u_p_max_lifetime",";","uniform","float","u_p_tilt",";","uniform","float","u_p_tilt_rand",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_view_refl_matrix",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_wind",";","uniform","float","u_p_size",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WORLD_SPACE",{TYPE:"logic_negative_expr",PLACES:1},"NODES","HALO_PARTICLES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_COLOR_RAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color_ramp_tex",";"]}]}}]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"particles.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"particles_nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["float","cC","(","vec2","cA",",","vec2","cB",")","{","return","(","atan","(","cB",".","y",",","cB",".","x",")","-","atan","(","cA",".","y",",","cA",".","x",")",")",";","}","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","by","=","u_view_refl_matrix",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","by","=","mat4","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","M","=","u_view_tsr",";","cD","pp",";","pp","=","cE","(",")",";","float","cF",";","mat3","aY","=","cG","(",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cH","=","(","by","*","vec4","(","pp",".","N",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cH","=","pp",".","N",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","P","=","O","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_VIEW",")","{","cF","=","pp",".","bm",";","aY","=","aX","(","cH",",","M",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_XY",")","{","cF","=","cC","(","vec2","(","EPSILON",",","1.0",")",",","vec2","(","P",".","x",",","-","P",".","y",")",")","+","pp",".","bm",";","aY","[","0","]","=","cH",";","vec4","cJ","=","cI","(","RIGHT_VECTOR",",","-","M_PI","/","2.0",")",";","aY","=","cK","(","cJ",",","aY",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_YZ",")","{","cF","=","pp",".","bm",";","aY","[","0","]","=","cH",";","vec4","cL","=","cI","(","UP_VECTOR",",","M_PI","/","2.0",")",";","aY","=","cK","(","cL",",","aY",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_ZX",")","{","cF","=","pp",".","bm",";","aY","[","0","]","=","cH",";","}","vec3","bc","=","vec3","(","(","a_p_bb_vertex","[","0","]","*","2.0","-","1.0",")","*","pp",".","cM","*","u_p_size",",","0.0",",","(","a_p_bb_vertex","[","1","]","*","2.0","-","1.0",")","*","pp",".","cM","*","u_p_size",")",";","float","cN","=","a_p_data","[","2","]",";","float","cO","=","u_p_tilt","*","u_p_tilt_rand","*","(","2.0","*","cN","-","1.0",")",";","float","cP","=","(","cO","+","u_p_tilt",")","*","M_PI",";","vec4","cQ","=","cI","(","TOWARD_VECTOR",",","cP","+","cF",")",";","vec3","bd","=","ad","(","aY",",","O","(","cQ",",","bc",")",")",";","vec4","bC","=","vec4","(","ad","(","M",",","bd",")",",","1.0",")",";","vec4","f","=","u_proj_matrix","*","bC",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aU","=","cN",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},"USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","O","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","R","=","sign","(","a_tbn_quat","[","3","]",")","*","cross","(","P",",","Q",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","vec3","(","0.0",")",";","vec3","R","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","cR","=","cG","(",")",";","cQ","=","cI","(","TOWARD_VECTOR",",","cF",")",";","cR","=","cK","(","cQ",",","cR",")",";","aj","al","=","ak","(","vec3","(","0.0",")",",","vec3","(","0.0",")",",","Q",",","vec3","(","0.0",")",",","R",",","vec3","(","0.0",")",",","aO","(","aY",",","cR",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ap","=","(","dot","(","cross","(","P",",","al",".","Q",")",",","al",".","R",")","<","0.0",")","?","-","1.0",":","1.0",";","k","=","vec4","(","al",".","Q",",","ap",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO","USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT",{TYPE:"logical_or_expr",PLACES:11}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["j","=","P",";"]}]}}]},{TYPE:"txt",TOKENS:["I","(","pp",".","N",",","pp",".","cS",",","pp",".","cT",",","pp",".","cU",",","pp",".","cM",",","a_p_bb_vertex",",","a_p_data","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","a_p_bb_vertex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","a_p_bb_vertex","*","2.0","-","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cz","=","pp",".","J",";"]}]}}]},{TYPE:"txt",TOKENS:["bx","=","pp",".","aG",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","as","(","f",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","bC",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","f",";","h","=","bd",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bw","=","u_camera_eye","-","bd",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["particle_system_stack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_STRENGTH",TOKENS:["0.25"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"HALO_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"PARTICLES_SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","NODES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_diffuse_color_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";","uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_halo_size",";","uniform","vec3","u_halo_rings_color",";","uniform","float","u_halo_hardness",";","uniform","vec3","u_halo_lines_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";","uniform","float","u_halo_stars_blend",";","uniform","float","u_halo_stars_height",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_p_alpha_start",";","uniform","float","u_p_alpha_end",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";","uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","HALO_PARTICLES","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","cz",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bx",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bw",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","aU",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","aT",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","B",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"lighting_nodes.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"environment.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"halo_color.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","C","=","normalize","(","bw",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aW","=","aV","(",")",";","vec3","aG","=","aW",".","rgb","*","bx",";","float","cV","=","0.9","*","length","(","A",")",";","float","cW","=","smoothstep","(","u_p_alpha_start",",","u_p_alpha_end",",","cV",")",";","float","J","=","aW",".","a","*","(","1.0","-","cW",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bZ","=","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ca","=","GLSL_TEXTURE","(","u_sampler",",","A",")",";","bY","(","ca",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bZ",".","rgb","=","mix","(","bZ",".","rgb",",","ca",".","rgb",",","u_diffuse_color_factor",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bZ",".","rgb","*=","mix","(","vec3","(","1.0",")",",","ca",".","rgb",",","u_diffuse_color_factor",")",";"]}]}}]},{TYPE:"txt",TOKENS:["bZ",".","a","=","ca",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["bZ",".","rgb","*=","bx",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cd","=","u_diffuse_intensity","*","bZ",".","rgb",";","vec3","ci","=","u_emit","*","bZ",".","rgb",";","vec3","P","=","vec3","(","0.0",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logic_negative_expr",PLACES:1},"SKY_COLOR",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cf","=","u_environment_energy","*","ce","(","vec3","(","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cf","=","u_environment_energy","*","ce","(","P",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","cg","=","u_ambient","*","cf",";","float","cl","=","u_specular_params","[","0","]",";","vec2","cm","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","cn","=","cl","*","u_specular_color",";","vec3","aG",";","vec3","co",";","cp","(","ci",",","cg",",","cd",",","cn",",","h",",","P",",","C",",","cm",",","u_diffuse_params",",","vec4","(","1.0",")",",","0.0",",","vec4","(","0.0",")",",","aG",",","co",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aG","=","bZ",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["float","J","=","bZ",".","a","*","cz",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","J","<","0.5",")","discard",";","J","=","1.0",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bu","(","aG",",","length","(","i",")",",","C",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ct","=","-","i",".","z","/","u_view_max_depth",";","vec4","cu","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","l",")",";","float","cw","=","cv","(","cu",")",";","float","cx","=","cw","-","ct",";","float","cy","=","u_view_max_depth","/","SOFT_STRENGTH","*","cx",";","J","=","J","*","min","(","cy",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aM","(","aG",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aN","(","aG",",","J",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aG",",","J",")",";","}"]}]},exports["proc_skybox.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","vec3","u_sky_color",";","uniform","vec3","u_sun_direction",";","uniform","float","u_rayleigh_brightness",";","uniform","float","u_mie_brightness",";","uniform","float","u_spot_brightness",";","uniform","float","u_scatter_strength",";","uniform","float","u_rayleigh_strength",";","uniform","float","u_mie_strength",";","uniform","float","u_rayleigh_collection_power",";","uniform","float","u_mie_collection_power",";","uniform","float","u_mie_distribution",";","GLSL_IN","vec3","cX",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","const","float","cY","=","0.99",";","const","float","cZ","=","1.8",";","const","int","c_","=","8",";","float","de","(","vec3","N",",","vec3","be",")","{","float","a","=","dot","(","be",",","be",")",";","float","b","=","2.0","*","dot","(","be",",","N",")",";","float","da","=","dot","(","N",",","N",")","-","1.0",";","float","db","=","b","*","b","-","4.0","*","a","*","da",";","float","dc","=","sqrt","(","db",")",";","float","q","=","(","-","b","-","dc",")","/","2.0",";","float","dd","=","da","/","q",";","return","dd",";","}","float","dg","(","float","J",",","float","g",")","{","float","a","=","3.0","*","(","1.0","-","g","*","g",")",";","float","b","=","2.0","*","(","2.0","+","g","*","g",")",";","float","da","=","1.0","+","J","*","J",";","float","df","=","pow","(","1.0","+","g","*","g","-","2.0","*","g","*","J",",","1.5",")",";","df","=","max","(","df",",","0.00001",")",";","return","(","a","/","b",")","*","(","da","/","df",")",";","}","float","dl","(","vec3","N",",","vec3","be",",","float","dh",")","{","float","di","=","dot","(","be",",","-","N",")",";","if","(","di","<","0.0",")","{","return","1.0",";","}","vec3","dj","=","N","+","di","*","be",";","if","(","length","(","dj",")","<","dh",")","{","return","0.0",";","}","else","if","(","length","(","dj",")",">=","dh",")","{","vec3","cB","=","normalize","(","dj",")","*","dh","-","N",";","float","dk","=","acos","(","dot","(","normalize","(","cB",")",",","be",")",")",";","return","smoothstep","(","0.0",",","1.0",",","pow","(","dk","*","2.0",",","3.0",")",")",";","}","else","return","1.0",";","}","vec3","dm","(","float","aC",",","vec3","aG",",","float","aB",")","{","return","aG","-","aG","*","pow","(","u_sky_color",",","vec3","(","aB","/","aC",")",")",";","}","void","main","(",")","{","vec3","dn","=","normalize","(","cX",")",";","vec3","dp","=","u_sun_direction",";","float","J","=","dot","(","dn",",","dp",")",";","float","dq","=","dg","(","J",",","-","0.01",")","*","u_rayleigh_brightness","*","dp",".","z",";","float","dr","=","dg","(","J","-","0.5",",","u_mie_distribution",")","*","u_mie_brightness","*","(","1.0","-","dp",".","z",")",";","float","ds","=","smoothstep","(","0.0",",","100.0",",","dg","(","J",",","0.9995",")",")","*","u_spot_brightness",";","vec3","dt","=","vec3","(","0.0",",","0.0",",","cY",")",";","float","du","=","de","(","dt",",","dn",")",";","float","dv","=","du","/","float","(","c_",")",";","float","dw","=","dl","(","dt",",","dn",",","cY","-","0.3",")",";","vec3","dx","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","dy","=","vec3","(","0.0",",","0.0",",","0.0",")",";","for","(","int","bQ","=","0",";","bQ","<","c_",";","bQ","++",")","{","float","dz","=","dv","*","float","(","bQ",")",";","vec3","N","=","dt","+","dn","*","dz",";","float","dA","=","dl","(","N",",","dp",",","cY","-","0.2",")",";","float","dB","=","de","(","N",",","dp",")",";","vec3","dC","=","dm","(","dB",",","vec3","(","cZ",")",",","u_scatter_strength",")","*","dA",";","dx","+=","dm","(","sqrt","(","dz",")",",","u_sky_color","*","dC",",","u_rayleigh_strength",")",";","dy","+=","dm","(","dz",",","dC",",","u_mie_strength",")",";","}","dx","=","dx","*","dw","*","pow","(","du",",","u_rayleigh_collection_power",")","/","float","(","c_",")",";","dy","=","(","dy","*","dw","*","pow","(","du",",","u_mie_collection_power",")",")","/","float","(","c_",")",";","vec3","aG","=","vec3","(","ds","*","dy","+","dr","*","dy","+","dq","*","dx",")",";","aM","(","aG",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aG",",","1.0",")",";","}"]}]},exports["shadow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"CAMERA_TYPE",TOKENS:["CAM_TYPE_PERSP"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"var",NAME:"USE_DERIVATIVES_EXT",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_DERIVATIVES_EXT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_FRESNEL","USE_NODE_LAYER_WEIGHT",{TYPE:"logical_or_expr",PLACES:2},"CAMERA_TYPE","CAM_TYPE_ORTHO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_direction",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_VIEW_TSR",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap0",";","uniform","float","u_alpha_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_OBJECT_INFO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_obj_info",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";","GLSL_IN","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","u",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","v",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","B",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"shadow.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","C","=","normalize","(","u_camera_eye_frag","-","h",")",";","vec3","D",";","vec3","E",";","vec3","F",";","vec4","G",";","float","H",";","I","(","C",",","D",",","E",",","F",",","G",",","H",")",";","float","J","=","H",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","(","GLSL_TEXTURE","(","u_colormap0",",","A",")",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","u_alpha_factor","*","J",";","L","+=","(","1.0","-","step","(","0.0",",","L",")",")",";","J","=","mix","(","L",",","1.0",",","u_diffuse_color",".","a",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","u_diffuse_color",".","a",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["if","(","J","<","0.5",")","discard",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","NO_SHADOWS",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","dD","(","i",".","z",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR",".","a","*=","clamp","(","k",".","r",",","0.999999999",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["shadow.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN",TOKENS:["0"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"SMAA_JITTER",TOKENS:["0"]},{TYPE:"var",NAME:"MAC_OS_SHADOW_HACK",TOKENS:["0"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"HAIR_BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_TEX_RES",TOKENS:["2048.0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM_MIX_NORMALS_FACTOR",TOKENS:["u_va_frame_factor"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat_next",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";","GLSL_OUT","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","k",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","u",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","v",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","B",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_shadow_cast_billboard_view_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_offset",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_v_light_tsr","[","NUM_CAST_LAMPS","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_v_light_ts","[","NUM_CAST_LAMPS","]",";","uniform","vec4","u_v_light_r","[","NUM_CAST_LAMPS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"include",FILE:"dynamic_grass.glslv"},{TYPE:"include",FILE:"shadow.glslv"},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","M","=","u_view_tsr",";","vec3","N","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_NO","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:13}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bz","=","O","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","vec3","P","=","bz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","P","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA","CALC_TBN_SPACE",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","O","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","R","=","sign","(","a_tbn_quat","[","3","]",")","*","cross","(","P",",","Q",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","vec3","(","0.0",")",";","vec3","R","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["N","=","mix","(","N",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","X","=","O","(","a_tbn_quat_next",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","P","=","mix","(","P",",","X",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Y","=","O","(","a_tbn_quat_next",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","Z","=","sign","(","a_tbn_quat_next","[","3","]",")","*","cross","(","X",",","Y",")",";","Q","=","mix","(","Q",",","Y",",","u_va_frame_factor",")",";","R","=","mix","(","R",",","Z",",","u_va_frame_factor",")",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["_","(","N",",","Q",",","R",",","P",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","S","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","aO","(","u_model_tsr",",","S",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","S","=","u_model_tsr",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","a_part_ts",".","xyz",";","N","=","ad","(","S",",","N",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","U","=","normalize","(","T","(","S",",","bz",")",")",";","vec3","V","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","U",")",";","vec3","W","=","cross","(","U",",","V",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","W","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","W","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aj","al","=","aP","(","N",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","P",",","ac",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","M",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ae","=","ad","(","S",",","ac",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HAIR_BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","dE","=","u_shadow_cast_billboard_view_tsr",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","dE","=","M",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","af","(","u_camera_eye",",","ae",",","dE",",","S",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","ah","(","u_camera_eye",",","ae",",","dE",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["S","=","ai","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","ae",",","S",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aj","al","=","ak","(","N","-","ac",",","ac",",","vec3","(","0.0",")",",","W",",","vec3","(","0.0",")",",","P",",","S",")",";","al",".","ac","=","ae",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aj","al","=","ak","(","N",",","ac",",","vec3","(","0.0",")",",","W",",","vec3","(","0.0",")",",","P",",","S",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","an","=","bz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","an","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["am","(","al",".","N",",","al",".","ac",",","an",",","mat4","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["h","=","al",".","N",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO","USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:12}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["j","=","al",".","P",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ap","=","(","dot","(","cross","(","al",".","P",",","al",".","Q",")",",","al",".","R",")","<","0.0",")","?","-","1.0",":","1.0",";","k","=","vec4","(","al",".","Q",",","ap",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["B","=","al",".","aq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec4","bC","=","vec4","(","ad","(","M",",","al",".","N",")",",","1.0",")",";","vec4","f","=","u_proj_matrix","*","bC",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f",".","xy","+=","u_subpixel_jitter","*","f",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","as","(","f",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","-","bC",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["I","(",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","ao","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bD","(","al",".","N",",","al",".","P",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","bC",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","dF","=","(","u_proj_matrix","*","vec4","(","M","[","0","]",",","1.0",")",")",".","xy",";","float","dG","=","SHADOW_TEX_RES","/","2.0",";","dF","=","floor","(","dF","*","dG","+","0.5",")","/","dG","-","dF",";","f",".","xy","+=","dF",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","f",";","}"]}]},exports["sky.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYREAL",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"var",NAME:"PROCEDURAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYPAPER",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";","uniform","vec4","u_underwater_fog_color_density",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND","WO_SKYPAPER",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_sky_tex_fac",";","uniform","vec3","u_sky_tex_color",";","uniform","float","u_sky_tex_dvar",";","uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND","WO_SKYPAPER","WO_SKYTEX",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"sky_blending.glslf"}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","cX",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec3","dH",";","vec3","dn","=","normalize","(","cX",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND","WO_SKYPAPER",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","dI","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dI","=","abs","(","A",".","y",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dI","=","(","A",".","y","+","1.0",")","*","0.5",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","dJ","=","u_horizon_color",";","vec3","dK","=","u_zenith_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dL","=","vec3","(","A",",","0.0",")",";","vec4","dM","=","GLSL_TEXTURE_CUBE","(","u_sky",",","dn",")",";","bY","(","dM",".","rgb",")",";","dH","=","dN","(","dJ",",","dK",",","dM",",","dI",",","dL",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dH","=","mix","(","dJ",",","dK",",","dI",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dH","=","GLSL_TEXTURE_CUBE","(","u_sky",",","dn",")",".","rgb",";","bY","(","dH",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","dO","=","WATER_LEVEL","-","u_camera_eye_frag",".","z",";","vec3","dP","=","vec3","(","0.0",")",";","vec3","dQ","=","mix","(","u_underwater_fog_color_density",".","rgb",",","dP",",","min","(","-","dn",".","z",",","1.0",")",")",";","dQ","*=","min","(","1.0","-","min","(","0.03","*","dO",",","0.8",")",",","1.0",")",";","float","aB","=","clamp","(","sign","(","0.01","*","dO","-","dn",".","z",")",",","0.0",",","1.0",")",";","dH","=","mix","(","dH",",","dQ",",","aB",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aM","(","dH",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","dH",",","1.0",")",";","}"]}]},exports["sky.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PROCEDURAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","mat4","u_sky_vp_inverse",";","GLSL_IN","vec3","a_position",";","GLSL_OUT","vec3","cX",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec4","N","=","vec4","(","a_position",".","xy",",","0.9999999",",","1.0",")",";","vec4","dn","=","u_sky_vp_inverse","*","N",";","cX","=","dn",".","xyz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","a_position",".","xy",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","N",";","}"]}]},exports["skybox.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PROCEDURAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_view_matrix",";","GLSL_IN","vec3","a_position",";","GLSL_OUT","vec3","cX",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec4","N","=","vec4","(","a_position",".","xy",",","0.999999",",","1.0",")",";","vec4","dn","=","u_cube_view_matrix","*","N",";","cX","=","dn",".","xyz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","a_position",".","xy",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","N",";","}"]}]},exports["tex_skybox.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYREAL",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYPAPER",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","GLSL_IN","vec3","cX",";","GLSL_IN","vec2","A",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_sky_tex_fac",";","uniform","vec3","u_sky_tex_color",";","uniform","float","u_sky_tex_dvar",";","uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"sky_blending.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec3","dn","=","normalize","(","cX",")",";","vec3","dH",";","float","dI","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYPAPER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dH","=","GLSL_TEXTURE_CUBE","(","u_sky_texture",",","dn",")",".","xyz",";","bY","(","dH",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dH","=","vec3","(","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","acos","(","dn",".","z",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dI","=","abs","(","J","*","INV_PI","-","0.5",")","*","2.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dI","=","1.0","-","J","*","INV_PI",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec3","dJ","=","u_horizon_color",";","vec3","dK","=","u_zenith_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","dM","=","GLSL_TEXTURE_CUBE","(","u_sky_texture",",","dn",")",";","bY","(","dM",".","rgb",")",";","vec3","dL","=","vec3","(","cX",".","xy",",","0.0",")",";","dH","=","dN","(","dJ",",","dK",",","dM",",","dI",",","dL",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dH","=","mix","(","dJ",",","dK",",","dI",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dH","=","dJ",";"]}]}}]}]}}]}]}}]},{TYPE:"txt",TOKENS:["aM","(","dH",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","dH",",","1.0",")",";","}"]}]},exports["water.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"NORM_FOAM0",TOKENS:["0"]},{TYPE:"var",NAME:"NORM_FOAM1",TOKENS:["0"]},{TYPE:"var",NAME:"NORM_FOAM2",TOKENS:["0"]},{TYPE:"var",NAME:"NORM_FOAM3",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_WIREFRAME",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_NORMALMAPS",TOKENS:["0"]},{TYPE:"var",NAME:"FOAM",TOKENS:["0"]},{TYPE:"var",NAME:"SHORE_PARAMS",TOKENS:["0"]},{TYPE:"var",NAME:"GENERATED_MESH",TOKENS:["0"]},{TYPE:"var",NAME:"ABSORB",TOKENS:["6.0"]},{TYPE:"var",NAME:"SSS_STRENGTH",TOKENS:["1.0"]},{TYPE:"var",NAME:"SSS_WIDTH",TOKENS:["0.45"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"WAVES_HEIGHT",TOKENS:["1.0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"SHORE_SMOOTHING",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"REFL_BUMP",TOKENS:["0.002"]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHORE_SMOOTHING","WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_normalmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_foam",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";","uniform","float","u_ambient",";","uniform","vec4","u_fresnel_params",";","uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";","uniform","vec3","u_shallow_water_col",";","uniform","vec3","u_shore_water_col",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_water_norm_uv_velocity",";","uniform","vec2","u_normalmap0_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap1_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap2_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap3_scale",";"]}]}}]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_reflect_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_water_shallow_col_fac",";","uniform","float","u_water_shore_col_fac",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_foam_factor",";","uniform","vec2","u_foam_uv_freq",";","uniform","vec2","u_foam_mag",";","uniform","vec2","u_foam_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_refr_bump",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","au","=","1.0",";","uniform","vec3","u_wireframe_edge_color",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bw",";","GLSL_IN","vec3","h",";","GLSL_IN","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","k",";","GLSL_IN","vec3","dR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH","DYNAMIC",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","dS",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","dT",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","m",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","at",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","B",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","SHORE_SMOOTHING","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["vec3","ed","(","in","vec2","dU",",","in","vec3","P",",","in","vec3","C",",","in","vec3","dV",",","out","float","dW",")","{","dW","=","0.0",";","vec3","dX","=","reflect","(","-","C",",","P",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","dY","=","dU",".","xy","+","P",".","xy","*","REFL_BUMP","/","m",";","dW","=","u_reflect_factor",";","vec3","dZ",";","if","(","u_cam_water_depth","<","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dZ","=","u_underwater_fog_color_density",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dZ","=","u_diffuse_color",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","{","dZ","=","GLSL_TEXTURE","(","u_plane_reflection",",","dY",")",".","rgb",";","bY","(","dZ",")",";","}"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dW","=","u_mirror_factor",";","vec3","dZ","=","dV","*","GLSL_TEXTURE_CUBE","(","u_mirrormap",",","dX",")",".","rgb",";","bY","(","dZ",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dW","=","u_reflect_factor",";","vec3","dZ","=","dV","*","vec3","(","0.3",",","0.5",",","1.0",")",";","bY","(","dZ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","d_","=","normalize","(","dX","+","C",")",";","float","ea","=","1.0","-","dot","(","C",",","d_",")",";","float","eb","=","u_fresnel_params","[","3","]",";","float","ec","=","u_fresnel_params","[","2","]",";","float","r","=","eb","+","(","1.0","-","eb",")","*","pow","(","ea",",","ec",")",";","dW","=","min","(","dW","*","r",",","1.0",")",";","return","dZ",";","}"]},{TYPE:"include",FILE:"lighting_nodes.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","bG","=","mat3","(","k",",","dR",",","j",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","P","=","normalize","(","j",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC","FOAM",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bq","=","h",".","z","-","WATER_LEVEL",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bq","=","h",".","z",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bE","=","vec2","(","dS",".","x",",","-","dS",".","y",")","+","0.5",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bE","=","vec2","(","h",".","x",",","-","h",".","y",")","+","0.5",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bE","=","A",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ee","=","vec3","(","0.0",")",";","vec3","ef","=","GLSL_TEXTURE","(","u_normalmap0",",","bE","*","u_normalmap0_scale","+","vec2","(","0.3",",","0.5",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","ee","+=","ef",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eg","=","vec3","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM0"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eg","+=","ef",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ef","=","GLSL_TEXTURE","(","u_normalmap0",",","bE","*","u_normalmap1_scale","+","vec2","(","-","0.3",",","0.7",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","ee","+=","ef",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eg","+=","ef",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ef","=","GLSL_TEXTURE","(","u_normalmap0",",","bE","*","u_normalmap2_scale","+","vec2","(","0.0",",","1.1",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","ee","+=","ef",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eg","+=","ef",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ef","=","GLSL_TEXTURE","(","u_normalmap0",",","bE","*","u_normalmap3_scale","+","vec2","(","-","0.66",",","-","0.3",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";","ee","+=","ef",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORM_FOAM3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eg","+=","ef",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eh","=","bG","*","eg",";","if","(","!","ei","(","eh",",","vec3","(","0.0",")",")",")","eh","=","normalize","(","eh",")",";","vec3","ej","=","mix","(","P",",","eh",",","0.2",")",";","ej","=","normalize","(","ej",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["P","=","mix","(","P",",","normalize","(","bG","*","ee",")",",","0.3",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["P","=","mix","(","P",",","normalize","(","bG","*","ee",")",",","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["P","=","normalize","(","P",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","C","=","normalize","(","bw",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","dU","=","l",".","xy","/","l",".","z",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ek","=","dU","+","P",".","xy","*","u_refr_bump","/","m",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","u_diffuse_color",".","a",";","vec4","cu","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","l",")",";","float","cw","=","cv","(","cu",")",";","float","cx","=","max","(","cw","-","m",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","em","=","el","(","cw",",","ek",",","dU",")",";","float","en","=","max","(","em","-","m",",","0.0",")",";","float","eo","=","u_view_max_depth","/","ABSORB","*","en",";","float","ep","=","min","(","J","*","eo",",","1.0",")",";","J","=","min","(","15.0","*","J","*","u_view_max_depth","*","cx",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cy","=","u_view_max_depth","/","ABSORB","*","cx",";","if","(","u_cam_water_depth",">","0.0",")","J","=","min","(","J","*","cy",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","u_diffuse_color",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ep","=","J",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_cam_water_depth","<","0.0",")","ep","=","0.0",";","vec3","eq","=","GLSL_TEXTURE","(","u_refractmap",",","ek",")",".","rgb",";","bY","(","eq",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","er","=","pow","(","min","(","dT",".","b","/","u_water_shallow_col_fac",",","1.0",")",",","0.3",")",";","vec3","bZ","=","mix","(","u_shallow_water_col",",","u_diffuse_color",".","rgb",",","er",")",";","er","=","pow","(","min","(","dT",".","b","/","u_water_shore_col_fac",",","1.0",")",",","0.3",")",";","bZ","=","mix","(","u_shore_water_col",",","bZ",",","er",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bZ","=","u_diffuse_color",".","rgb",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","es","=","max","(","1.0","-","u_view_max_depth","*","cx",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","es","=","1.0","-","J",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","et","=","max","(","bq","/","WAVES_HEIGHT","+","0.1",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eu","=","normalize","(","vec3","(","dT",".","rg",",","0.0",")",")",";","vec3","ev","=","normalize","(","mix","(","UP_VECTOR",",","eu",",","0.8",")",")",";","float","ew","=","1.25","*","max","(","dot","(","ej",",","ev",")","-","0.2",",","0.0",")",";","ew","+=","max","(","dot","(","ej",",","-","UP_VECTOR",")",",","0.0",")",";","es","+=","ew","*","(","1.0","-","dT",".","b",")",";","et","*=","(","1.0","-","0.95","*","pow","(","dT",".","b",",","0.1",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["es","+=","et",";","es","=","min","(","u_foam_factor","*","es",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","ex","=","GLSL_TEXTURE","(","u_foam",",","u_foam_mag","*","sin","(","u_foam_uv_freq","*","u_time",")","+","bE","*","u_foam_scale",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","cl","=","u_specular_params","[","0","]",";","vec2","cm","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","cn","=","cl","*","u_specular_color",";","vec3","cf","=","u_environment_energy","*","ce","(","P",")",";","vec3","cg","=","u_ambient","*","cf",";","vec3","dV","=","cg","+","u_sun_intensity",";","float","dW",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dZ","=","ed","(","dU",",","P",",","C",",","dV",",","dW",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dZ","=","ed","(","vec2","(","0.0",")",",","P",",","C",",","dV",",","dW",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","cd","=","u_diffuse_intensity","*","bZ",";","vec3","aG",";","vec3","co",";","cp","(","vec3","(","0.0",")",",","vec3","(","0.0",")",",","cd",",","cn",",","h",",","P",",","C",",","cm",",","u_diffuse_params",",","vec4","(","1.0",")",",","0.0",",","vec4","(","0.0",")",",","aG",",","co",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ey","=","max","(","dot","(","u_sun_direction",",","-","j",")","+","SSS_WIDTH",",","0.0",")","*","max","(","dot","(","-","C",",","u_sun_direction",")","-","0.5",",","0.0",")","*","max","(","0.0",",","length","(","u_sun_intensity",")","-","0.1",")",";","ey","=","clamp","(","SSS_STRENGTH","*","ey",",","0.0",",","1.0",")",";","aG","=","mix","(","aG",",","u_shallow_water_col",",","ey",")",";","aG","=","mix","(","aG",",","u_shore_water_col",",","ey",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aG","=","mix","(","eq",",","aG",",","ep",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aG","=","mix","(","aG",",","dZ",",","dW",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ez","=","mix","(","ex",".","g",",","ex",".","r",",","max","(","4.0","*","(","es","-","0.75",")",",","0.0",")",")",";","ez","=","mix","(","ex",".","b",",","ez",",","max","(","2.0","*","es","-","1.0",",","0.0",")",")",";","ez","=","mix","(","0.0",",","ez",",","es",")",";","aG","=","mix","(","aG",",","dV",",","ez",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aG","+=","co",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eA","=","m","*","u_view_max_depth",";","float","eB","=","1.0",";","if","(","u_cam_water_depth",">","1.0",")","eB","=","2.0",";","bu","(","aG",",","eA",",","C",",","eB",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aM","(","aG",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","max","(","J",",","co",".","r",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","+=","ez",";"]}]}}]}]}},{TYPE:"elif",EXPRESSION:["SHORE_SMOOTHING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aN","(","aG",",","J",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"txt",TOKENS:["vec3","aD","=","fwidth","(","at",")",";","vec3","aE","=","smoothstep","(","vec3","(","0.0",")",",","aD","*","au",",","at",")",";","float","eC","=","min","(","min","(","aE",".","x",",","aE",".","y",")",",","aE",".","z",")",";","eC","=","clamp","(","eC",",","0.0",",","1.0",")",";","aG","=","mix","(","u_wireframe_edge_color",",","aG",",","eC",")",";","J","=","mix","(","1.0",",","J",",","eC",")",";"]}]}},{TYPE:"elif",EXPRESSION:["DEBUG_WIREFRAME",2,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aC","=","sign","(","at","-","vec3","(","0.02","*","au",")",")",";","float","eC","=","1.0",";","if","(","aC",".","x","<","0.0","||","aC",".","y","<","0.0","||","aC",".","z","<","0.0",")","eC","=","0.0",";","aG","=","mix","(","u_wireframe_edge_color",",","aG",",","eC",")",";","J","=","mix","(","1.0",",","J",",","eC",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aG",",","J",")",";","}"]}]},exports["water.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_WIREFRAME",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_NORMALMAPS",TOKENS:["0"]},{TYPE:"var",NAME:"FOAM",TOKENS:["0"]},{TYPE:"var",NAME:"SHORE_PARAMS",TOKENS:["0"]},{TYPE:"var",NAME:"MAX_SHORE_DIST",TOKENS:["100.0"]},{TYPE:"var",NAME:"SHORE_MAP_SIZE_X",TOKENS:["1.0"]},{TYPE:"var",NAME:"SHORE_MAP_SIZE_Y",TOKENS:["1.0"]},{TYPE:"var",NAME:"SHORE_MAP_CENTER_X",TOKENS:["0.0"]},{TYPE:"var",NAME:"SHORE_MAP_CENTER_Y",TOKENS:["0.0"]},{TYPE:"var",NAME:"GENERATED_MESH",TOKENS:["0"]},{TYPE:"var",NAME:"DST_NOISE_SCALE_0",TOKENS:["0.05"]},{TYPE:"var",NAME:"DST_NOISE_SCALE_1",TOKENS:["0.03"]},{TYPE:"var",NAME:"DST_NOISE_FREQ_0",TOKENS:["1.3"]},{TYPE:"var",NAME:"DST_NOISE_FREQ_1",TOKENS:["1.0"]},{TYPE:"var",NAME:"DIR_MIN_SHR_FAC",TOKENS:["0.4"]},{TYPE:"var",NAME:"DIR_FREQ",TOKENS:["0.5"]},{TYPE:"var",NAME:"DIR_NOISE_SCALE",TOKENS:["0.05"]},{TYPE:"var",NAME:"DIR_NOISE_FREQ",TOKENS:["0.07"]},{TYPE:"var",NAME:"DIR_MIN_NOISE_FAC",TOKENS:["0.5"]},{TYPE:"var",NAME:"DST_MIN_FAC",TOKENS:["0.2"]},{TYPE:"var",NAME:"WAVES_HOR_FAC",TOKENS:["5.0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WAVES_HEIGHT",TOKENS:["1.0"]},{TYPE:"var",NAME:"WAVES_LENGTH",TOKENS:["10.0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"SHORE_SMOOTHING",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},"DYNAMIC",{TYPE:"logic_negative_expr",PLACES:1},"NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_quat",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},"NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_polyindex",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bw",";","GLSL_OUT","vec3","h",";","GLSL_OUT","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","k",";","GLSL_OUT","vec3","dR",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH","DYNAMIC",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","dS",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","dT",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","m",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","at",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","B",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_time",";","uniform","vec3","u_wind",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shore_dist_map",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eJ","(","in","vec2","eD",")","{","vec2","eE","=","0.5","+","vec2","(","(","eD",".","x","-","SHORE_MAP_CENTER_X",")","/","SHORE_MAP_SIZE_X",",","(","eD",".","y","-","SHORE_MAP_CENTER_Y",")","/","SHORE_MAP_SIZE_Y",")",";","vec4","eF","=","GLSL_TEXTURE","(","u_shore_dist_map",",","eE",")",";","const","vec2","eG","=","vec2","(","1.0","/","255.0",",","1.0",")",";","float","eH","=","dot","(","eF",".","ba",",","eG",")",";","vec2","eI","=","normalize","(","eF",".","rg","*","2.0","-","1.0",")",";","return","vec3","(","eI",",","eH",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMALL_WAVES_FAC",TOKENS:["0.2"]},{TYPE:"txt",TOKENS:["void","eY","(","inout","vec3","eD",",","in","float","eK",",","in","vec3","eF",")","{","float","eM","=","eL","(","DST_NOISE_SCALE_0","*","(","eD",".","xy","+","DST_NOISE_FREQ_0","*","eK",")",")","*","eL","(","DST_NOISE_SCALE_1","*","(","eD",".","yx","-","DST_NOISE_FREQ_1","*","eK",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eN","=","WAVES_LENGTH","/","MAX_SHORE_DIST","/","M_PI",";","float","eH","=","eF",".","b",";","float","eO","=","sqrt","(","eH",")",";","float","eP","=","max","(","eH",",","DIR_MIN_SHR_FAC",")","*","sin","(","eO","/","eN","+","DIR_FREQ","*","eK",")",";","float","eQ","=","max","(","eL","(","DIR_NOISE_SCALE","*","(","eD",".","xy","+","DIR_NOISE_FREQ","*","eK",")",")",",","DIR_MIN_NOISE_FAC",")",";","eP","*=","eQ",";","float","eR","=","WAVES_HEIGHT","*","mix","(","eP",",","eM",",","max","(","eO",",","DST_MIN_FAC",")",")",";","vec2","eI","=","eF",".","rg",";","float","eS","=","WAVES_HOR_FAC","*","eP","*","max","(","MAX_SHORE_DIST","/","35.0","*","(","0.05","-","eH",")",",","0.0",")",";","vec2","eT","=","eS","*","eI",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eR","=","WAVES_HEIGHT","*","eM",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","eU","=","1.0","*","(","eD",".","xy","-","0.3","*","eK",")",";","vec2","eV","=","0.7","*","(","eD",".","yx","+","0.07","*","eK",")",";","float","eX","=","eW","(","eU",")",".","x","+","eW","(","eV",")",".","x","-","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eD",".","xy","+=","eT",";","eX","*=","eH",";"]}]}}]},{TYPE:"txt",TOKENS:["eR","+=","SMALL_WAVES_FAC","*","eX",";"]}]}}]},{TYPE:"txt",TOKENS:["eD",".","z","+=","eR",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","a_polyindex","==","0.0",")","at","=","vec3","(","1.0",",","0.0",",","0.0",")",";","else","if","(","a_polyindex","==","1.0",")","at","=","vec3","(","0.0",",","0.0",",","1.0",")",";","else","at","=","vec3","(","0.0",",","1.0",",","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","N","=","a_position",";","float","eZ","=","abs","(","N",".","z",")",";","vec2","e_","=","u_camera_eye",".","xy","-","mod","(","u_camera_eye",".","xy",",","eZ",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["N",".","z","=","WATER_LEVEL",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["N",".","z","=","0.0",";"]}]}}]},{TYPE:"txt",TOKENS:["N",".","xy","+=","e_",";","vec3","bA","=","N",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","a_texcoord",";"]}]}}]},{TYPE:"txt",TOKENS:["aj","al","=","ak","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","u_model_tsr",")",";","vec3","bA","=","al",".","N",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dT","=","eJ","(","bA",".","xy",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fa","=","length","(","u_wind",")",";","if","(","fa","==","0.0",")","fa","=","1.0",";","float","fb","=","u_time",";","fb","*=","fa",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fc","=","eZ",";","vec3","fd","=","bA","+","vec3","(","fc",",","0.0",",","0.0",")",";","vec3","fe","=","bA","+","vec3","(","0.0",",","fc",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dS","=","bA",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","fd","=","bA","+","vec3","(","0.05",",","0.0",",","0.0",")",";","vec3","fe","=","bA","+","vec3","(","0.0",",","0.05",",","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ff","=","eJ","(","fd",".","xy",")",";","vec3","fg","=","eJ","(","fe",".","xy",")",";","eY","(","fd",",","fb",",","ff",")",";","eY","(","fe",",","fb",",","fg",")",";","eY","(","bA",",","fb",",","dT",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eY","(","fd",",","fb",",","vec3","(","0.0",")",")",";","eY","(","fe",",","fb",",","vec3","(","0.0",")",")",";","eY","(","bA",",","fb",",","vec3","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","a_position",".","z","<","0.0",")","{","bA",".","z","=","WATER_LEVEL","-","1.0",";","fd",".","z","=","bA",".","z",";","fe",".","z","=","bA",".","z",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec3","fh","=","normalize","(","fd","-","bA",")",";","vec3","Q","=","normalize","(","fe","-","bA",")",";","j","=","normalize","(","cross","(","fh",",","Q",")",")",";","float","fi","=","dot","(","j",",","UP_VECTOR",")",";","float","aB","=","clamp","(","0.8","-","fi",",","0.0",",","1.0",")",";","j","=","mix","(","j",",","UP_VECTOR",",","aB",")",";"]}]}},{TYPE:"elif",EXPRESSION:["GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["j","=","O","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["j","=","vec3","(","0.0",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","O","(","a_tbn_quat",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Q","=","vec3","(","1.0",",","0.0",",","0.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["k","=","Q",";","dR","=","cross","(","j",",","k",")",";"]}]}}]},{TYPE:"txt",TOKENS:["h","=","bA",";","bw","=","u_camera_eye","-","bA",";","vec4","bC","=","vec4","(","ad","(","u_view_tsr",",","bA",")",",","1.0",")",";","vec4","f","=","u_proj_matrix","*","bC",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fj","=","f",".","x",";","float","fk","=","f",".","y",";","float","fl","=","f",".","w",";","l",".","x","=","(","fj","+","fl",")","/","2.0",";","l",".","y","=","(","fk","+","fl",")","/","2.0",";","l",".","z","=","fl",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","-","bC",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","f",";","}"]}]},exports["postprocessing/antialiasing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"AA_METHOD",TOKENS:["AA_METHOD_FXAA_LIGHT"]},{TYPE:"var",NAME:"AA_QUALITY",TOKENS:["AA_QUALITY_LOW"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","vec2","u_texel_size",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_REDUCE_MIN",TOKENS:["(","1.0","/","128.0",")"]},{TYPE:"define",NAME:"FXAA_REDUCE_MUL",TOKENS:["(","1.0","/","8.0",")"]},{TYPE:"define",NAME:"FXAA_SPAN_MAX",TOKENS:["8.0"]},{TYPE:"txt",TOKENS:["vec4","fn","(","float","x",",","float","y",")","{","vec2","fm","=","A","+","vec2","(","x",",","y",")","*","u_texel_size",";","return","GLSL_TEXTURE","(","u_color",",","fm",")",";","}","vec4","fG","(",")","{","vec4","fo","=","fn","(","-","1.0",",","-","1.0",")",";","vec4","fp","=","fn","(","1.0",",","-","1.0",")",";","vec4","fq","=","fn","(","-","1.0",",","1.0",")",";","vec4","fr","=","fn","(","1.0",",","1.0",")",";","vec4","fs","=","fn","(","0.0",",","0.0",")",";","float","fu","=","ft","(","fs",")",";","float","fv","=","ft","(","fo",")",";","float","fw","=","ft","(","fp",")",";","float","fx","=","ft","(","fq",")",";","float","fy","=","ft","(","fr",")",";","float","fz","=","min","(","fu",",","min","(","min","(","fv",",","fw",")",",","min","(","fx",",","fy",")",")",")",";","float","fA","=","max","(","fu",",","max","(","max","(","fv",",","fw",")",",","max","(","fx",",","fy",")",")",")",";","vec2","be",";","be",".","x","=","-","(","(","fv","+","fw",")","-","(","fx","+","fy",")",")",";","be",".","y","=","(","(","fv","+","fx",")","-","(","fw","+","fy",")",")",";","float","fB","=","max","(","(","fv","+","fw","+","fx","+","fy",")","*","(","0.25","*","FXAA_REDUCE_MUL",")",",","FXAA_REDUCE_MIN",")",";","float","fC","=","1.0","/","(","min","(","abs","(","be",".","x",")",",","abs","(","be",".","y",")",")","+","fB",")",";","be","=","min","(","vec2","(","FXAA_SPAN_MAX",",","FXAA_SPAN_MAX",")",",","max","(","vec2","(","-","FXAA_SPAN_MAX",",","-","FXAA_SPAN_MAX",")",",","be","*","fC",")",")","*","u_texel_size",";","vec4","fD","=","0.5","*","(","GLSL_TEXTURE","(","u_color",",","A","+","be","*","(","1.0","/","3.0","-","0.5",")",")","+","GLSL_TEXTURE","(","u_color",",","A","+","be","*","(","2.0","/","3.0","-","0.5",")",")",")",";","vec4","fE","=","fD","*","0.5","+","0.25","*","(","GLSL_TEXTURE","(","u_color",",","A","+","be","*","-","0.5",")","+","GLSL_TEXTURE","(","u_color",",","A","+","be","*","0.5",")",")",";","float","fF","=","ft","(","fE",")",";","if","(","(","fF","<","fz",")","||","(","fF",">","fA",")",")","return","fD",";","else","return","fE",";","}"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_QUALITY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GREEN_AS_LUMA",TOKENS:["1"]},{TYPE:"include",FILE:"fxaa.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_QUALITY","AA_QUALITY_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["39"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["1.00"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.063"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0312"]}]}},{TYPE:"elif",EXPRESSION:["AA_QUALITY","AA_QUALITY_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["20"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["0.65"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.166"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0625"]}]}},{TYPE:"elif",EXPRESSION:["AA_QUALITY","AA_QUALITY_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["0.50"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.166"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0833"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","fG","(",")",";"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_QUALITY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","fH","=","u_texel_size",";","GLSL_OUT_FRAG_COLOR","=","fI","(","A",",","u_color",",","fH",",","FXAA_QUALITY_SUBPIX",",","FXAA_QUALITY_EDGE_THRESHOLD",",","FXAA_QUALITY_EDGE_THRESHOLD_MIN",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/bloom_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","uniform","sampler2D","u_color",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec2","eY","=","vec2","(","0.0",",","0.0",")",";","vec2","cx","=","u_texel_size",";","vec4","fJ","=","GLSL_TEXTURE","(","u_color",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","fJ","*","0.0875447373698",";","eY","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")","*","0.0858112354248",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")","*","0.0858112354248",";","eY","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")","*","0.0808139781061",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")","*","0.0808139781061",";","eY","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")","*","0.0731235112908",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")","*","0.0731235112908",";","eY","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")","*","0.0635705267419",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")","*","0.0635705267419",";","eY","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")","*","0.0530985673112",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")","*","0.0530985673112",";","eY","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")","*","0.0426125984122",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")","*","0.0426125984122",";","eY","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")","*","0.0328565115809",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")","*","0.0328565115809",";","eY","+=","cx",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")","*","0.0243407024472",";","GLSL_OUT_FRAG_COLOR","+=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")","*","0.0243407024472",";","GLSL_OUT_FRAG_COLOR","=","max","(","0.7","*","fJ",",","GLSL_OUT_FRAG_COLOR",")",";","}"]}]},exports["postprocessing/bloom_combine.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_bloom",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","fK","=","GLSL_TEXTURE","(","u_main",",","A",")",";","vec4","fL","=","GLSL_TEXTURE","(","u_bloom",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","fK","+","fL",";","}"]}]},exports["postprocessing/coc.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"COC_TYPE",TOKENS:["COC_ALL"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","sampler2D","u_depth",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_coc_fg",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_view_max_depth",";","uniform","float","u_dof_dist",";","uniform","float","u_dof_front_start",";","uniform","float","u_dof_front_end",";","uniform","float","u_dof_rear_start",";","uniform","float","u_dof_rear_end",";","uniform","vec2","u_camera_range",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","aG","=","GLSL_TEXTURE","(","u_color",",","A",")",";","if","(","u_dof_dist",">","0.0",")","{","float","fN","=","fM","(","u_depth",",","A",",","u_camera_range",")",";","fN","*=","u_view_max_depth",";","float","fO","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","fP","=","GLSL_TEXTURE","(","u_coc_fg",",","A",")",";","float","fQ","=","fP",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","fN","<","u_dof_dist",")","fO","=","(","u_dof_dist","-","fN","-","u_dof_front_start",")","/","(","u_dof_front_end","-","u_dof_front_start",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_FOREGROUND",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","fO","=","(","fN","-","u_dof_dist","-","u_dof_rear_start",")","/","(","u_dof_rear_end","-","u_dof_rear_start",")",";"]}]}}]},{TYPE:"txt",TOKENS:["fO","=","clamp","(","fO",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["fO","=","max","(","fO",",","fQ",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_FOREGROUND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","fO",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aG",".","xyz","*","fO",",","fO",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","GLSL_OUT_FRAG_COLOR","=","vec4","(","aG",".","xyz",",","0.0",")",";","}"]}]},exports["postprocessing/compositing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","float","u_brightness",";","uniform","float","u_contrast",";","uniform","float","u_exposure",";","uniform","float","u_saturation",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","fR","=","GLSL_TEXTURE","(","u_color",",","A",")",";","vec3","aG","=","fR",".","rgb",";","if","(","u_brightness","<","0.0",")","aG","=","aG","*","(","1.0","+","u_brightness",")",";","else","aG","=","aG","+","(","(","1.0","-","aG",")","*","u_brightness",")",";","aG","=","(","aG","-","0.5",")","*","(","tan","(","(","u_contrast","+","1.0",")","*","M_PI_4",")",")","+","0.5",";","aG","*=","u_exposure",";","float","cZ","=","ft","(","vec4","(","aG",",","0.0",")",")",";","aG","=","mix","(","vec3","(","cZ",")",",","aG",",","u_saturation",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aG",",","fR",".","a",")",";","}"]}]},exports["postprocessing/depth_pack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","vec2","u_camera_range",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","fS","(","clamp","(","fM","(","u_depth",",","A",",","u_camera_range",")",",","0.0",",","0.999999",")",")",";","}"]}]},exports["postprocessing/dof.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"DOF_TYPE",TOKENS:["DOF_SIMPLE"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOF_TYPE","DOF_BOKEH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","highp","sampler2D","u_sharp",";","uniform","highp","sampler2D","u_blurred1",";","uniform","highp","sampler2D","u_blurred2",";","uniform","float","u_dof_dist",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sharp",";","uniform","sampler2D","u_blurred",";","uniform","sampler2D","u_depth",";","uniform","float","u_view_max_depth",";","uniform","float","u_dof_dist",";","uniform","float","u_dof_front_end",";","uniform","float","u_dof_rear_end",";","uniform","vec2","u_camera_range",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","fT","=","GLSL_TEXTURE","(","u_sharp",",","A",")",";","if","(","u_dof_dist",">","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOF_TYPE","DOF_BOKEH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fO",";","vec4","fU","=","GLSL_TEXTURE","(","u_blurred1",",","A",")",";","vec4","fV","=","GLSL_TEXTURE","(","u_blurred2",",","A",")",";","vec4","fW","=","min","(","fU",".","rgba",",","fV",".","rgba",")",";","fO","=","fW",".","a",";","if","(","fO",">","0.0",")","{","fW","=","vec4","(","fW",".","rgb","/","fO",",","fT",".","a",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","fT",",","fW",",","min","(","fO","*","5.0",",","1.0",")",")",";","}","else","GLSL_OUT_FRAG_COLOR","=","fT",";"]}]}},{TYPE:"elif",EXPRESSION:["DOF_TYPE","DOF_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fN","=","fM","(","u_depth",",","A",",","u_camera_range",")",";","fN","*=","u_view_max_depth",";","float","fX",";","if","(","fN","<","u_dof_dist",")","fX","=","(","u_dof_dist","-","fN",")","/","u_dof_front_end",";","else","fX","=","(","fN","-","u_dof_dist",")","/","u_dof_rear_end",";","fX","=","clamp","(","fX",",","0.0",",","1.0",")",";","vec4","fY","=","GLSL_TEXTURE","(","u_blurred",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","fT",",","fY",",","fX",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","fT",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","GLSL_OUT_FRAG_COLOR","=","fT",";","}"]}]},exports["postprocessing/glow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_src_color",";","uniform","sampler2D","u_glow_mask_small",";","uniform","sampler2D","u_glow_mask_large",";","uniform","float","u_glow_mask_small_coeff",";","uniform","float","u_glow_mask_large_coeff",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","fZ","=","GLSL_TEXTURE","(","u_src_color",",","A",")",";","vec4","f_","=","GLSL_TEXTURE","(","u_glow_mask_small",",","A",")",";","vec4","gc","=","GLSL_TEXTURE","(","u_glow_mask_large",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","fZ",";","if","(","gc",".","a","!=","0.0",")","{","float","gd","=","u_glow_mask_large_coeff","*","gc",".","a",";","gd","=","clamp","(","gd",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","mix","(","GLSL_OUT_FRAG_COLOR",".","rgb",",","gc",".","rgb","/","gc",".","a",",","gd",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","mix","(","GLSL_OUT_FRAG_COLOR",".","a",",","1.0",",","gd",")",";","}","if","(","f_",".","a","!=","0.0",")","{","float","ge","=","u_glow_mask_small_coeff","*","f_",".","a",";","ge","=","clamp","(","ge",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","mix","(","GLSL_OUT_FRAG_COLOR",".","rgb",",","f_",".","rgb","/","f_",".","a",",","ge",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","mix","(","GLSL_OUT_FRAG_COLOR",".","a",",","1.0",",","ge",")",";","}","}"]}]},exports["postprocessing/god_rays.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"DEPTH_RGBA",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"STEPS_PER_PASS",TOKENS:["10.0"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_radial_blur_step",";","uniform","sampler2D","u_input",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_camera_range",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","gf",";","GLSL_IN","vec2","gh",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";","GLSL_IN","vec4","gi",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec2","cx","=","(","gi",".","xy","-","A",")",";","float","aC","=","length","(","cx",")",";","vec2","gj","=","u_radial_blur_step","*","cx","/","aC",";","float","gk","=","aC","/","u_radial_blur_step",";","gj","*=","min","(","gk",",","STEPS_PER_PASS",")","/","STEPS_PER_PASS",";","gk","=","max","(","gk",",","STEPS_PER_PASS",")",";","vec2","gl","=","A",";","float","gm","=","0.0",";","const","int","gn","=","int","(","STEPS_PER_PASS",")",";","int","go","=","int","(","gk","+","0.5",")",";","for","(","int","bQ","=","0",";","bQ","<","gn",";","bQ","+=","1",")","{","if","(","bQ","<=","go",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fN","=","fM","(","u_input",",","gl",",","u_camera_range",")",";","gm","+=","max","(","(","1.0","-","pow","(","aC",",","0.3",")",")","*","step","(","0.9",",","fN",")",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","gp","=","GLSL_TEXTURE","(","u_input",",","gl",")",";","gm","+=","cv","(","gp",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","gl","+=","gj",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bE","=","A","+","gh",";","float","gq","=","eW","(","vec2","(","2.5","*","(","bE",".","x",")",",","2.5","*","(","bE",".","y",")","+","1.0","*","u_time",")",")",".","x","+","0.75","*","eW","(","vec2","(","5.0","*","(","bE",".","x",")","-","0.66","*","u_time",",","5.0","*","(","bE",".","y",")","+","0.66","*","u_time",")",")",".","x","+","0.5","*","eL","(","vec2","(","7.5","*","(","bE",".","x",")","+","0.33","*","u_time",",","7.5","*","(","bE",".","y",")","-","0.33","*","u_time",")",")",";","gq","*=","clamp","(","1.2","-","sqrt","(","0.2","*","aC",")",",","0.0",",","1.0",")","*","gf",";","gm","=","max","(","gq",",","gm",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","fS","(","gm","/","STEPS_PER_PASS",")",";","}"]}]},exports["postprocessing/god_rays.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DEPTH_RGBA",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["uniform","mat4","u_view_proj_matrix",";","uniform","vec3","u_sun_direction",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_camera_quat",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_bb_vertex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","gf",";","GLSL_OUT","vec2","gh",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";","GLSL_OUT","vec4","gi",";","void","main","(",")","{","A","=","a_bb_vertex",";","vec3","be","=","normalize","(","u_sun_direction",")",";","gi","=","u_view_proj_matrix","*","vec4","(","be",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_cam_water_depth","<","0.0",")","{","gf","=","1.0",";","vec3","gs","=","vec3","(","0.0",",","1.0",",","0.0",")",";","vec3","gt","=","O","(","u_camera_quat",",","gs",")",";","gt","=","normalize","(","gt",")",";","float","gu","=","dot","(","gt",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","float","gv","=","atan","(","gt",".","x",",","gt",".","z",")",";","gh","=","vec2","(","-","gv",",","acos","(","gu",")",")",";","}","else","{","gf","=","0.0",";","}"]}]}}]},{TYPE:"txt",TOKENS:["gi",".","xy","=","0.5","*","(","gi",".","xy","/","gi",".","w","+","1.0",")",";","gi","+=","99999.0","*","step","(","gi",".","z",",","0.0",")",";","gl_Position","=","vec4","(","2.0","*","a_bb_vertex",".","xy","-","1.0",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/god_rays_combine.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SAFARI_CANVAS_ALPHA_HACK",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_god_rays",";","uniform","float","u_god_rays_intensity",";","uniform","vec3","u_sun_intensity",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gw","=","GLSL_TEXTURE","(","u_main",",","A",")",";","vec3","gx","=","clamp","(","u_sun_intensity",",","0.4",",","0.8",")",";","bY","(","gw",".","rgb",")",";","float","gy","=","cv","(","GLSL_TEXTURE","(","u_god_rays",",","A",")",")",";","vec3","gz","=","gw",".","rgb","+","u_god_rays_intensity","*","vec3","(","gy",")","*","gx",";","aM","(","gz",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SAFARI_CANVAS_ALPHA_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","gz",",","max","(","0.01",",","gw",".","a",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","gz",",","gw",".","a",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/luminance.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_input",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","fK","=","GLSL_TEXTURE","(","u_input",",","A",")",";","float","gA","=","dot","(","fK",".","rgb",",","vec3","(","0.2126",",","0.7152",",","0.0722",")",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","vec3","(","gA",")",",","1.0",")",";","}"]}]},exports["postprocessing/luminance_av.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_input",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","gA",";","float","gB","=","0.0",";","float","w","=","0.025",";","float","bO","=","0.025",";","for","(","int","bQ","=","0",";","bQ","<","20",";","bQ","+=","1",")","{","bO","=","0.025",";","for","(","int","gC","=","0",";","gC","<","20",";","gC","+=","1",")","{","gA","=","max","(","GLSL_TEXTURE","(","u_input",",","vec2","(","w",",","bO",")",")",".","r",",","0.01",")",";","gB","+=","log","(","gA",")",";","bO","+=","0.05",";","}","w","+=","0.05",";","}","float","gD","=","exp","(","gB","/","400.0",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","vec3","(","gD",")",",","1.0",")",";","}"]}]},exports["postprocessing/luminance_trunced.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_luminance",";","uniform","sampler2D","u_average_lum",";","uniform","float","u_bloom_edge_lum",";","GLSL_IN","vec2","A",";","GLSL_IN","float","gE",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","gD","=","GLSL_TEXTURE","(","u_average_lum",",","vec2","(","0.5",")",")",".","r",";","float","gF","=","GLSL_TEXTURE","(","u_luminance",",","A",")",".","r",";","vec4","aG","=","GLSL_TEXTURE","(","u_main",",","A",")",";","float","gG","=","gF","/","gD",";","float","gH","=","u_bloom_edge_lum",";","GLSL_OUT_FRAG_COLOR","=","aG","*","max","(","gG","-","gH",",","0.0",")","*","gE",";","}"]}]},exports["postprocessing/luminance_trunced.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec4","u_camera_quat",";","uniform","vec3","u_sun_direction",";","uniform","float","u_bloom_key",";","GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","A",";","GLSL_OUT","float","gE",";","void","gP","(","in","vec4","gI",",","in","vec3","gJ",",","out","vec3","gK",")","{","float","gL","=","gI",".","w","*","gJ",".","x","+","gI",".","y","*","gJ",".","z","-","gI",".","z","*","gJ",".","y",";","float","gM","=","gI",".","w","*","gJ",".","y","+","gI",".","z","*","gJ",".","x","-","gI",".","x","*","gJ",".","z",";","float","gN","=","gI",".","w","*","gJ",".","z","+","gI",".","x","*","gJ",".","y","-","gI",".","y","*","gJ",".","x",";","float","gO","=","-","gI",".","x","*","gJ",".","x","-","gI",".","y","*","gJ",".","y","-","gI",".","z","*","gJ",".","z",";","gK",".","x","=","gL","*","gI",".","w","-","gO","*","gI",".","x","-","gM","*","gI",".","z","+","gN","*","gI",".","y",";","gK",".","y","=","gM","*","gI",".","w","-","gO","*","gI",".","y","-","gN","*","gI",".","x","+","gL","*","gI",".","z",";","gK",".","z","=","gN","*","gI",".","w","-","gO","*","gI",".","z","-","gL","*","gI",".","y","+","gM","*","gI",".","x",";","}","void","main","(",")","{","A","=","2.0","*","a_position",";","vec3","gt",";","gP","(","u_camera_quat",",","UP_VECTOR",",","gt",")",";","gE","=","dot","(","-","gt",",","u_sun_direction",")","*","u_bloom_key",";","gE","*=","max","(","sign","(","u_sun_direction",".","z",")",",","0.0",")",";","gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/motion_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_mb_tex_curr",";","uniform","sampler2D","u_mb_tex_accum",";","uniform","float","u_motion_blur_exp",";","uniform","float","u_motion_blur_decay_threshold",";","float","gQ","=","0.0042",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gR","=","GLSL_TEXTURE","(","u_mb_tex_curr",",","A",")",";","vec4","gS","=","GLSL_TEXTURE","(","u_mb_tex_accum",",","A",")",";","if","(","length","(","gR","-","gS",")",">","u_motion_blur_decay_threshold",")","{","vec4","gT","=","(","1.0","-","u_motion_blur_exp",")","*","gR","+","u_motion_blur_exp","*","gS",";","vec4","gU","=","gT","-","gS",";","vec4","gV","=","gR","-","gS",";","vec4","cx","=","min","(","max","(","abs","(","gU",")",",","vec4","(","gQ",")",")",",","abs","(","gV",")",")","*","sign","(","gU",")",";","GLSL_OUT_FRAG_COLOR","=","gS","+","cx",";","}","else","{","GLSL_OUT_FRAG_COLOR","=","gR",";","}","}"]}]},exports["postprocessing/outline.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_outline_src",";","uniform","sampler2D","u_outline_mask",";","uniform","sampler2D","u_outline_mask_blurred",";","uniform","vec3","u_outline_color",";","uniform","float","u_draw_outline",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gW","=","GLSL_TEXTURE","(","u_outline_src",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","gW",";","if","(","u_draw_outline","!=","0.0",")","{","vec4","gX","=","GLSL_TEXTURE","(","u_outline_mask",",","A",")",";","vec4","gY","=","GLSL_TEXTURE","(","u_outline_mask_blurred",",","A",")",";","float","gZ","=","gY",".","a","-","gX",".","a",";","if","(","gZ","!=","0.0",")","{","float","g_","=","smoothstep","(","0.0",",","1.0",",","gY",".","a",")",";","if","(","gX",".","a","==","0.0",")","{","vec3","ha","=","u_outline_color",";","aM","(","ha",")",";","vec4","hb","=","vec4","(","clamp","(","ha",",","0.0",",","1.0",")",",","1.0",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","gW",",","hb",",","g_",")",";","}","}","}","}"]}]},exports["postprocessing/performance.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","aG","=","vec4","(","0.0",")",";","for","(","int","bQ","=","0",";","bQ","<","10",";","bQ","++",")","{","vec2","hc","=","vec2","(","fract","(","A","*","vec2","(","bQ",")","*","vec2","(","1.431",",","3.921",")",")",")",";","aG","+=","0.01","*","GLSL_TEXTURE","(","u_color",",","hc",")",";","}","GLSL_OUT_FRAG_COLOR","=","aG",";","}"]}]},exports["postprocessing/postprocessing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"POST_EFFECT",TOKENS:["POST_EFFECT_NONE"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","uniform","sampler2D","u_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","FLIP_CUBEMAP_COORDS",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_tex_number",";","uniform","vec2","u_delta",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","POST_EFFECT_DOF_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_dof_bokeh_intensity",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","POST_EFFECT_NONE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","A",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_GRAYSCALE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","da","=","GLSL_TEXTURE","(","u_color",",","A",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","vec3","(","(","da",".","r","+","da",".","g","+","da",".","b",")","/","3.0",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","1.0",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","eY","=","vec2","(","0.0",",","0.0",")",";","vec2","cx","=","u_texel_size",";","vec4","aG",";","aG","=","GLSL_TEXTURE","(","u_color",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","aG","*","0.2270270270",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","0.1945945946",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","0.1945945946",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","0.1216216216",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","0.1216216216",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","0.0540540541",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","0.0540540541",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","0.0162162162",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","0.0162162162",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_GLOW_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","eY","=","vec2","(","0.0",",","0.0",")",";","vec2","cx","=","u_texel_size",";","vec4","aG",";","aG","=","GLSL_TEXTURE","(","u_color",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.152507",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.141763",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.141763",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.113861",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.113861",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.079019",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.079019",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.047383",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.047383",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.024549",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.024549",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.01099",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.01099",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.00425",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.00425",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.00142",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","GLSL_OUT_FRAG_COLOR","+=","aG","*","(","1.0","-","step","(","0.0",",","-","aG",".","a",")",")","*","0.00142",";","GLSL_OUT_FRAG_COLOR","=","clamp","(","GLSL_OUT_FRAG_COLOR",",","0.0",",","1.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_DOF_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","eY","=","vec2","(","0.0",",","0.0",")",";","vec2","cx","=","u_texel_size",";","vec4","aG",";","vec4","hd",";","vec4","he",";","float","fO",";","float","hf","=","u_dof_bokeh_intensity",";","aG","=","GLSL_TEXTURE","(","u_color",",","A",")",";","hd","=","aG",";","he","=","aG",";","fO","=","aG",".","a",";","cx","=","fO","*","cx",";","for","(","int","bQ","=","0",";","bQ","<","12",";","bQ","+=","2",")","{","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","hd","+=","aG",";","he","=","max","(","he",",","aG",")",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","hd","+=","aG",";","he","=","max","(","he",",","aG",")",";","}","hd","/=","13.0",";","GLSL_OUT_FRAG_COLOR","=","mix","(","hd",",","he",",","hf",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_ALPHA_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","eY","=","vec2","(","0.0",",","0.0",")",";","vec2","cx","=","u_texel_size",";","vec4","aG",";","vec4","hd",";","vec4","he",";","aG","=","GLSL_TEXTURE","(","u_color",",","A",")",";","he","=","max","(","he",",","aG",")",";","hd","=","aG",";","hd",".","a","=","aG",".","a","*","0.2270270270",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","he",".","a","=","max","(","he",".","a",",","aG",".","a",")",";","hd",".","a","+=","aG",".","a","*","0.1945945946",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","he",".","a","=","max","(","he",".","a",",","aG",".","a",")",";","hd",".","a","+=","aG",".","a","*","0.1945945946",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","he",".","a","=","max","(","he",".","a",",","aG",".","a",")",";","hd",".","a","+=","aG",".","a","*","0.1216216216",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","he",".","a","=","max","(","he",".","a",",","aG",".","a",")",";","hd",".","a","+=","aG",".","a","*","0.1216216216",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","he",".","a","=","max","(","he",".","a",",","aG",".","a",")",";","hd",".","a","+=","aG",".","a","*","0.0540540541",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","he",".","a","=","max","(","he",".","a",",","aG",".","a",")",";","hd",".","a","+=","aG",".","a","*","0.0540540541",";","eY","+=","cx",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","eY",")",";","he",".","a","=","max","(","he",".","a",",","aG",".","a",")",";","hd",".","a","+=","aG",".","a","*","0.0162162162",";","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","eY",")",";","he",".","a","=","max","(","he",".","a",",","aG",".","a",")",";","hd",".","a","+=","aG",".","a","*","0.0162162162",";","GLSL_OUT_FRAG_COLOR","=","mix","(","hd",",","he",",","0.5",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_EXTEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","cx","=","u_texel_size",";","vec4","aG","=","GLSL_TEXTURE","(","u_color",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","aG",";","if","(","aG",".","a","==","0.0",")","{","aG","=","GLSL_TEXTURE","(","u_color",",","A","+","cx",")",";","if","(","aG",".","a",">","0.0",")","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","aG",".","a",")",";","else","{","aG","=","GLSL_TEXTURE","(","u_color",",","A","-","cx",")",";","if","(","aG",".","a",">","0.0",")","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","aG",".","a",")",";","}","}"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","FLIP_CUBEMAP_COORDS",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","hg","=","u_delta","[","0","]",";","float","hh","=","u_delta","[","1","]",";","float","hi","=","1.0","/","3.0",";","float","hj","=","0.5",";","vec2","hk","=","vec2","(","hi",",","hj",")",";","if","(","u_tex_number","==","0",")","{","vec2","bE","=","mat2","(","0.0",",","-","1.0",",","1.0",",","0.0",")","*","A","*","hk","+","vec2","(","2.0","*","hi",",","hj",")",";","bE","[","0","]","=","max","(","bE","[","0","]",",","2.0","*","hi","+","hg",")",";","bE","[","1","]","=","max","(","bE","[","1","]",",","hh",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bE","[","0","]",",","hj","-","bE","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","1",")","{","vec2","bE","=","mat2","(","0.0",",","-","1.0",",","1.0",",","0.0",")","*","A","*","hk","+","vec2","(","0.0",",","hj",")",";","bE","[","0","]","=","max","(","bE","[","0","]",",","hg",")",";","bE","[","1","]","=","min","(","bE","[","1","]",",","hj","-","hh",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","hi","-","bE","[","0","]",",","bE","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","2",")","{","vec2","bE","=","A","*","hk","+","vec2","(","2.0","*","hi",",","hj",")",";","bE","[","0","]","=","max","(","bE","[","0","]",",","2.0","*","hi","+","hg",")",";","bE","[","1","]","=","min","(","bE","[","1","]",",","1.0","-","hh",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bE","[","0","]",",","1.5","-","bE","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","3",")","{","vec2","bE","=","A","*","hk","+","vec2","(","hi",",","0.0",")",";","bE","[","0","]","=","max","(","bE","[","0","]",",","hi","+","hg",")",";","bE","[","0","]","=","min","(","bE","[","0","]",",","2.0","*","hi","-","hg",")",";","bE","[","1","]","=","min","(","bE","[","1","]",",","hj","-","hh",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","1.0","-","bE","[","0","]",",","bE","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","4",")","{","vec2","bE","=","A","*","hk","+","vec2","(","hi",",","hj",")",";","bE","[","0","]","=","max","(","bE","[","0","]",",","hi","+","hg",")",";","bE","[","0","]","=","min","(","bE","[","0","]",",","2.0","*","hi","-","hg",")",";","bE","[","1","]","=","min","(","bE","[","1","]",",","1.0","-","hh",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bE","[","0","]",",","3.0","*","hj","-","bE","[","1","]",")",")",";","}","else","{","vec2","bE","=","A","*","hk","+","vec2","(","0.0",",","hj",")",";","bE","[","0","]","=","max","(","bE","[","0","]",",","hg",")",";","bE","[","1","]","=","min","(","bE","[","1","]",",","1.0","-","hh",")",";","bE","[","1","]","=","max","(","bE","[","1","]",",","hj","+","hh",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","hi","-","bE","[","0","]",",","bE","[","1","]",")",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/postprocessing.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","A",";","void","main","(",")","{","A","=","2.0","*","a_position",";","gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/smaa.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SMAA_PASS",TOKENS:["SMAA_RESOLVE"]},{TYPE:"var",NAME:"SMAA_REPROJECTION",TOKENS:["0"]},{TYPE:"var",NAME:"SMAA_PREDICATION",TOKENS:["0"]},{TYPE:"var",NAME:"AA_METHOD",TOKENS:["AA_METHOD_SMAA_LOW"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color_prev",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_blend",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_velocity_tex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2},"SMAA_PREDICATION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_predication_tex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_search_tex",";","uniform","sampler2D","u_area_tex",";","uniform","vec4","u_subsample_indices",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","GLSL_IN","vec2","A",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","hl",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","hm",";","GLSL_IN","vec4","hn",";","GLSL_IN","vec4","ho",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","hp",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.15"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_DISABLE_CORNER_DETECTION",TOKENS:["1"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_DISABLE_CORNER_DETECTION",TOKENS:["1"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["0"]},{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["8"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_ULTRA",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.05"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["0"]},{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["16"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_DEPTH_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_DEPTH_THRESHOLD",TOKENS:["(","0.1","*","SMAA_THRESHOLD",")"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["8"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_CORNER_ROUNDING",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR",TOKENS:["2.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_THRESHOLD",TOKENS:["0.01"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_SCALE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_SCALE",TOKENS:["2.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_STRENGTH",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_STRENGTH",TOKENS:["0.4"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_REPROJECTION",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_REPROJECTION",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_REPROJECTION_WEIGHT_SCALE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_REPROJECTION_WEIGHT_SCALE",TOKENS:["30.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}}]},{TYPE:"define",NAME:"SMAA_AREATEX_MAX_DISTANCE",TOKENS:["16"]},{TYPE:"define",NAME:"SMAA_AREATEX_MAX_DISTANCE_DIAG",TOKENS:["20"]},{TYPE:"define",NAME:"SMAA_AREATEX_PIXEL_SIZE",TOKENS:["(","1.0","/","vec2","(","160.0",",","560.0",")",")"]},{TYPE:"define",NAME:"SMAA_AREATEX_SUBTEX_SIZE",TOKENS:["(","1.0","/","7.0",")"]},{TYPE:"define",NAME:"SMAA_SEARCHTEX_SIZE",TOKENS:["vec2","(","66.0",",","33.0",")"]},{TYPE:"define",NAME:"SMAA_SEARCHTEX_PACKED_SIZE",TOKENS:["vec2","(","64.0",",","16.0",")"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING_NORM",TOKENS:["(","float","(","SMAA_CORNER_ROUNDING",")","/","100.0",")"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ht","(","vec2","bE",",","sampler2D","hq",")","{","float","p","=","GLSL_TEXTURE","(","hq",",","bE",")",".","r",";","float","hr","=","GLSL_TEXTURE","(","hq",",","hm",".","xy",")",".","r",";","float","hs","=","GLSL_TEXTURE","(","hq",",","hm",".","zw",")",".","r",";","return","vec3","(","p",",","hr",",","hs",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hx","(","vec2","bE",",","sampler2D","hu",")","{","vec3","hv","=","ht","(","bE",",","hu",")",";","vec2","cx","=","abs","(","hv",".","xx","-","hv",".","yz",")",";","vec2","hw","=","step","(","SMAA_PREDICATION_THRESHOLD",",","cx",")",";","return","SMAA_PREDICATION_SCALE","*","SMAA_THRESHOLD","*","(","1.0","-","SMAA_PREDICATION_STRENGTH","*","hw",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","hB","(","bvec2","hy",",","inout","vec2","hz",",","vec2","hA",")","{","if","(","hy",".","x",")","hz",".","x","=","hA",".","x",";","if","(","hy",".","y",")","hz",".","y","=","hA",".","y",";","}","void","hB","(","bvec4","hy",",","inout","vec4","hz",",","vec4","hA",")","{","hB","(","hy",".","xy",",","hz",".","xy",",","hA",".","xy",")",";","hB","(","hy",".","zw",",","hz",".","zw",",","hA",".","zw",")",";","}","vec2","hC","(","vec2","x",")","{","return","sign","(","x",")","*","floor","(","abs","(","x",")","+",".5",")",";","}","vec4","hC","(","vec4","x",")","{","return","sign","(","x",")","*","floor","(","abs","(","x",")","+",".5",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hP","(","vec2","bE",",","sampler2D","hD"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","hu"]}]}}]},{TYPE:"txt",TOKENS:[")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hE","=","hx","(","bE",",","hu",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hE","=","vec2","(","SMAA_THRESHOLD",",","SMAA_THRESHOLD",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","hF","=","vec3","(","0.2126",",","0.7152",",","0.0722",")",";","float","hG","=","dot","(","GLSL_TEXTURE","(","hD",",","bE",")",".","rgb",",","hF",")",";","float","hH","=","dot","(","GLSL_TEXTURE","(","hD",",","hm",".","xy",")",".","rgb",",","hF",")",";","float","hI","=","dot","(","GLSL_TEXTURE","(","hD",",","hm",".","zw",")",".","rgb",",","hF",")",";","vec4","cx",";","cx",".","xy","=","abs","(","hG","-","vec2","(","hH",",","hI",")",")",";","vec2","hw","=","step","(","hE",",","cx",".","xy",")",";","if","(","dot","(","hw",",","vec2","(","1.0",",","1.0",")",")","==","0.0",")","discard",";","float","hJ","=","dot","(","GLSL_TEXTURE","(","hD",",","hn",".","xy",")",".","rgb",",","hF",")",";","float","hK","=","dot","(","GLSL_TEXTURE","(","hD",",","hn",".","zw",")",".","rgb",",","hF",")",";","cx",".","zw","=","abs","(","hG","-","vec2","(","hJ",",","hK",")",")",";","vec2","hL","=","max","(","cx",".","xy",",","cx",".","zw",")",";","float","hM","=","dot","(","GLSL_TEXTURE","(","hD",",","ho",".","xy",")",".","rgb",",","hF",")",";","float","hN","=","dot","(","GLSL_TEXTURE","(","hD",",","ho",".","zw",")",".","rgb",",","hF",")",";","cx",".","zw","=","abs","(","vec2","(","hH",",","hI",")","-","vec2","(","hM",",","hN",")",")",";","hL","=","max","(","hL",".","xy",",","cx",".","zw",")",";","float","hO","=","max","(","hL",".","x",",","hL",".","y",")",";","hw",".","xy","*=","step","(","hO",",","SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR","*","cx",".","xy",")",";","return","hw",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hR","(","vec2","hQ",")","{","hQ",".","r","=","hQ",".","r","*","abs","(","5.0","*","hQ",".","r","-","5.0","*","0.75",")",";","return","hC","(","hQ",")",";","}","vec4","hR","(","vec4","hQ",")","{","hQ",".","rb","=","hQ",".","rb","*","abs","(","5.0","*","hQ",".","rb","-","5.0","*","0.75",")",";","return","hC","(","hQ",")",";","}","vec2","hT","(","sampler2D","hS",",","vec2","bE",",","vec2","be",",","out","vec2","hQ",")","{","vec4","fm","=","vec4","(","bE",",","-","1.0",",","1.0",")",";","vec3","t","=","vec3","(","u_texel_size",",","1.0",")",";","for","(","int","bQ","=","0",";","bQ","<","SMAA_MAX_SEARCH_STEPS_DIAG",";","bQ","++",")","{","if","(","fm",".","z","<","float","(","SMAA_MAX_SEARCH_STEPS_DIAG","-","1",")","&&","fm",".","w",">","0.9",")","{","fm",".","xyz","+=","t","*","vec3","(","be",",","1.0",")",";","hQ","=","GLSL_TEXTURE","(","hS",",","fm",".","xy",",","0.0",")",".","rg",";","fm",".","w","=","dot","(","hQ",",","vec2","(","0.5",",","0.5",")",")",";","}","}","return","fm",".","zw",";","}","vec2","hU","(","sampler2D","hS",",","vec2","bE",",","vec2","be",",","out","vec2","hQ",")","{","vec4","fm","=","vec4","(","bE",",","-","1.0",",","1.0",")",";","fm",".","x","+=","0.25","*","u_texel_size",".","x",";","vec3","t","=","vec3","(","u_texel_size",",","1.0",")",";","for","(","int","bQ","=","0",";","bQ","<","SMAA_MAX_SEARCH_STEPS_DIAG",";","bQ","++",")","{","if","(","fm",".","z","<","float","(","SMAA_MAX_SEARCH_STEPS_DIAG","-","1",")","&&","fm",".","w",">","0.9",")","{","fm",".","xyz","=","t","*","vec3","(","be",",","1.0",")","+","fm",".","xyz",";","hQ","=","GLSL_TEXTURE","(","hS",",","fm",".","xy",",","0.0",")",".","rg",";","hQ","=","hR","(","hQ",")",";","fm",".","w","=","dot","(","hQ",",","vec2","(","0.5",",","0.5",")",")",";","}","}","return","fm",".","zw",";","}","vec2","hW","(","sampler2D","hV",",","vec2","aC",",","vec2","hQ",",","float","eY",")","{","vec2","bE","=","vec2","(","SMAA_AREATEX_MAX_DISTANCE_DIAG",",","SMAA_AREATEX_MAX_DISTANCE_DIAG",")","*","hQ","+","aC",";","bE","=","SMAA_AREATEX_PIXEL_SIZE","*","bE","+","0.5","*","SMAA_AREATEX_PIXEL_SIZE",";","bE",".","x","+=","0.5",";","bE",".","y","+=","SMAA_AREATEX_SUBTEX_SIZE","*","eY",";","return","GLSL_TEXTURE","(","hV",",","bE",",","0.0",")",".","rg",";","}","vec2","ia","(","sampler2D","hS",",","sampler2D","hV",",","vec2","bE",",","vec2","hQ",",","vec4","hX",")","{","vec2","hF","=","vec2","(","0.0",",","0.0",")",";","vec4","df",";","vec2","hY",";","if","(","hQ",".","r",">","0.0",")","{","df",".","xz","=","hT","(","hS",",","bE",",","vec2","(","-","1.0",",","1.0",")",",","hY",")",";","df",".","x","+=","float","(","hY",".","y",">","0.9",")",";","}","else","df",".","xz","=","vec2","(","0.0",",","0.0",")",";","df",".","yw","=","hT","(","hS",",","bE",",","vec2","(","1.0",",","-","1.0",")",",","hY",")",";","if","(","df",".","x","+","df",".","y",">","2.0",")","{","vec4","hZ","=","vec4","(","-","df",".","x","+","0.25",",","df",".","x",",","df",".","y",",","-","df",".","y","-","0.25",")","*","u_texel_size",".","xyxy","+","bE",".","xyxy",";","vec4","da",";","da",".","xy","=","GLSL_TEXTURE","(","hS",",","hZ",".","xy","+","u_texel_size","*","vec2","(","-","1",",","0",")",",","0.0",")",".","rg",";","da",".","zw","=","GLSL_TEXTURE","(","hS",",","hZ",".","zw","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","rg",";","da",".","yxwz","=","hR","(","da",".","xyzw",")",";","vec2","h_","=","vec2","(","2.0",",","2.0",")","*","da",".","xz","+","da",".","yw",";","hB","(","bvec2","(","step","(","0.9",",","df",".","zw",")",")",",","h_",",","vec2","(","0.0",",","0.0",")",")",";","hF","+=","hW","(","hV",",","df",".","xy",",","h_",",","hX",".","z",")",";","}","df",".","xz","=","hU","(","hS",",","bE",",","vec2","(","-","1",",","-","1",")",",","hY",")",";","if","(","GLSL_TEXTURE","(","hS",",","bE","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","r",">","0.0",")","{","df",".","yw","=","hU","(","hS",",","bE",",","vec2","(","1",",","1",")",",","hY",")",";","df",".","y","+=","float","(","hY",".","y",">","0.9",")",";","}","else","df",".","yw","=","vec2","(","0.0",",","0.0",")",";","if","(","df",".","x","+","df",".","y",">","2.0",")","{","vec4","hZ","=","vec4","(","-","df",".","x",",","-","df",".","x",",","df",".","y",",","df",".","y",")","*","u_texel_size",".","xyxy","+","bE",".","xyxy",";","vec4","da",";","da",".","x","=","GLSL_TEXTURE","(","hS",",","hZ",".","xy","+","u_texel_size","*","vec2","(","-","1",",","0",")",",","0.0",")",".","g",";","da",".","y","=","GLSL_TEXTURE","(","hS",",","hZ",".","xy","+","u_texel_size","*","vec2","(","0",",","-","1",")",",","0.0",")",".","r",";","da",".","zw","=","GLSL_TEXTURE","(","hS",",","hZ",".","zw","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","gr",";","vec2","h_","=","vec2","(","2.0",",","2.0",")","*","da",".","xz","+","da",".","yw",";","hB","(","bvec2","(","step","(","0.9",",","df",".","zw",")",")",",","h_",",","vec2","(","0",",","0",")",")",";","hF","+=","hW","(","hV",",","df",".","xy",",","h_",",","hX",".","w",")",".","gr",";","}","return","hF",";","}"]}]}}]},{TYPE:"txt",TOKENS:["float","id","(","sampler2D","ib",",","vec2","hQ",",","float","eY",")","{","vec2","hk","=","SMAA_SEARCHTEX_SIZE","*","vec2","(","0.5",",","-","1.0",")",";","vec2","ic","=","SMAA_SEARCHTEX_SIZE","*","vec2","(","eY",",","1.0",")",";","hk","+=","vec2","(","-","1.0",",","1.0",")",";","ic","+=","vec2","(","0.5",",","-","0.5",")",";","hk","*=","1.0","/","SMAA_SEARCHTEX_PACKED_SIZE",";","ic","*=","1.0","/","SMAA_SEARCHTEX_PACKED_SIZE",";","return","GLSL_TEXTURE","(","ib",",","hk","*","hQ","+","ic",",","0.0",")",".","r",";","}","float","ie","(","sampler2D","hS",",","sampler2D","ib",",","vec2","bE",",","float","hY",")","{","vec2","hQ","=","vec2","(","0.0",",","1.0",")",";","for","(","int","bQ","=","0",";","bQ","<","SMAA_MAX_SEARCH_STEPS",";","bQ","++",")","{","if","(","bE",".","x",">","hY","&&","hQ",".","g",">","0.8281","&&","hQ",".","r","==","0.0",")","{","hQ","=","GLSL_TEXTURE","(","hS",",","bE",",","0.0",")",".","rg",";","bE","=","-","vec2","(","2.0",",","0.0",")","*","u_texel_size","+","bE",";","}","}","float","eY","=","-","(","255.0","/","127.0",")","*","id","(","ib",",","hQ",",","0.0",")","+","3.25",";","return","u_texel_size",".","x","*","eY","+","bE",".","x",";","}","float","ig","(","sampler2D","hS",",","sampler2D","ib",",","vec2","bE",",","float","hY",")","{","vec2","hQ","=","vec2","(","0.0",",","1.0",")",";","for","(","int","bQ","=","0",";","bQ","<","SMAA_MAX_SEARCH_STEPS",";","bQ","++",")","{","if","(","bE",".","x","<","hY","&&","hQ",".","g",">","0.8281","&&","hQ",".","r","==","0.0",")","{","hQ","=","GLSL_TEXTURE","(","hS",",","bE",",","0.0",")",".","rg",";","bE","=","vec2","(","2.0",",","0.0",")","*","u_texel_size","+","bE",";","}","}","float","eY","=","-","(","255.0","/","127.0",")","*","id","(","ib",",","hQ",",","0.5",")","+","3.25",";","return","-","u_texel_size",".","x","*","eY","+","bE",".","x",";","}","float","ih","(","sampler2D","hS",",","sampler2D","ib",",","vec2","bE",",","float","hY",")","{","vec2","hQ","=","vec2","(","1.0",",","0.0",")",";","for","(","int","bQ","=","0",";","bQ","<","SMAA_MAX_SEARCH_STEPS",";","bQ","++",")","{","if","(","bE",".","y",">","hY","&&","hQ",".","r",">","0.8281","&&","hQ",".","g","==","0.0",")","{","hQ","=","GLSL_TEXTURE","(","hS",",","bE",",","0.0",")",".","rg",";","bE","=","-","vec2","(","0.0",",","2.0",")","*","u_texel_size","+","bE",";","}","}","float","eY","=","-","(","255.0","/","127.0",")","*","id","(","ib",",","hQ",".","gr",",","0.0",")","+","3.25",";","return","u_texel_size",".","y","*","eY","+","bE",".","y",";","}","float","ii","(","sampler2D","hS",",","sampler2D","ib",",","vec2","bE",",","float","hY",")","{","vec2","hQ","=","vec2","(","1.0",",","0.0",")",";","for","(","int","bQ","=","0",";","bQ","<","SMAA_MAX_SEARCH_STEPS",";","bQ","++",")","{","if","(","bE",".","y","<","hY","&&","hQ",".","r",">","0.8281","&&","hQ",".","g","==","0.0",")","{","hQ","=","GLSL_TEXTURE","(","hS",",","bE",",","0.0",")",".","rg",";","bE","=","vec2","(","0.0",",","2.0",")","*","u_texel_size","+","bE",";","}","}","float","eY","=","-","(","255.0","/","127.0",")","*","id","(","ib",",","hQ",".","gr",",","0.5",")","+","3.25",";","return","-","u_texel_size",".","y","*","eY","+","bE",".","y",";","}","vec2","il","(","sampler2D","hV",",","vec2","aC",",","float","ij",",","float","ik",",","float","eY",")","{","vec2","bE","=","vec2","(","SMAA_AREATEX_MAX_DISTANCE",",","SMAA_AREATEX_MAX_DISTANCE",")","*","hC","(","4.0","*","vec2","(","ij",",","ik",")",")","+","aC",";","bE","=","SMAA_AREATEX_PIXEL_SIZE","*","bE","+","0.5","*","SMAA_AREATEX_PIXEL_SIZE",";","bE",".","y","=","SMAA_AREATEX_SUBTEX_SIZE","*","eY","+","bE",".","y",";","return","GLSL_TEXTURE","(","hV",",","bE",",","0.0",")",".","rg",";","}","void","ip","(","sampler2D","hS",",","inout","vec2","hF",",","vec4","bE",",","vec2","df",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_CORNER_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","im","=","step","(","df",".","xy",",","df",".","yx",")",";","vec2","io","=","(","1.0","-","SMAA_CORNER_ROUNDING_NORM",")","*","im",";","io","/=","im",".","x","+","im",".","y",";","vec2","aB","=","vec2","(","1.0",",","1.0",")",";","aB",".","x","-=","io",".","x","*","GLSL_TEXTURE","(","hS",",","bE",".","xy","+","u_texel_size","*","vec2","(","0",",","1",")",",","0.0",")",".","r",";","aB",".","x","-=","io",".","y","*","GLSL_TEXTURE","(","hS",",","bE",".","zw","+","u_texel_size","*","vec2","(","1",",","1",")",",","0.0",")",".","r",";","aB",".","y","-=","io",".","x","*","GLSL_TEXTURE","(","hS",",","bE",".","xy","+","u_texel_size","*","vec2","(","0",",","-","2",")",",","0.0",")",".","r",";","aB",".","y","-=","io",".","y","*","GLSL_TEXTURE","(","hS",",","bE",".","zw","+","u_texel_size","*","vec2","(","1",",","-","2",")",",","0.0",")",".","r",";","hF","*=","clamp","(","aB",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","iq","(","sampler2D","hS",",","inout","vec2","hF",",","vec4","bE",",","vec2","df",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_CORNER_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","im","=","step","(","df",".","xy",",","df",".","yx",")",";","vec2","io","=","(","1.0","-","SMAA_CORNER_ROUNDING_NORM",")","*","im",";","io","/=","im",".","x","+","im",".","y",";","vec2","aB","=","vec2","(","1.0",",","1.0",")",";","aB",".","x","-=","io",".","x","*","GLSL_TEXTURE","(","hS",",","bE",".","xy","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","g",";","aB",".","x","-=","io",".","y","*","GLSL_TEXTURE","(","hS",",","bE",".","zw","+","u_texel_size","*","vec2","(","1",",","1",")",",","0.0",")",".","g",";","aB",".","y","-=","io",".","x","*","GLSL_TEXTURE","(","hS",",","bE",".","xy","+","u_texel_size","*","vec2","(","-","2",",","0",")",",","0.0",")",".","g",";","aB",".","y","-=","io",".","y","*","GLSL_TEXTURE","(","hS",",","bE",".","zw","+","u_texel_size","*","vec2","(","-","2",",","1",")",",","0.0",")",".","g",";","hF","*=","clamp","(","aB",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","it","(","vec2","bE",",","vec2","ir",",","sampler2D","hS",",","sampler2D","hV",",","sampler2D","ib",",","vec4","hX",")","{","vec4","hF","=","vec4","(","0.0",",","0.0",",","0.0",",","0.0",")",";","vec2","hQ","=","GLSL_TEXTURE","(","hS",",","bE",")",".","rg",";","if","(","hQ",".","g",">","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["hF",".","rg","=","ia","(","hS",",","hV",",","bE",",","hQ",",","hX",")",";","if","(","hF",".","r","==","-","hF",".","g",")","{"]}]}}]},{TYPE:"txt",TOKENS:["vec2","df",";","vec3","hZ",";","hZ",".","x","=","ie","(","hS",",","ib",",","hm",".","xy",",","ho",".","x",")",";","hZ",".","y","=","hn",".","y",";","df",".","x","=","hZ",".","x",";","float","ij","=","GLSL_TEXTURE","(","hS",",","hZ",".","xy",",","0.0",")",".","r",";","hZ",".","z","=","ig","(","hS",",","ib",",","hm",".","zw",",","ho",".","y",")",";","df",".","y","=","hZ",".","z",";","df","=","abs","(","hC","(","df","/","u_texel_size",".","xx","-","ir",".","xx",")",")",";","vec2","is","=","sqrt","(","df",")",";","float","ik","=","GLSL_TEXTURE","(","hS",",","hZ",".","zy","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","r",";","hF",".","rg","=","il","(","hV",",","is",",","ij",",","ik",",","hX",".","y",")",";","hZ",".","y","=","bE",".","y",";","ip","(","hS",",","hF",".","rg",",","hZ",".","xyzy",",","df",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["}","else","hQ",".","r","=","0.0",";"]}]}}]},{TYPE:"txt",TOKENS:["}","if","(","hQ",".","r",">","0.0",")","{","vec2","df",";","vec3","hZ",";","hZ",".","y","=","ih","(","hS",",","ib",",","hn",".","xy",",","ho",".","z",")",";","hZ",".","x","=","hm",".","x",";","df",".","x","=","hZ",".","y",";","float","ij","=","GLSL_TEXTURE","(","hS",",","hZ",".","xy",",","0.0",")",".","g",";","hZ",".","z","=","ii","(","hS",",","ib",",","hn",".","zw",",","ho",".","w",")",";","df",".","y","=","hZ",".","z",";","df","=","abs","(","hC","(","df","/","u_texel_size",".","yy","-","ir",".","yy",")",")",";","vec2","is","=","sqrt","(","df",")",";","float","ik","=","GLSL_TEXTURE","(","hS",",","hZ",".","xz","+","u_texel_size","*","vec2","(","0",",","1",")",",","0.0",")",".","g",";","hF",".","ba","=","il","(","hV",",","is",",","ij",",","ik",",","hX",".","x",")",";","hZ",".","x","=","bE",".","x",";","iq","(","hS",",","hF",".","ba",",","hZ",".","xyxz",",","df",")",";","}","return","hF",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iC","(","vec2","bE",",","sampler2D","hD",",","sampler2D","iu"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","iv"]}]}}]},{TYPE:"txt",TOKENS:[")","{","vec4","a",";","a",".","x","=","GLSL_TEXTURE","(","iu",",","hl",".","xy",")",".","a",";","a",".","y","=","GLSL_TEXTURE","(","iu",",","hl",".","zw",")",".","g",";","a",".","wz","=","GLSL_TEXTURE","(","iu",",","bE",")",".","xz",";","if","(","dot","(","a",",","vec4","(","1.0",",","1.0",",","1.0",",","1.0",")",")","<","1e-5",")","{","vec4","aG","=","GLSL_TEXTURE","(","hD",",","bE",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iw","=","GLSL_TEXTURE","(","iv",",","A",")",";","vec2","cS","=","2.0","*","ix","(","iw",")","-","1.0",";","aG",".","a","=","sqrt","(","2.0","*","length","(","cS",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aG",";","}","else","{","bool","bO","=","max","(","a",".","x",",","a",".","z",")",">","max","(","a",".","y",",","a",".","w",")",";","vec4","iy","=","vec4","(","0.0",",","a",".","y",",","0.0",",","a",".","w",")",";","vec2","iz","=","a",".","yw",";","hB","(","bvec4","(","bO",",","bO",",","bO",",","bO",")",",","iy",",","vec4","(","a",".","x",",","0.0",",","a",".","z",",","0.0",")",")",";","hB","(","bvec2","(","bO",",","bO",")",",","iz",",","a",".","xz",")",";","iz","/=","dot","(","iz",",","vec2","(","1.0",",","1.0",")",")",";","vec4","iA","=","iy","*","vec4","(","u_texel_size",",","-","u_texel_size",")","+","bE",".","xyxy",";","vec4","aG","=","iz",".","x","*","GLSL_TEXTURE","(","hD",",","iA",".","xy",",","0.0",")",";","aG","+=","iz",".","y","*","GLSL_TEXTURE","(","hD",",","iA",".","zw",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iw","=","GLSL_TEXTURE","(","iv",",","iA",".","xy",")",";","vec2","iB","=","2.0","*","ix","(","iw",")","-","1.0",";","vec2","cS","=","iz",".","x","*","iB",";","iw","=","GLSL_TEXTURE","(","iv",",","iA",".","zw",")",";","iB","=","2.0","*","ix","(","iw",")","-","1.0",";","cS","+=","iz",".","y","*","iB",";","aG",".","a","=","sqrt","(","2.0","*","length","(","cS",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aG",";","}","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iH","(","vec2","bE",",","sampler2D","iD",",","sampler2D","iE"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","iv"]}]}}]},{TYPE:"txt",TOKENS:[")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iw","=","GLSL_TEXTURE","(","iv",",","A",")",";","vec2","cS",";","cS","=","2.0","*","ix","(","iw",")","-","1.0",";","vec4","iF","=","GLSL_TEXTURE","(","iD",",","bE",")",";","vec4","iG","=","GLSL_TEXTURE","(","iE",",","bE","-","cS",")",";","float","cx","=","abs","(","iF",".","a","*","iF",".","a","-","iG",".","a","*","iG",".","a",")","/","2.0",";","float","bU","=","0.5","*","clamp","(","1.0","-","sqrt","(","cx",")","*","SMAA_REPROJECTION_WEIGHT_SCALE",",","0.0",",","1.0",")",";","vec4","aG","=","mix","(","iF",",","iG",",","bU",")",";","aG",".","a","=","1.0",";","return","aG",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iF","=","GLSL_TEXTURE","(","iD",",","bE",")",";","vec4","iG","=","GLSL_TEXTURE","(","iE",",","bE",")",";","return","mix","(","iF",",","iG",",","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aG","=","vec4","(","hP","(","A",",","u_color"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_predication_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",",","0.0",",","0.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aG","=","it","(","A",",","hp",",","u_color",",","u_area_tex",",","u_search_tex",",","u_subsample_indices",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aG","=","iC","(","A",",","u_color",",","u_blend"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_velocity_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aG","=","vec4","(","iH","(","A",",","u_color",",","u_color_prev"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_velocity_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aG","=","GLSL_TEXTURE","(","u_color",",","A",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","aG",";","}"]}]},exports["postprocessing/smaa.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SMAA_PASS",TOKENS:["SMAA_RESOLVE"]},{TYPE:"var",NAME:"AA_METHOD",TOKENS:["AA_METHOD_SMAA_LOW"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","A",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","hl",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","hm",";","GLSL_OUT","vec4","hn",";","GLSL_OUT","vec4","ho",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","hp",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["4"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["8"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_ULTRA",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["32"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","iI","(","vec2","bE",")","{","hm","=","u_texel_size",".","xyxy","*","vec4","(","-","1.0",",","0.0",",","0.0",",","-","1.0",")","+","bE",".","xyxy",";","hn","=","u_texel_size",".","xyxy","*","vec4","(","1.0",",","0.0",",","0.0",",","1.0",")","+","bE",".","xyxy",";","ho","=","u_texel_size",".","xyxy","*","vec4","(","-","2.0",",","0.0",",","0.0",",","-","2.0",")","+","bE",".","xyxy",";","}"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","iJ","(","vec2","bE",",","out","vec2","ir",")","{","ir","=","bE","/","u_texel_size",";","hm","=","u_texel_size",".","xyxy","*","vec4","(","-","0.25",",","-","0.125",",","1.25",",","-","0.125",")","+","bE",".","xyxy",";","hn","=","u_texel_size",".","xyxy","*","vec4","(","-","0.125",",","-","0.25",",","-","0.125",",","1.25",")","+","bE",".","xyxy",";","ho","=","u_texel_size",".","xxyy","*","vec4","(","-","2.0",",","2.0",",","-","2.0",",","2.0",")","*","float","(","SMAA_MAX_SEARCH_STEPS",")","+","vec4","(","hm",".","xz",",","hn",".","yw",")",";","}"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","iK","(","vec2","bE",")","{","hl","=","u_texel_size",".","xyxy","*","vec4","(","1.0",",","0.0",",","0.0",",","1.0",")","+","bE",".","xyxy",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","A","=","2.0","*","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iI","(","A",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iJ","(","A",",","hp",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iK","(","A",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/ssao.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SSAO_WHITE",TOKENS:["0"]},{TYPE:"var",NAME:"SSAO_QUALITY",TOKENS:["SSAO_QUALITY_8"]},{TYPE:"var",NAME:"SSAO_HEMISPHERE",TOKENS:["0"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","sampler2D","u_depth",";","uniform","sampler2D","u_ssao_special_tex",";","uniform","vec2","u_camera_range",";","uniform","vec2","u_texel_size",";","uniform","float","u_ssao_radius_increase",";","uniform","float","u_ssao_influence",";","uniform","float","u_ssao_dist_factor",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","float","iL","(","in","vec2","fm",")","{","return","fM","(","u_depth",",","fm",",","u_camera_range",")",";","}","void","main","(",")","{","vec3","fR","=","GLSL_TEXTURE","(","u_color",",","A",")",".","rgb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_WHITE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","fR",",","1.0",")",";","return",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","iM","=","normalize","(","2.0","*","GLSL_TEXTURE","(","u_ssao_special_tex",",","A","*","0.25","/","u_texel_size",")",".","rgb","-","1.0",")",";","float","fN","=","iL","(","A",")",";","float","iN","=","fN","*","(","u_camera_range",".","y","-","u_camera_range",".","x",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_8",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","iO","=","8.0",";","const","int","iP","=","1",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_16",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","iO","=","16.0",";","const","int","iP","=","2",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_24",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","iO","=","24.0",";","const","int","iP","=","3",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_32",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","iO","=","32.0",";","const","int","iP","=","4",";"]}]}}]},{TYPE:"txt",TOKENS:["float","iQ","=","u_ssao_radius_increase","*","0.001",";","const","float","iR","=","1.0","+","2.4","/","iO",";","float","iS","=","0.0",";","for","(","int","bQ","=","0",";","bQ","<","iP",";","bQ","++",")","for","(","int","x","=","-","1",";","x","<=","1",";","x","+=","2",")","for","(","int","y","=","-","1",";","y","<=","1",";","y","+=","2",")","for","(","int","z","=","-","1",";","z","<=","1",";","z","+=","2",")","{","vec3","iT","=","reflect","(","normalize","(","vec3","(","x",",","y",",","z",")",")",",","iM",")","*","(","iQ","*=","iR",")",";","vec3","iU","=","vec3","(","A",",","iN",")",";","iU","+=","vec3","(","iT",".","xy",",","iT",".","z","*","iN","*","2.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iU",".","z","-=","1.4","*","(","iU",".","z","-","iN",")","*","step","(","iN",",","iU",".","z",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","iV","=","iL","(","iU",".","xy",")","*","(","u_camera_range",".","y","-","u_camera_range",".","x",")",";","float","iW","=","clamp","(","(","iN","-","iV",")","/","iV",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iS","+=","mix","(","1.0",",","iW",",","step","(","iV",",","iU",".","z",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iS","+=","mix","(","step","(","iU",".","z",",","iV",")",",","0.5",",","iW",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","iS","=","iS","/","iO",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iS","=","clamp","(","iS","*","iS","+","0.6","*","iS",",","0.0",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iS","=","clamp","(","iS","*","iS","+","iS",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","iX","=","u_ssao_influence","*","(","1.0","-","u_ssao_dist_factor","*","fN",")",";","iS","=","mix","(","1.0",",","iS",",","iX",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","fR",",","iS",")",";","}"]}]},exports["postprocessing/ssao_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SSAO_BLUR_DEPTH",TOKENS:["0"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"depth_fetch.glslf"}]}}]},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_ssao_mask",";","uniform","vec2","u_texel_size",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","vec2","u_camera_range",";","uniform","float","u_ssao_blur_discard_value",";","float","iL","(","in","vec2","fm",")","{","return","fM","(","u_depth",",","fm",",","u_camera_range",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","float","iY","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","iZ","=","iL","(","A",")",";","float","bU","=","0.0",";","float","i_","=","u_ssao_blur_discard_value","*","100.0",";"]}]}}]},{TYPE:"txt",TOKENS:["vec2","ja","=","vec2","(","-","2.0",")",";","for","(","int","bQ","=","0",";","bQ","<","4",";","++","bQ",")","{","for","(","int","gC","=","0",";","gC","<","4",";","++","gC",")","{","vec2","eY","=","(","ja","+","vec2","(","float","(","bQ",")",",","float","(","gC",")",")",")","*","u_texel_size",";","float","jb","=","GLSL_TEXTURE","(","u_ssao_mask",",","A","+","eY",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","jc","=","iL","(","A","+","eY",")",";","float","jd","=","1.0","-","clamp","(","abs","(","jc","-","iZ",")","*","i_",",","0.0",",","1.0",")",";","iY","+=","jb","*","jd",";","bU","+=","jd",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iY","+=","jb",";"]}]}}]},{TYPE:"txt",TOKENS:["}","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","GLSL_TEXTURE","(","u_ssao_mask",",","A",")",".","rgb",",","iY","/","bU",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","GLSL_TEXTURE","(","u_ssao_mask",",","A",")",".","rgb",",","iY","/","16.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/stereo.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"ANAGLYPH",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler_left",";","uniform","sampler2D","u_sampler_right",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ANAGLYPH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_enable_hmd_stereo",";","uniform","vec4","u_distortion_params",";","uniform","vec4","u_chromatic_aberration_coefs",";","void","jn","(","vec2","bE",",","vec2","ac",",","float","cM",",","sampler2D","je",")","{","vec2","jf","=","(","bE","-","ac",")","*","2.0",";","jf","/=","cM",";","float","jg","=","jf",".","x","*","jf",".","x","+","jf",".","y","*","jf",".","y",";","vec2","jh","=","jf","*","(","1.0","+","u_distortion_params","[","0","]","*","jg","+","u_distortion_params","[","1","]","*","jg","*","jg",")",";","vec2","ji","=","jh","*","0.5","/","(","1.0","+","u_distortion_params","[","0","]","+","u_distortion_params","[","1","]",")",";","if","(","length","(","u_chromatic_aberration_coefs",")",">","0.0",")","{","vec2","jj","=","ji","*","(","1.0","+","u_chromatic_aberration_coefs","[","0","]","+","jg","*","u_chromatic_aberration_coefs","[","1","]",")","+","ac",";","vec2","jk","=","ji","+","ac",";","vec2","jl","=","ji","*","(","1.0","+","u_chromatic_aberration_coefs","[","2","]","+","jg","*","u_chromatic_aberration_coefs","[","3","]",")","+","ac",";","if","(","clamp","(","jl",",","0.0",",","1.0",")","!=","jl",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","0.0",")",";","}","else","{","vec4","jm","=","GLSL_TEXTURE","(","je",",","jk",")",";","GLSL_OUT_FRAG_COLOR","[","0","]","=","GLSL_TEXTURE","(","je",",","jj",")",".","x",";","GLSL_OUT_FRAG_COLOR","[","1","]","=","jm",".","y",";","GLSL_OUT_FRAG_COLOR","[","2","]","=","GLSL_TEXTURE","(","je",",","jl",")",".","z",";","GLSL_OUT_FRAG_COLOR","[","3","]","=","jm",".","w",";","}","}","else","{","ji","=","ji","*","cM","+","ac",";","if","(","clamp","(","ji",",","0.0",",","1.0",")","!=","ji",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","0.0",")",";","}","else","{","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","je",",","ji",")",";","}","}","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ANAGLYPH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","jo","=","GLSL_TEXTURE","(","u_sampler_left",",","A",")",";","vec4","jp","=","GLSL_TEXTURE","(","u_sampler_right",",","A",")",";","vec3","jq","=","vec3","(","jo","[","0","]",",","jo","[","1","]",",","jo","[","2","]",")",";","bY","(","jq",")",";","vec3","jr","=","vec3","(","jp","[","0","]",",","jp","[","1","]",",","jp","[","2","]",")",";","bY","(","jr",")",";","mat3","js","=","mat3","(","0.437",",","-","0.062",",","-","0.048",",","0.449",",","-","0.062",",","-","0.050",",","0.164",",","-","0.024",",","-","0.017",")",";","mat3","jt","=","mat3","(","-","0.011",",","0.377",",","-","0.026",",","-","0.032",",","0.761",",","-","0.093",",","-","0.007",",","0.009",",","1.234",")",";","vec3","aG","=","clamp","(","js","*","jq",",","0.0",",","1.0",")","+","clamp","(","jt","*","jr",",","0.0",",","1.0",")",";","aM","(","aG",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aG",",","jo","[","3","]","+","jp","[","3","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_enable_hmd_stereo","!=","0",")","{","if","(","A","[","0","]","<","0.5",")","{","vec2","bE","=","vec2","(","2.0","*","A","[","0","]",",","A","[","1","]",")",";","vec2","ac","=","vec2","(","0.5","-","(","u_distortion_params","[","3","]","-","0.5",")","/","2.0",",","u_distortion_params","[","2","]",")",";","float","cM","=","2.0","*","u_distortion_params","[","3","]",";","jn","(","bE",",","ac",",","cM",",","u_sampler_left",")",";","}","else","{","vec2","bE","=","vec2","(","2.0","*","(","A","[","0","]","-","0.5",")",",","A","[","1","]",")",";","vec2","ac","=","vec2","(","0.5","+","(","u_distortion_params","[","3","]","-","0.5",")","/","2.0",",","u_distortion_params","[","2","]",")",";","float","cM","=","2.0","*","u_distortion_params","[","3","]",";","jn","(","bE",",","ac",",","cM",",","u_sampler_right",")",";","}","}","else","{","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_sampler_left",",","A",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/velocity.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","mat4","u_view_proj_inverse",";","uniform","mat4","u_view_proj_prev",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","fN","=","GLSL_TEXTURE","(","u_depth",",","A",")",".","x",";","vec4","ju","=","vec4","(","A","*","2.0","-","1.0",",","2.0","*","fN","-","1.0",",","1.0",")",";","vec4","cd","=","u_view_proj_inverse","*","ju",";","vec4","jv","=","cd","/","cd",".","w",";","vec4","jw","=","u_view_proj_prev","*","jv",";","jw","/=","jw",".","w",";","vec2","cS","=","(","ju",".","xy","-","jw",".","xy",")","/","4.0","+","0.5",";","cS","=","clamp","(","cS",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR","=","fS","(","cS",")",";","}"]}]},exports["include/blending.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"BLENDING_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"BLENDING_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec3","jy","(","vec3","rgb",")","{","vec4","jx","=","vec4","(","_0_0",",","-","_1_0","/","3.0",",","2.0","/","3.0",",","-","_1_0",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","jx",".","wz",")",",","vec4","(","rgb",".","gb",",","jx",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","df","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","hQ","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","df","+","hQ",")",")",",","df","/","(","q",".","x","+","hQ",")",",","q",".","x",")",";","}","vec3","jA","(","vec3","jz",")","{","vec4","jx","=","vec4","(","_1_0",",","2.0","/","3.0",",","_1_0","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","jz",".","r",",","jz",".","r",",","jz",".","r",")","+","jx",".","xyz",")","*","6.0","-","jx",".","www",")",";","return","jz",".","b","*","mix","(","jx",".","xxx",",","clamp","(","p","-","jx",".","xxx",",","_0_0",",","_1_0",")",",","jz",".","g",")",";","}","vec3","jE","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","return","mix","(","jB",",","jC",",","jD",")",";","}","vec3","jF","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","return","jD","*","jB","+","jC",";","}","vec3","jG","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","return","jC","-","jD","*","jB",";","}","vec3","jI","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","float","jH","=","_1_0","-","jD",";","return","(","vec3","(","jH",")","+","jD","*","jB",")","*","jC",";","}","vec3","jJ","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","vec3","jH","=","vec3","(","_1_0","-","jD",")",";","return","vec3","(","_1_0",")","-","(","jH","+","jD","*","(","vec3","(","_1_0",")","-","jB",")",")","*","(","vec3","(","_1_0",")","-","jC",")",";","}","vec3","jK","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","vec3","jH","=","vec3","(","_1_0","-","jD",")",";","return","mix","(","jC","*","(","jH","+","2.0","*","jD","*","jB",")",",","vec3","(","_1_0",")","-","(","jH","+","2.0","*","jD","*","(","vec3","(","_1_0",")","-","jB",")",")","*","(","vec3","(","_1_0",")","-","jC",")",",","step","(","0.5",",","jC",")",")",";","}","vec3","jL","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","return","mix","(","jC",",","abs","(","jB","-","jC",")",",","jD",")",";","}","vec3","jM","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","return","mix","(","jC",",","jC","/","(","jB","+","step","(","jB",",","vec3","(","_0_0",")",")",")",",","jD",")",";","}","vec3","jN","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","return","mix","(","jC",",","min","(","jB",",","jC",")",",","jD",")",";","}","vec3","jO","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","return","max","(","jD","*","jB",",","jC",")",";","}","vec3","jS","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","vec3","jP","=","jy","(","jC",")",";","if","(","jP",".","y","!=","_0_0",")","{","vec3","jQ","=","jy","(","jB",")",";","vec3","jR","=","jA","(","vec3","(","jP",".","x",",","jQ",".","yz",")",")",";","return","mix","(","jB",",","jR",",","jD",")",";","}","return","jB",";","}","vec3","jT","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","vec3","jP","=","jy","(","jB",")",";","if","(","jP",".","y","!=","_0_0",")","{","vec3","jQ","=","jy","(","jC",")",";","return","jA","(","vec3","(","jP",".","x",",","mix","(","jP",".","y",",","jQ",".","y",",","jD",")",",","jP",".","z",")",")",";","}","return","jB",";","}","vec3","jU","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","vec3","jP","=","jy","(","jB",")",";","vec3","jQ","=","jy","(","jC",")",";","return","jA","(","vec3","(","jP",".","xy",",","mix","(","jP",".","z",",","jQ",".","z",",","jD",")",")",")",";","}","vec3","jV","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","vec3","jP","=","jy","(","jC",")",";","if","(","jP",".","y","!=","_0_0",")","{","vec3","jQ","=","jy","(","jB",")",";","vec3","jR","=","jA","(","vec3","(","jP",".","xy",",","jQ",".","z",")",")",";","return","mix","(","jB",",","jR",",","jD",")",";","}","return","jB",";","}","vec3","jX","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","vec3","jW","=","vec3","(","_1_0",")","-","(","vec3","(","_1_0",")","-","jC",")","*","(","vec3","(","_1_0",")","-","jB",")",";","return","mix","(","jB",",","(","(","vec3","(","_1_0",")","-","jB",")","*","jC","*","jB",")","+","jB","*","jW",",","jD",")",";","}","vec3","jY","(","vec3","jB",",","vec3","jC",",","float","jD",")","{","return","jB","+","jD","*","(","2.0","*","jC","-","_1_0",")",";","}","float","kb","(","float","jZ",",","float","j_",",","float","jD",",","float","ka",")","{","float","jH","=","_1_0","-","ka",";","return","(","jH","+","jD","*","jZ",")","*","j_",";","}","float","kc","(","float","jZ",",","float","j_",",","float","jD",",","float","ka",")","{","float","jH","=","_1_0","-","ka",";","return","_1_0","-","(","jH","+","jD","*","(","_1_0","-","jZ",")",")","*","(","_1_0","-","j_",")",";","}","float","kd","(","float","jZ",",","float","j_",",","float","jD",",","float","ka",")","{","float","jH","=","_1_0","-","ka",";","return","mix","(","j_","*","(","jH","+","2.0","*","jD","*","jZ",")",",","_1_0","-","(","jH","+","2.0","*","jD","*","(","_1_0","-","jZ",")",")","*","(","_1_0","-","j_",")",",","step","(","0.5",",","j_",")",")",";","}"]}]}}]}]},exports["include/caustics.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"CAUSTICS_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"CAUSTICS_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"SUN_NUM",TOKENS:["0"]},{TYPE:"var",NAME:"CAUST_SCALE",TOKENS:["0.25"]},{TYPE:"var",NAME:"CAUST_SPEED",TOKENS:["vec2","(","0.0",")"]},{TYPE:"var",NAME:"CAUST_BRIGHT",TOKENS:["0.5"]},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"CAUSTICS_VIEW_DISTANCE",TOKENS:["100.0"]},{TYPE:"txt",TOKENS:["void","bt","(","inout","vec3","aG",",","float","ke",",","float","eK",",","vec4","bs",",","vec3","P",",","vec3","kf",",","vec3","kg",",","vec4","kh",",","vec3","bd",",","float","bp",")","{","if","(","bp",">","CAUSTICS_VIEW_DISTANCE",")","return",";","vec3","ki","=","bd","+","P",";","ki",".","xz","=","10.0","*","sin","(","0.1","*","ki",".","xz",")",";","vec3","kk","=","O","(","kj","(","kh",")",",","ki",")",";","vec2","bE","=","kk",".","xz",";","vec3","kl","=","kf",";","float","km","=","max","(","dot","(","P",",","kl",")",",","0.0",")",";","float","kn","=","0.025",";","vec2","ko","=","CAUST_SPEED","*","eK",";","bE",".","s","+=","0.25","*","sin","(","dot","(","bd","+","eK",",","vec3","(","1.0",")",")",")",";","bE",".","t","+=","0.35","*","(","-","sin","(","dot","(","bd","-","eK",",","vec3","(","-","0.7",")",")",")",")",";","bE",".","st","+=","0.15","*","cos","(","4.0","*","ke","-","ko",".","x",")","+","1.5","*","sin","(","ke","-","0.3","*","ko",".","y",")",";","float","hk","=","CAUST_SCALE","*","(","1.0","+","max","(","0.1","*","ke",",","0.0",")",")",";","vec3","kq","=","kp","(","(","bE","/","hk",")",",","kn",")",";","kq","*=","CAUST_BRIGHT",";","kq","*=","kq",";","float","kr","=","min","(","0.25","*","ke",",","-","ke",")","+","1.0",";","kr","=","max","(","kr",",","0.0",")",";","float","ks","=","bs","[","SUN_NUM","]","*","km",";","float","kt","=","max","(","sign","(","ke",")",",","0.0",")",";","ks","=","ks","+","max","(","0.5","*","sign","(","-","P",".","y",")","*","kt",",","0.0",")",";","ks","=","min","(","ks",",","1.0",")",";","aG","+=","kg","*","kq","*","kr","*","ks",";","}"]}]}}]}]},exports["include/color_util.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"COLOR_UTIL_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"COLOR_UTIL_GLSLF",TOKENS:[""]},{TYPE:"define",NAME:"PREMULTIPLY_ALPHA",TOKENS:["1"]},{TYPE:"var",NAME:"SRGB",TOKENS:["SRGB_NONE"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["void","bY","(","inout","float","aG",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SRGB","SRGB_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aG","=","pow","(","aG",",","2.2",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SRGB","SRGB_PROPER",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","aG","<=","0.04045",")","aG","=","aG","/","12.92",";","else","aG","=","pow","(","aG","+","0.055","/","1.055",",","2.4",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","aM","(","inout","float","aG",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SRGB","SRGB_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aG","=","pow","(","aG",",","2.2",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SRGB","SRGB_PROPER",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","aG","<=","0.00031308",")","aG","=","aG","*","12.92",";","else","aG","=","1.055","*","pow","(","aG",",","1.0","/","2.4",")","-","0.055",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","bY","(","inout","vec3","aG",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SRGB","SRGB_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aG","=","pow","(","aG",",","vec3","(","2.2",")",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SRGB","SRGB_PROPER",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bY","(","aG",".","r",")",";","bY","(","aG",".","g",")",";","bY","(","aG",".","b",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","aM","(","inout","vec3","aG",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SRGB","SRGB_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aG","=","pow","(","aG",",","vec3","(","1.0","/","2.2",")",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SRGB","SRGB_PROPER",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aM","(","aG",".","r",")",";","aM","(","aG",".","g",")",";","aM","(","aG",".","b",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","aN","(","inout","vec3","aG",",","in","float","J",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PREMULTIPLY_ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aG","=","aG","*","J",";"]}]}}]},{TYPE:"txt",TOKENS:["}","float","ft","(","vec4","aG",")","{","vec3","ku","=","vec3","(","0.299",",","0.587",",","0.114",")",";","float","kv","=","dot","(","aG",".","rgb",",","ku",")",";","return","kv",";","}"]}]}}]}]},exports["include/depth_fetch.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"DEPTH_FETCH_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"DEPTH_FETCH_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["float","fM","(","in","sampler2D","kw",",","in","vec2","fm",",","in","vec2","kx",")","{","float","fN","=","GLSL_TEXTURE","(","kw",",","fm",")",".","r",";","float","dj","=","kx",".","x",";","float","ky","=","kx",".","y",";","float","kz","=","2.0","*","dj","/","(","dj","+","ky","-","(","2.0","*","fN","-","1.0",")","*","(","ky","-","dj",")",")",";","return","kz",";","}"]}]}}]}]},exports["include/dynamic_grass.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"DYNAMIC_GRASS_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"DYNAMIC_GRASS_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"GRASS_TEXTURE_SIZE",TOKENS:["1024.0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["vec2","kD","(","vec3","N",",","float","kA",",","vec2","kB",")","{","vec2","kC","=","vec2","(","(","N",".","x","-","kB",".","x",")","/","kA",",","(","N",".","y","-","kB",".","y",")","/","kA",")",";","return","fract","(","kC",")",";","}","vec2","kE","(","vec2","gl",",","float","kA",",","vec2","kB",")","{","return","vec2","(","gl",".","x","*","kA",",","gl",".","y","*","kA",")","+","kB",";","}","aj","kF","(",")","{","return","aj","(","vec3","(","-","10000.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","kP","(","sampler2D","kG",",","vec2","kH",")","{","float","kI","=","1.0","/","GRASS_TEXTURE_SIZE",";","vec4","kJ","=","GLSL_TEXTURE","(","kG",",","kH",")",";","vec4","kK","=","GLSL_TEXTURE","(","kG",",","kH","+","vec2","(","kI",",","0.0",")",")",";","vec4","kL","=","GLSL_TEXTURE","(","kG",",","kH","+","vec2","(","0.0",",","kI",")",")",";","vec4","kM","=","GLSL_TEXTURE","(","kG",",","kH","+","vec2","(","kI",",","kI",")",")",";","float","a","=","fract","(","kH",".","x","*","GRASS_TEXTURE_SIZE",")",";","vec4","kN","=","mix","(","kJ",",","kK",",","a",")",";","vec4","kO","=","mix","(","kL",",","kM",",","a",")",";","float","b","=","fract","(","kH",".","y","*","GRASS_TEXTURE_SIZE",")",";","return","mix","(","kN",",","kO",",","b",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["aj","aP","(","vec3","N",",","vec3","Q",",","vec3","kQ",",","vec3","R",",","vec3","P",",","vec3","ac",",","PRECISION","sampler2D","kR",",","sampler2D","kS",",","vec3","kT",",","float","kU",",","vec3","kV",",","vec4","kW",",","mat3","M",")","{","vec3","kX","=","O","(","kW",",","vec3","(","0.0",",","0.0",",","-","1.0",")",")",";","float","kY","=","-","kX",".","x",";","float","kZ","=","kX",".","y",";","vec2","kB","=","vec2","(","kV",".","x","-","kU","*","(","1.0","+","kY",")","/","2.0",",","kV",".","y","-","kU","*","(","1.0","-","kZ",")","/","2.0",")",";","vec2","k_","=","kD","(","ac",",","kU",",","kB",")",";","float","la","=","kU","/","2.0",";","vec2","lb","=","abs","(","kE","(","k_","-","vec2","(","0.5",")",",","kU",",","vec2","(","0.0",")",")",")",";","float","lc","=","la","*","(","1.0","+","sqrt","(","2.0",")",")","/","2.0",";","if","(","length","(","lb",")",">","lc",")","return","kF","(",")",";","float","ld","=","kU","/","kT",".","z",";","vec2","le","=","(","k_","-","vec2","(","0.5",")",")","*","ld","+","vec2","(","0.5",")",";","vec3","lf","=","kX","*","(","kU","/","kT",".","z","-","1.0",")","/","2.0",";","le",".","x","+=","lf",".","x",";","le",".","y","+=","lf",".","y",";","vec4","lg","=","GLSL_TEXTURE","(","kS",",","le",")",";","float","hk","=","lg",".","r",";","if","(","hk","<","u_scale_threshold",")","return","kF","(",")",";","float","lh","=","kT",".","y","-","kT",".","x",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bN","=","kT",".","y","-","(","kP","(","kR",",","le",")",")",".","r","*","lh",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bN","=","kT",".","y","-","(","GLSL_TEXTURE","(","kR",",","le",")",")",".","r","*","lh",";"]}]}}]},{TYPE:"txt",TOKENS:["vec2","li","=","N",".","xy","-","ac",".","xy",";","ac",".","xy","=","kE","(","k_",",","kU",",","kB",")",";","ac",".","z","=","bN",";","N",".","xy","=","ac",".","xy","+","li",";","N",".","z","*=","hk",";","N",".","z","+=","bN",";","vec3","aG","=","lg",".","gba",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["N","-=","ac",";","mat3","lj","=","ah","(","kV",",","ac",",","M",")",";","aj","al","=","ak","(","N",",","ac",",","Q",",","kQ",",","R",",","P",",","lj",")",";","al",".","ac","=","ac",";","al",".","aG","=","aG",";","return","lk","(","al",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","lk","(","aj","(","N",",","ac",",","Q",",","kQ",",","R",",","P",",","aG",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]}}]}]},exports["include/environment.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"ENVIRONMENT_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"ENVIRONMENT_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"txt",TOKENS:["vec3","ce","(","vec3","P",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_TEXTURE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","GLSL_TEXTURE_CUBE","(","u_sky_texture",",","P",")",".","rgb",";"]}]}},{TYPE:"elif",EXPRESSION:["SKY_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ll","=","0.5","*","P",".","z","+","0.5",";","return","mix","(","u_horizon_color",",","u_zenith_color",",","ll",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec3","(","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/fog.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FOG_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FOG_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"FOG_TYPE",TOKENS:["QUADRATIC"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","lq","(","inout","vec3","aG",",","in","float","lm",",","in","float","bN",",","in","vec4","ln",")","{","float","lo","=","clamp","(","(","lm","-","u_fog_params",".","z",")","/","u_fog_params",".","y",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOG_TYPE","QUADRATIC",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["lo","*=","lo",";"]}]}},{TYPE:"elif",EXPRESSION:["FOG_TYPE","LINEAR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"elif",EXPRESSION:["FOG_TYPE","INVERSE_QUADRATIC",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["lo","=","sqrt","(","lo",")",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","u_fog_params",".","w",">","0.0",")","{","if","(","bN",">","u_fog_params",".","w",")","lo","=","0.0",";","else","{","float","lp","=","(","u_fog_params",".","w","-","max","(","bN",",","0.0",")",")","/","u_fog_params",".","w",";","lo","*=","lp","*","lp",";","}","}","ln",".","a","=","1.0","-","(","1.0","-","lo",")","*","(","1.0","-","u_fog_params",".","x",")",";","aG","=","mix","(","aG",",","ln",".","rgb",",","ln",".","a",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","lv","(","in","mat4","lr",",","in","vec3","C",")","{","vec3","ls","=","mix","(","lr","[","0","]",".","rgb",",","lr","[","1","]",".","rgb",",","max","(","sign","(","C",".","x",")",",","0.0",")",")",";","vec3","lt","=","mix","(","lr","[","2","]",".","rgb",",","lr","[","3","]",".","rgb",",","max","(","sign","(","C",".","z",")",",","0.0",")",")",";","vec3","lu","=","vec3","(","lr","[","0","]",".","a",",","lr","[","1","]",".","a",",","lr","[","2","]",".","a",")",";","vec3","aG","=","mix","(","ls",",","lt",",","abs","(","C",".","z",")",")",";","aG","=","mix","(","aG",",","lu",",","abs","(","C",".","y",")",")",";","bY","(","aG",")",";","return","aG",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","lx","(","inout","float","lw",")","{","lw","-=","0.5",";","lw","=","4.0","*","(","lw","*","lw","*","lw",")","+","0.5",";","}","void","lD","(","inout","vec3","aG",",","in","float","lm",",","in","vec3","C",",","in","float","dO",",","in","vec4","ly",",","in","float","eB",")","{","float","lz","=","max","(","C",".","z",",","0.0",")",";","float","lA","=","max","(","lm","-","max","(","dO","/","lz",",","0.0",")",",","0.0",")",";","float","lB","=","ly",".","w","*","lA",";","vec3","dP","=","vec3","(","0.0",",","0.02",",","0.05",")",";","vec3","lC","=","ly",".","rgb",";","lB","=","min","(","lB",",","1.0",")",";","lx","(","lB",")",";","lB","*=","clamp","(","2.0","-","eB",",","0.0",",","1.0",")",";","vec3","dQ","=","mix","(","lC",",","dP",",","min","(","lz",",","1.0",")",")",";","dO","=","clamp","(","-","dO","*","0.03",",","0.0",",","0.8",")",";","dQ","*=","1.0","-","dO",";","aG","=","mix","(","aG",",","dQ",",","lB",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","bu","(","inout","vec3","aG",",","float","lm",",","vec3","C",",","float","bq",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","lr","=","lv","(","u_cube_fog",",","C",")",";","vec4","dQ","=","vec4","(","lr",",","u_fog_color_density",".","a",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","dQ","=","u_fog_color_density",";"]}]}}]},{TYPE:"txt",TOKENS:["lq","(","aG",",","lm",",","h",".","z",",","dQ",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["lD","(","aG",",","lm",",","C",",","u_cam_water_depth",",","u_underwater_fog_color_density",",","bq",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/fxaa.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"FXAA_BLEND4WEB",TOKENS:["1"]},{TYPE:"var",NAME:"FXAA_QUALITY_P12",TOKENS:["0.0"]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PS3",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PS3",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_360",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_360",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_360_OPT",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_360_OPT",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PC",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PC",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PC_CONSOLE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PC_CONSOLE",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSL_120",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSL_120",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSL_130",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSL_130",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_3",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_3",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_4",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_4",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_5",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GREEN_AS_LUMA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GREEN_AS_LUMA",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_EARLY_EXIT",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_EARLY_EXIT",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_DISCARD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_DISCARD",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_FAST_PIXEL_OFFSET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_EXT_gpu_shader4",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_NV_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_ARB_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_FAST_PIXEL_OFFSET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GATHER4_ALPHA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_HLSL_5",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_ARB_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_NV_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GATHER4_ALPHA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[0],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["4.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[0],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["2.0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",TOKENS:["0.125"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",TOKENS:["0.25"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_QUALITY_PRESET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["12"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",10,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["3"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",11,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["4"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",12,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",13,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["6"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",14,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["7"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",15,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["8"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",20,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["3"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",21,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["4"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",22,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",23,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["6"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",24,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["7"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",25,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["8"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",26,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["9"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",27,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["10"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",28,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["11"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",29,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P11",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",39,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P11",TOKENS:["8.0"]}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["float","lE","(","float","x",")","{","return","clamp","(","x",",","0.0",",","1.0",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_BLEND4WEB",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","lF","(","sampler2D","t",",","vec2","p",")","{","return","GLSL_TEXTURE","(","t",",","p",")",";","}","vec4","lH","(","sampler2D","t",",","vec2","p",",","vec2","lG",",","vec2","r",")","{","return","GLSL_TEXTURE","(","t",",","p","+","(","lG","*","r",")",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec4","fI","(","vec2","eD",",","sampler2D","hq",",","vec2","lI",",","float","lJ",",","float","lK",",","float","lL",")","{","vec2","lM",";","lM",".","x","=","eD",".","x",";","lM",".","y","=","eD",".","y",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_GATHER4_ALPHA",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","lN","=","lF","(","hq",",","lM",")",";","float","fu","=","ft","(","lN",")",";","float","lO","=","ft","(","lH","(","hq",",","lM",",","vec2","(","0",",","1",")",",","lI",".","xy",")",")",";","float","lP","=","ft","(","lH","(","hq",",","lM",",","vec2","(","1",",","0",")",",","lI",".","xy",")",")",";","float","lQ","=","ft","(","lH","(","hq",",","lM",",","vec2","(","0",",","-","1",")",",","lI",".","xy",")",")",";","float","lR","=","ft","(","lH","(","hq",",","lM",",","vec2","(","-","1",",","0",")",",","lI",".","xy",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","lS","=","max","(","lO",",","fu",")",";","float","lT","=","min","(","lO",",","fu",")",";","float","lU","=","max","(","lP",",","lS",")",";","float","lV","=","min","(","lP",",","lT",")",";","float","lW","=","max","(","lQ",",","lR",")",";","float","lX","=","min","(","lQ",",","lR",")",";","float","lY","=","max","(","lW",",","lU",")",";","float","lZ","=","min","(","lX",",","lV",")",";","float","l_","=","lY","*","lK",";","float","ma","=","lY","-","lZ",";","float","mb","=","max","(","lL",",","l_",")",";","bool","mc","=","ma","<","mb",";","if","(","mc",")","return","lN",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_GATHER4_ALPHA",0,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fv","=","ft","(","lH","(","hq",",","lM",",","vec2","(","-","1",",","-","1",")",",","lI",".","xy",")",")",";","float","fy","=","ft","(","lH","(","hq",",","lM",",","vec2","(","1",",","1",")",",","lI",".","xy",")",")",";","float","fw","=","ft","(","lH","(","hq",",","lM",",","vec2","(","1",",","-","1",")",",","lI",".","xy",")",")",";","float","fx","=","ft","(","lH","(","hq",",","lM",",","vec2","(","-","1",",","1",")",",","lI",".","xy",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[]}}]},{TYPE:"txt",TOKENS:["float","md","=","lQ","+","lO",";","float","me","=","lR","+","lP",";","float","mf","=","1.0","/","ma",";","float","mg","=","md","+","me",";","float","mh","=","(","-","2.0","*","fu",")","+","md",";","float","mi","=","(","-","2.0","*","fu",")","+","me",";","float","mj","=","fw","+","fy",";","float","mk","=","fv","+","fw",";","float","ml","=","(","-","2.0","*","lP",")","+","mj",";","float","mm","=","(","-","2.0","*","lQ",")","+","mk",";","float","mn","=","fv","+","fx",";","float","mo","=","fx","+","fy",";","float","mp","=","(","abs","(","mh",")","*","2.0",")","+","abs","(","ml",")",";","float","mq","=","(","abs","(","mi",")","*","2.0",")","+","abs","(","mm",")",";","float","mr","=","(","-","2.0","*","lR",")","+","mn",";","float","ms","=","(","-","2.0","*","lO",")","+","mo",";","float","mt","=","abs","(","mr",")","+","mp",";","float","mu","=","abs","(","ms",")","+","mq",";","float","mv","=","mn","+","mj",";","float","mw","=","lI",".","x",";","bool","mx","=","mt",">=","mu",";","float","my","=","mg","*","2.0","+","mv",";","if","(","!","mx",")","lQ","=","lR",";","if","(","!","mx",")","lO","=","lP",";","if","(","mx",")","mw","=","lI",".","y",";","float","mz","=","(","my","*","(","1.0","/","12.0",")",")","-","fu",";","float","mA","=","lQ","-","fu",";","float","mB","=","lO","-","fu",";","float","mC","=","lQ","+","fu",";","float","mD","=","lO","+","fu",";","bool","mE","=","abs","(","mA",")",">=","abs","(","mB",")",";","float","mF","=","max","(","abs","(","mA",")",",","abs","(","mB",")",")",";","if","(","mE",")","mw","=","-","mw",";","float","mG","=","lE","(","abs","(","mz",")","*","mf",")",";","vec2","mH",";","mH",".","x","=","lM",".","x",";","mH",".","y","=","lM",".","y",";","vec2","mI",";","mI",".","x","=","(","!","mx",")","?","0.0",":","lI",".","x",";","mI",".","y","=","(","mx",")","?","0.0",":","lI",".","y",";","if","(","!","mx",")","mH",".","x","+=","mw","*","0.5",";","if","(","mx",")","mH",".","y","+=","mw","*","0.5",";","vec2","mJ",";","mJ",".","x","=","mH",".","x","-","mI",".","x","*","FXAA_QUALITY_P0",";","mJ",".","y","=","mH",".","y","-","mI",".","y","*","FXAA_QUALITY_P0",";","vec2","mK",";","mK",".","x","=","mH",".","x","+","mI",".","x","*","FXAA_QUALITY_P0",";","mK",".","y","=","mH",".","y","+","mI",".","y","*","FXAA_QUALITY_P0",";","float","mL","=","(","(","-","2.0",")","*","mG",")","+","3.0",";","float","mM","=","ft","(","lF","(","hq",",","mJ",")",")",";","float","mN","=","mG","*","mG",";","float","mO","=","ft","(","lF","(","hq",",","mK",")",")",";","if","(","!","mE",")","mC","=","mD",";","float","mP","=","mF","*","1.0","/","4.0",";","float","mQ","=","fu","-","mC","*","0.5",";","float","mR","=","mL","*","mN",";","bool","mS","=","mQ","<","0.0",";","mM","-=","mC","*","0.5",";","mO","-=","mC","*","0.5",";","bool","mT","=","abs","(","mM",")",">=","mP",";","bool","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P1",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P1",";","bool","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P1",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P1",";","if","(","mV",")","{","if","(","!","mT",")","mM","=","ft","(","lF","(","hq",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","ft","(","lF","(","hq",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P2",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P2",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P2",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P2",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","ft","(","lF","(","hq",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","ft","(","lF","(","hq",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P3",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P3",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P3",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P3",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",4,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","ft","(","lF","(","hq",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","ft","(","lF","(","hq",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P4",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P4",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P4",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P4",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",5,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","ft","(","lF","(","hq",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","ft","(","lF","(","hq",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P5",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P5",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P5",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P5",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",6,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","ft","(","lF","(","hq",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","ft","(","lF","(","hq",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P6",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P6",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P6",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P6",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",7,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","ft","(","lF","(","hq",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","ft","(","lF","(","hq",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P7",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P7",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P7",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P7",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",8,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","ft","(","lF","(","hq",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","ft","(","lF","(","hq",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P8",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P8",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P8",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P8",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",9,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","ft","(","lF","(","hq",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","ft","(","lF","(","hq",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P9",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P9",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P9",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P9",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",10,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","ft","(","lF","(","hq",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","ft","(","lF","(","hq",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P10",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P10",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P10",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P10",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",11,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","ft","(","lF","(","hq",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","ft","(","lF","(","hq",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P11",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P11",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P11",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P11",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",12,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","ft","(","lF","(","hq",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","ft","(","lF","(","hq",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P12",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P12",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P12",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P12",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}","float","mW","=","lM",".","x","-","mJ",".","x",";","float","mX","=","mK",".","x","-","lM",".","x",";","if","(","!","mx",")","mW","=","lM",".","y","-","mJ",".","y",";","if","(","!","mx",")","mX","=","mK",".","y","-","lM",".","y",";","bool","mY","=","(","mM","<","0.0",")","!=","mS",";","float","mZ","=","(","mX","+","mW",")",";","bool","m_","=","(","mO","<","0.0",")","!=","mS",";","float","na","=","1.0","/","mZ",";","bool","nb","=","mW","<","mX",";","float","nc","=","min","(","mW",",","mX",")",";","bool","nd","=","nb","?","mY",":","m_",";","float","ne","=","mR","*","mR",";","float","nf","=","(","nc","*","(","-","na",")",")","+","0.5",";","float","ng","=","ne","*","lJ",";","float","nh","=","nd","?","nf",":","0.0",";","float","ni","=","max","(","nh",",","ng",")",";","if","(","!","mx",")","lM",".","x","+=","ni","*","mw",";","if","(","mx",")","lM",".","y","+=","ni","*","mw",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_DISCARD",1,{TYPE:"equal_expr",PLACES:2},"FXAA_BLEND4WEB",1,{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","lF","(","hq",",","lM",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec4","(","lF","(","hq",",","lM",")",".","xyz",",","fu",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/halo_color.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"HALO_COLOR_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"HALO_COLOR_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"NUM_RINGS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LINES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"WAVES_HEIGHT",TOKENS:["1.0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS","NUM_LINES",{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","int","nj","=","NUM_RINGS",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","int","nj","=","NUM_LINES",";"]}]}}]},{TYPE:"txt",TOKENS:["float","nk","(","float","x",")","{","return","x","-","floor","(","x","*","(","1.0","/","0.01",")",")","*","0.01",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","nr","(","inout","float","nl",",","in","float","nm","[","nj","]",",","in","float","nn",")","{","for","(","int","a","=","0",";","a","<","NUM_RINGS",";","a","++",")","{","float","no","=","40.0","*","nm","[","a","]",";","float","np","=","300.0","*","(","nk","(","no",")","-","0.005",")",";","float","nq","=","no",";","float","lo","=","abs","(","nq","*","(","u_halo_size","*","np","-","nn",")",")",";","nl","+=","1.0","-","min","(","lo",",","1.0",")",";","}","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","nw","(","inout","float","ns",",","in","float","nm","[","nj","]",",","in","float","aC",")","{","for","(","int","a","=","0",";","a","<","NUM_LINES",";","a","++",")","{","float","nt","=","nm","[","a","]",";","float","nu","=","nt",";","float","nv","=","1000.0","*","(","nk","(","nt",")","-","0.005",")",";","float","lo","=","20.0","*","abs","(","nu","*","A",".","x","+","nv","*","A",".","y",")",";","ns","+=","1.0","-","min","(","lo",",","1.0",")",";","}","ns","*=","aC",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","nA","(","inout","float","aC",",","in","vec2","bE",")","{","float","nx",",","bm",";","bm","=","atan","(","bE",".","y",",","bE",".","x",")",";","bm","*=","(","1.0","+","0.25","*","float","(","NUM_STARS",")",")",";","float","ny","=","cos","(","bm",")",";","float","nz","=","sin","(","bm",")",";","bm","=","(","ny","*","bE",".","x","+","nz","*","bE",".","y",")","*","(","ny","*","bE",".","y","-","nz","*","bE",".","x",")",";","nx","=","abs","(","bm",")",";","if","(","nx","<","1.0",")","{","nx","=","(","0.01","*","u_halo_size",")","/","(","nx",")",";","aC","*=","sqrt","(","min","(","nx",",","1.0",")",")",";","}","}","vec4","aV","(",")","{","float","aC","=","(","A",".","x","*","A",".","x","+","A",".","y","*","A",".","y",")",";","float","nn","=","sqrt","(","aC",")",";","aC","=","max","(","1.0","-","aC",",","0.0",")",";","aC","=","pow","(","aC",",","u_halo_hardness",")",";","float","J","=","u_diffuse_color",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS","NUM_LINES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","nm","[","nj","]",";","for","(","int","bQ","=","0",";","bQ","<","nj",";","bQ","++",")","{","nm","[","bQ","]","=","fract","(","aU","/","float","(","bQ","+","1",")",")","-","1.0",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","nl","=","0.0",";","nr","(","nl",",","nm",",","nn",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ns","=","0.0",";","nw","(","ns",",","nm",",","aC",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["nA","(","aC",",","A",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aC","*=","J",";","vec3","aG","=","u_diffuse_color",".","rgb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["nl","*=","aC",";","aG","+=","u_halo_rings_color","*","nl",";","aC","+=","nl",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ns","*=","J",";","aG","+=","u_halo_lines_color","*","ns",";","aC","+=","ns",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aC","*=","max","(","1.0","-","2.0","*","u_sun_intensity",".","x",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","kr","=","u_halo_stars_blend","*","(","aT",".","y","-","u_halo_stars_height",")",";","aC","*=","clamp","(","kr",",","0.0",",","1.0",")",";","aC","*=","min","(","u_cam_water_depth","+","2.0","*","WAVES_HEIGHT",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec4","nB","=","vec4","(","aG",",","aC",")",";","return","nB",";","}"]}]}}]}]},exports["include/lighting_nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"LIGHTING_NODES_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"LIGHTING_NODES_GLSLF",TOKENS:[""]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"node",NAME:"LIGHTING_BEGIN",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"nP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nS",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nT",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nU",QUALIFIER:["vec2"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nV",QUALIFIER:["vec2"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nW",QUALIFIER:["vec4"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nX",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nY",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["nP","=","nC",";","nQ","=","nD",";","nR","=","nE",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nS"],STATEMENTS:[{TYPE:"txt",TOKENS:["nS","=","nF",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nT"],STATEMENTS:[{TYPE:"txt",TOKENS:["nT","=","nH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nV"],STATEMENTS:[{TYPE:"txt",TOKENS:["nV","=","nJ",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nU"],STATEMENTS:[{TYPE:"txt",TOKENS:["nU","=","nK",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nW"],STATEMENTS:[{TYPE:"txt",TOKENS:["nW","=","nL",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nX"],STATEMENTS:[{TYPE:"txt",TOKENS:["nX","=","nM",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nY"],STATEMENTS:[{TYPE:"txt",TOKENS:["nY","=","nN",";"]}]}]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"nZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"n_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ob",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ob","=","vec4","(","nZ","+","oa","*","n_",",","_0_0",")",";","oc","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]},{TYPE:"node_var",NAME:"LAMP_SHADOW_MAP_IND",TOKENS:["-","1"]},{TYPE:"node_var",NAME:"LAMP_USE_SPHERE",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"od",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"of",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"og",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["of","=","vec2","(","u_light_positions","[","LAMP_IND","]",".","w",",","u_light_color_intensities","[","LAMP_IND","]",".","w",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["oh","=","_0_5",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oh","=","_0_0",";"]}]}]},{TYPE:"txt",TOKENS:["og","=","u_light_color_intensities","[","LAMP_IND","]",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["og","*=","od","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","u_light_positions","[","LAMP_IND","]",".","xyz",";","oe","=","oi","-","nG",";","float","aC","=","length","(","oe",")",";","float","oj","=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","aC","*","aC",")",";","oe","=","normalize","(","oe",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","u_light_directions","[","LAMP_IND","]",";","float","ol","=","dot","(","oe",",","ok",")",";","ol","*=","smoothstep","(","_0_0",",","_1_0",",","(","ol","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","oj","*=","ol",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_USE_SPHERE"],STATEMENTS:[{TYPE:"txt",TOKENS:["oj","*=","max","(","LAMP_LIGHT_DIST","-","aC",",","_0_0",")","/","LAMP_LIGHT_DIST",";"]}]}]},{TYPE:"txt",TOKENS:["og","*=","oj",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oe","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"om",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"on",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"op",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oq",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"or",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","om",",","B",".","xyz",")",";","oo","=","cross","(","os",",","B",".","xyz",")",";","oo","=","-","normalize","(","oo",")",";"]}]}]},{TYPE:"txt",TOKENS:["or","=","_0_0",";","if","(","on",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","op",")","*","dot","(","oo",",","om",")","+","op",";","if","(","oq","[","0","]","==","_0_0",")","{","or","=","_1_0",";","}","else","{","float","t","=","_1_0","+","abs","(","ot",")",";","t","=","oq","[","1","]","+","(","_1_0","-","oq","[","1","]",")","*","pow","(","t",",","oq","[","0","]",")",";","or","=","clamp","(","t",",","_0_0",",","_1_0",")",";","}","or","=","max","(","or",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ou",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ov",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ow",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ox",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oy",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","ou",",","B",".","xyz",")",";","ow","=","cross","(","os",",","B",".","xyz",")",";","ow","=","-","normalize","(","ow",")",";"]}]}]},{TYPE:"txt",TOKENS:["oy","=","_0_0",";","if","(","ov",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","ox",")","*","dot","(","ow",",","ou",")","+","ox",";","oy","=","max","(","ot",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oD",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oz",",","B",".","xyz",")",";","oB","=","cross","(","os",",","B",".","xyz",")",";","oB","=","-","normalize","(","oB",")",";"]}]}]},{TYPE:"txt",TOKENS:["oE","=","_0_0",";","if","(","oA",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oC",")","*","dot","(","oB",",","oz",")","+","oC",";","if","(","oD","[","0","]",">","_0_0",")","{","float","oF","=","max","(","dot","(","oB",",","nI",")",",","_0_0",")",";","float","oG","=","oD","[","0","]","*","oD","[","0","]",";","float","cg","=","_1_0","-","_0_5","*","(","oG","/","(","oG","+","0.33",")",")",";","vec3","oH","=","oz","-","ot","*","oB",";","vec3","oI","=","nI","-","oF","*","oB",";","if","(","length","(","oH",")","==","_0_0","||","length","(","oI",")","==","_0_0","||","abs","(","ot",")",">","_1_0","||","abs","(","oF",")",">","_1_0",")","oE","=","ot","*","cg",";","else","{","float","oJ","=","acos","(","ot",")",";","float","oK","=","acos","(","oF",")",";","vec3","oL","=","normalize","(","oH",")",";","vec3","oM","=","normalize","(","oI",")",";","float","a",",","b",";","a","=","max","(","oJ",",","oK",")",";","b","=","min","(","oJ",",","oK",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oL",",","oM",")",",","_0_0",")",";","float","oN","=","0.45","*","(","oG","/","(","oG","+","0.09",")",")",";","oE","=","ot","*","(","cg","+","(","oN","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","oE","=","ot",";","oE","=","max","(","oE",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oP",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oS",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oO",",","B",".","xyz",")",";","oQ","=","cross","(","os",",","B",".","xyz",")",";","oQ","=","-","normalize","(","oQ",")",";"]}]}]},{TYPE:"txt",TOKENS:["oT","=","_0_0",";","if","(","oP",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oR",")","*","dot","(","oQ",",","oO",")","+","oR",";","float","oF","=","max","(","dot","(","oQ",",","nI",")",",","_0_0",")",";","if","(","oS","[","0","]","<=","_1_0",")","oT","=","ot","*","pow","(","max","(","oF","*","ot",",","0.1",")",",","oS","[","0","]","-","_1_0",")",";","else","oT","=","ot","*","pow","(","1.0001","-","oF",",","oS","[","0","]","-","_1_0",")",";","oT","=","max","(","oT",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oV",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oY",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oU",",","B",".","xyz",")",";","oW","=","cross","(","os",",","B",".","xyz",")",";","oW","=","-","normalize","(","oW",")",";"]}]}]},{TYPE:"txt",TOKENS:["oZ","=","_0_0",";","if","(","oV",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oX",")","*","dot","(","oW",",","oU",")","+","oX",";","float","o_","=","acos","(","ot",")",";","if","(","o_","<","oY","[","0","]",")","oZ","=","_1_0",";","else","if","(","o_",">","(","oY","[","0","]","+","oY","[","1","]",")","||","oY","[","1","]","==","_0_0",")","oZ","=","_0_0",";","else","oZ","=","_1_0","-","(","(","o_","-","oY","[","0","]",")","/","oY","[","1","]",")",";","oZ","=","max","(","oZ",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pb",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pe",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","_0_0",";","if","(","pb",".","g","!=","_0_0",")","{","vec3","pg","=","normalize","(","pa","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pd","==","_0_0",")","{","pf","=","dot","(","B",".","xyz",",","pg",")",";","pf","=","sqrt","(","_1_0","-","pf","*","pf",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","(","_1_0","-","pd",")","*","max","(","dot","(","pc",",","pg",")",",","_0_0",")","+","pd",";"]}]}]},{TYPE:"txt",TOKENS:["pf","=","pow","(","pf",",","pe","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_COOKTORR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ph",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pi",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","_0_0",";","if","(","pi",".","g","!=","_0_0",")","{","vec3","pg","=","normalize","(","ph","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pk","==","_0_0",")","{","pm","=","dot","(","B",".","xyz",",","pg",")",";","pm","=","sqrt","(","_1_0","-","pm","*","pm",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","max","(","dot","(","pj",",","pg",")",",","_0_0",")",";","pm","=","(","_1_0","-","pk",")","*","pm","+","pk",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","oF","=","max","(","dot","(","B",".","xyz",",","nI",")",",","_0_0",")",";","oF","=","sqrt","(","_1_0","-","oF","*","oF",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","oF","=","max","(","dot","(","pj",",","nI",")",",","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["pm","=","pow","(","pm",",","pl","[","0","]",")",";","pm","=","pm","/","(","0.1","+","oF",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"po",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pv",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pw",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pw","=","_0_0",";","if","(","po",".","g","!=","_0_0",")","{","vec3","pg","=","normalize","(","pn","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","_0_0",";","float","oF","=","_0_0",";","float","py","=","_0_0",";","if","(","pu","==","_0_0",")","{","px","=","dot","(","B",".","xyz",",","pg",")",";","oF","=","dot","(","B",".","xyz",",","nI",")",";","py","=","dot","(","B",".","xyz",",","pn",")",";","px","=","sqrt","(","_1_0","-","px","*","px",")",";","oF","=","sqrt","(","_1_0","-","oF","*","oF",")",";","py","=","sqrt","(","_1_0","-","py","*","py",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","max","(","dot","(","pr",",","pg",")",",","0.01",")",";","float","oF","=","max","(","dot","(","pr",",","nI",")",",","0.01",")",";","float","py","=","max","(","dot","(","pr",",","pn",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","bm","=","tan","(","acos","(","px",")",")",";","float","J","=","max","(","pv","[","0","]",",","0.01",")",";","pw","=","py","*","(","_1_0","/","(","4.0","*","M_PI","*","J","*","J",")",")","*","(","exp","(","-","(","bm","*","bm",")","/","(","J","*","J",")",")","/","(","sqrt","(","oF","*","py",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pD",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pE","=","_0_0",";","if","(","pA",".","g","!=","_0_0",")","{","vec3","bO","=","normalize","(","pz","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pF","=","dot","(","bO",",","B",".","xyz",")",";","float","bm","=","pD","[","0","]","+","pD","[","1","]",";","if","(","pC","==","_0_0",")","bm","=","acos","(","sqrt","(","_1_0","-","pF","*","pF",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","bm","=","acos","(","dot","(","bO",",","pB",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","bm","<","pD","[","0","]",")","pE","=","_1_0",";","else","if","(","bm",">=","pD","[","0","]","+","pD","[","1","]","||","pD","[","1","]","==","_0_0",")","pE","=","_0_0",";","else","pE","=","_1_0","-","(","bm","-","pD","[","0","]",")","/","pD","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pH",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pK",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pM","=","pK","[","0","]",";","float","pN","=","pK","[","1","]",";","pL","=","_0_0",";","if","(","pH",".","g","!=","_0_0",")","{","if","(","pM","<","1.0","||","pN","==","_0_0",")","pL","=","_0_0",";","else","{","if","(","pN","<","100.0",")","pN","=","sqrt","(","1.0","/","pN",")",";","else","pN","=","10.0","/","pN",";","vec3","pg","=","normalize","(","nI","+","pG",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","0.0",";","if","(","pJ","==","_0_0",")","{","float","pO","=","dot","(","B",".","xyz",",","pg",")",";","px","=","sqrt","(","_1_0","-","pO","*","pO",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","(","_1_0","-","pJ",")","*","max","(","dot","(","pI",",","pg",")",",","_0_0",")","+","pJ",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","px","<","_0_0",")","pL","=","_0_0",";","else","{","float","oF","=","max","(","dot","(","pI",",","nI",")",",","0.01",")",";","float","py","=","dot","(","pI",",","pG",")",";","if","(","py","<=","0.01",")","pL","=","_0_0",";","else","{","float","pP","=","max","(","dot","(","nI",",","pg",")",",","0.01",")",";","float","a","=","_1_0",";","float","b","=","(","2.0","*","px","*","oF",")","/","pP",";","float","da","=","(","2.0","*","px","*","py",")","/","pP",";","float","g","=","min","(","min","(","a",",","b",")",",","da",")",";","float","p","=","sqrt","(","pow","(","pM",",","2.0",")","+","pow","(","pP",",","2.0",")","-","_1_0",")",";","float","lw","=","pow","(","p","-","pP",",","2.0",")","/","pow","(","p","+","pP",",","2.0",")","*","(","_1_0","+","pow","(","pP","*","(","p","+","pP",")","-","_1_0",",","2.0",")","/","pow","(","pP","*","(","p","-","pP",")","+","_1_0",",","2.0",")",")",";","float","o_","=","acos","(","px",")",";","pL","=","max","(","lw","*","g","*","exp","(","-","pow","(","o_",",","2.0",")","/","(","2.0","*","pow","(","pN",",","2.0",")",")",")",",","_0_0",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pQ",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pW",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"p_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qa",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qb","=","pR","+","pZ","*","pY","*","pT",";","qa","=","pQ","+","vec4","(","pZ","*","pX","*","pS",",","pT",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_END",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"qc",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qd",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","qc",".","rgb",";","nO","=","qd",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","cp","(","vec3","nC",",","vec3","nD",",","vec3","nE",",","vec3","nF",",","vec3","nG",",","vec3","nH",",","vec3","nI",",","vec2","nJ",",","vec2","nK",",","vec4","nL",",","float","nM",",","vec4","nN",",","out","vec3","D",",","out","vec3","nO",")","{"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/math.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"MATH_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"MATH_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"EPSILON",TOKENS:["0.000001"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["struct","aj","{","vec3","N",";","vec3","ac",";","vec3","Q",";","vec3","aq",";","vec3","R",";","vec3","P",";","vec3","aG",";","}",";","bool","ei","(","vec3","a",",","vec3","b",")","{","return","any","(","lessThan","(","abs","(","a","-","b",")",",","vec3","(","EPSILON",")",")",")",";","}","vec3","O","(","in","vec4","q",",","in","vec3","ki",")","{","return","ki","+","2.0","*","cross","(","q",".","xyz",",","cross","(","q",".","xyz",",","ki",")","+","q",".","w","*","ki",")",";","}","vec4","kj","(","in","vec4","gI",")","{","return","vec4","(","-","gI",".","xyz",",","gI",".","w",")",";","}","vec4","qe","(","in","vec4","a",",","in","vec4","b",")","{","vec4","gK",";","gK",".","x","=","a",".","x","*","b",".","w","+","a",".","w","*","b",".","x","+","a",".","y","*","b",".","z","-","a",".","z","*","b",".","y",";","gK",".","y","=","a",".","y","*","b",".","w","+","a",".","w","*","b",".","y","+","a",".","z","*","b",".","x","-","a",".","x","*","b",".","z",";","gK",".","z","=","a",".","z","*","b",".","w","+","a",".","w","*","b",".","z","+","a",".","x","*","b",".","y","-","a",".","y","*","b",".","x",";","gK",".","w","=","a",".","w","*","b",".","w","-","a",".","x","*","b",".","x","-","a",".","y","*","b",".","y","-","a",".","z","*","b",".","z",";","return","gK",";","}","vec4","cI","(","in","vec3","qf",",","in","float","qg",")","{","vec4","gK",";","qg","=","qg","*","0.5",";","float","s","=","sin","(","qg",")",";","gK",".","x","=","s","*","qf","[","0","]",";","gK",".","y","=","s","*","qf","[","1","]",";","gK",".","z","=","s","*","qf","[","2","]",";","gK",".","w","=","cos","(","qg",")",";","return","gK",";","}","vec4","qj","(","in","vec3","be",",","in","vec3","qh",")","{","vec4","gK",";","float","df","=","dot","(","qh",",","be",")",";","vec3","qi","=","cross","(","qh",",","be",")",";","gK",".","xyz","=","qi",".","xyz",";","gK",".","w","=","1.0","+","df",";","return","normalize","(","gK",")",";","}","vec3","ql","(","vec4","qk",",","vec4","gI",",","vec3","gJ",")","{","vec3","gK","=","gJ","*","qk",".","w",";","gK","=","O","(","gI",",","gK",")",";","gK","+=","qk",".","xyz",";","return","gK",";","}","vec3","ad","(","mat3","qm",",","vec3","gJ",")","{","vec3","gK","=","gJ","*","qm","[","1","]","[","0","]",";","vec4","gI","=","vec4","(","qm","[","1","]","[","1","]",",","qm","[","1","]","[","2","]",",","qm","[","2","]","[","0","]",",","qm","[","2","]","[","1","]",")",";","gK","=","O","(","gI",",","gK",")",";","gK","+=","qm","[","0","]",";","return","gK",";","}","vec3","qn","(","vec4","qk",",","vec4","gI",",","vec3","be",")","{","vec3","gK","=","be","*","qk",".","w",";","gK","=","O","(","gI",",","gK",")",";","return","gK",";","}","vec3","T","(","mat3","qm",",","vec3","be",")","{","vec3","gK","=","be","*","qm","[","1","]","[","0","]",";","vec4","gI","=","vec4","(","qm","[","1","]","[","1","]",",","qm","[","1","]","[","2","]",",","qm","[","2","]","[","0","]",",","qm","[","2","]","[","1","]",")",";","gK","=","O","(","gI",",","gK",")",";","return","gK",";","}","vec3","qo","(","vec4","qk",",","vec4","gI",",","vec3","gJ",")","{","vec3","gK","=","gJ","-","qk",".","xyz",";","gK","=","O","(","kj","(","gI",")",",","gK",")",";","gK","/=","qk",".","w",";","return","gK",";","}","vec3","qr","(","vec4","qk",",","vec4","gI",",","vec3","be",")","{","return","O","(","kj","(","gI",")",",","be",")","/","qk",".","w",";","}","mat4","qu","(",")","{","return","mat4","(","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","mat4","qv","(","float","bm",")","{","return","mat4","(","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","cos","(","bm",")",",","sin","(","bm",")",",","_0_0",",","_0_0",",","-","sin","(","bm",")",",","cos","(","bm",")",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","mat4","qw","(","float","bm",")","{","return","mat4","(","cos","(","bm",")",",","_0_0",",","-","sin","(","bm",")",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","sin","(","bm",")",",","_0_0",",","cos","(","bm",")",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","mat4","qx","(","float","bm",")","{","return","mat4","(","cos","(","bm",")",",","sin","(","bm",")",",","_0_0",",","_0_0",",","-","sin","(","bm",")",",","cos","(","bm",")",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","aj","lk","(","in","aj","ki",")","{","return","aj","(","ki",".","N",",","ki",".","ac",",","normalize","(","ki",".","Q",")",",","normalize","(","ki",".","aq",")",",","normalize","(","ki",".","R",")",",","normalize","(","ki",".","P",")",",","ki",".","aG",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","as","(","vec4","f",")","{","float","fj","=","f",".","x",";","float","fk","=","f",".","y",";","float","fl","=","f",".","w",";","vec3","qy",";","qy",".","x","=","(","fj","+","fl",")","/","2.0",";","qy",".","y","=","(","fk","+","fl",")","/","2.0",";","qy",".","z","=","fl",";","return","qy",";","}"]}]}}]},{TYPE:"txt",TOKENS:["mat3","cG","(",")","{","return","mat3","(","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",")",";","}","mat4","aR","(","mat3","t",")","{","mat4","qz",";","qz","[","0","]","[","0","]","=","(","_1_0","-","(","t","[","1","]","[","2","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","+","t","[","2","]","[","0","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")",")","*","t","[","1","]","[","0","]",";","qz","[","0","]","[","1","]","=","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","+","t","[","2","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")","*","t","[","1","]","[","0","]",";","qz","[","0","]","[","2","]","=","(","t","[","1","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","-","t","[","2","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")","*","t","[","1","]","[","0","]",";","qz","[","0","]","[","3","]","=","_0_0",";","qz","[","1","]","[","0","]","=","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","-","t","[","2","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")","*","t","[","1","]","[","0","]",";","qz","[","1","]","[","1","]","=","(","_1_0","-","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")","+","t","[","2","]","[","0","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")",")","*","t","[","1","]","[","0","]",";","qz","[","1","]","[","2","]","=","(","t","[","1","]","[","2","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","+","t","[","2","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")",")","*","t","[","1","]","[","0","]",";","qz","[","1","]","[","3","]","=","_0_0",";","qz","[","2","]","[","0","]","=","(","t","[","1","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","+","t","[","2","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")","*","t","[","1","]","[","0","]",";","qz","[","2","]","[","1","]","=","(","t","[","1","]","[","2","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","-","t","[","2","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")",")","*","t","[","1","]","[","0","]",";","qz","[","2","]","[","2","]","=","(","_1_0","-","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")","+","t","[","1","]","[","2","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")",")","*","t","[","1","]","[","0","]",";","qz","[","2","]","[","3","]","=","_0_0",";","qz","[","3","]","[","0","]","=","t","[","0","]","[","0","]",";","qz","[","3","]","[","1","]","=","t","[","0","]","[","1","]",";","qz","[","3","]","[","2","]","=","t","[","0","]","[","2","]",";","qz","[","3","]","[","3","]","=","1.0",";","return","qz",";","}","mat3","aO","(","in","mat3","qm",",","in","mat3","qA",")","{","mat3","gK",";","vec3","gJ","=","qA","[","0","]",";","vec4","qk","=","vec4","(","qm","[","0","]",",","qm","[","1","]","[","0","]",")",";","vec4","gI","=","vec4","(","qm","[","1","]","[","1","]",",","qm","[","1","]","[","2","]",",","qm","[","2","]","[","0","]",",","qm","[","2","]","[","1","]",")",";","gK","[","0","]","=","ql","(","qk",",","gI",",","gJ",")",";","gK","[","1","]","[","0","]","=","qm","[","1","]","[","0","]","*","qA","[","1","]","[","0","]",";","gK","[","1","]","[","1","]","=","qm","[","1","]","[","1","]","*","qA","[","2","]","[","1","]","+","qm","[","2","]","[","1","]","*","qA","[","1","]","[","1","]","+","qm","[","1","]","[","2","]","*","qA","[","2","]","[","0","]","-","qm","[","2","]","[","0","]","*","qA","[","1","]","[","2","]",";","gK","[","1","]","[","2","]","=","qm","[","1","]","[","2","]","*","qA","[","2","]","[","1","]","+","qm","[","2","]","[","1","]","*","qA","[","1","]","[","2","]","+","qm","[","2","]","[","0","]","*","qA","[","1","]","[","1","]","-","qm","[","1","]","[","1","]","*","qA","[","2","]","[","0","]",";","gK","[","2","]","[","0","]","=","qm","[","2","]","[","0","]","*","qA","[","2","]","[","1","]","+","qm","[","2","]","[","1","]","*","qA","[","2","]","[","0","]","+","qm","[","1","]","[","1","]","*","qA","[","1","]","[","2","]","-","qm","[","1","]","[","2","]","*","qA","[","1","]","[","1","]",";","gK","[","2","]","[","1","]","=","qm","[","2","]","[","1","]","*","qA","[","2","]","[","1","]","-","qm","[","1","]","[","1","]","*","qA","[","1","]","[","1","]","-","qm","[","1","]","[","2","]","*","qA","[","1","]","[","2","]","-","qm","[","2","]","[","0","]","*","qA","[","2","]","[","0","]",";","return","gK",";","}","mat3","cK","(","in","vec4","gI",",","in","mat3","qm",")","{","mat3","gK",";","gK","[","0","]","=","qm","[","0","]",";","gK","[","1","]","[","0","]","=","qm","[","1","]","[","0","]",";","gK","[","1","]","[","1","]","=","gI","[","0","]",";","gK","[","1","]","[","2","]","=","gI","[","1","]",";","gK","[","2","]","[","0","]","=","gI","[","2","]",";","gK","[","2","]","[","1","]","=","gI","[","3","]",";","return","gK",";","}"]}]}}]}]},exports["include/mirror.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"MIRROR_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"MIRROR_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"REFL_BUMP",TOKENS:["0.1"]},{TYPE:"txt",TOKENS:["float","qB","(","in","vec3","C",",","vec3","dX",",","float","ec",",","float","eb",")","{","vec3","d_","=","normalize","(","dX","+","C",")",";","float","ea","=","1.0","-","dot","(","C",",","d_",")",";","float","r","=","eb","+","(","1.0","-","eb",")","*","pow","(","ea",",","ec",")",";","return","r",";","}","void","cq","(","inout","vec3","qC",",","vec3","C",",","vec3","P",",","float","qD",",","mat3","M",")","{","vec3","dX","=","reflect","(","-","C",",","P",")",";","float","ec","=","u_fresnel_params","[","2","]",";","float","eb","=","u_fresnel_params","[","3","]",";","float","r","=","1.0",";","if","(","ec","!=","0.0",")","r","=","qB","(","C",",","dX",",","ec",",","eb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dZ","=","GLSL_TEXTURE_CUBE","(","u_cube_reflection",",","dX",")",".","xyz",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qE","=","u_refl_plane",".","xyz","*","dot","(","P",",","u_refl_plane",".","xyz",")",";","vec3","qF","=","P","-","qE",";","vec2","qG","=","T","(","M",",","qF",")",".","xy",";","vec2","qH","=","l",".","xy","/","l",".","z",";","qH","+=","qG","*","REFL_BUMP",";","vec3","dZ","=","GLSL_TEXTURE","(","u_plane_reflection",",","qH",")",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dZ","=","vec3","(","1.0",")",";","qD","=","0.0",";"]}]}}]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dZ","=","GLSL_TEXTURE_CUBE","(","u_mirrormap",",","dX",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["bY","(","dZ",".","rgb",")",";","qC","=","mix","(","qC",",","dZ",",","qD","*","r",")",";","}","vec3","qK","(","vec3","qC",",","vec3","qI",",","vec3","C",",","vec3","P",",","float","qJ",",","mat3","M",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dX","=","reflect","(","-","C",",","P",")",";","vec3","dZ","=","GLSL_TEXTURE_CUBE","(","u_cube_reflection",",","dX",")",".","xyz",";","bY","(","dZ",")",";","dZ","*=","qI",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qE","=","u_refl_plane",".","xyz","*","dot","(","P",",","u_refl_plane",".","xyz",")",";","vec3","qF","=","P","-","qE",";","vec2","qG","=","T","(","M",",","qF",")",".","xy",";","vec2","qH","=","l",".","xy","/","l",".","z",";","qH","+=","qG","*","REFL_BUMP",";","vec3","dZ","=","GLSL_TEXTURE","(","u_plane_reflection",",","qH",")",".","rgb",";","bY","(","dZ",")",";","dZ","*=","qI",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dZ","=","qI",";"]}]}}]},{TYPE:"txt",TOKENS:["return","mix","(","qC",",","dZ",",","qJ",")",";","}"]}]}}]}]}}]}]},exports["include/nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"NODES_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"NODES_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"DOUBLE_SIDED_LIGHTING",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"HAS_REFRACT_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"USE_DERIVATIVES_EXT",TOKENS:["0"]},{TYPE:"var",NAME:"CAMERA_TYPE",TOKENS:["CAM_TYPE_PERSP"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_BSDF_BEGIN",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"mirror.glslf"},{TYPE:"include",FILE:"shadow.glslf"},{TYPE:"include",FILE:"environment.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","qL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qO","(","in","vec3","qM",",","in","float","qN",")","{","vec3","eq","=","vec3","(","_0_0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eq","=","cs","(","l",",","qM",".","xy","*","qN",")",";"]}]}},{TYPE:"elif",EXPRESSION:["HAS_REFRACT_TEXTURE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eq","=","GLSL_TEXTURE","(","u_refractmap",",","l",".","xy","/","l",".","z",")",".","rgb",";","bY","(","eq",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","eq",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_SEPHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","jy","(","vec3","rgb",")","{","vec4","jx","=","vec4","(","_0_0",",","-","_1_0","/","3.0",",","2.0","/","3.0",",","-","_1_0",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","jx",".","wz",")",",","vec4","(","rgb",".","gb",",","jx",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","df","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","hQ","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","df","+","hQ",")",")",",","df","/","(","q",".","x","+","hQ",")",",","q",".","x",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_COMBHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","jA","(","vec3","jz",")","{","vec4","jx","=","vec4","(","_1_0",",","2.0","/","3.0",",","_1_0","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","jz",".","r",",","jz",".","r",",","jz",".","r",")","+","jx",".","xyz",")","*","6.0","-","jx",".","www",")",";","return","jz",".","b","*","mix","(","jx",".","xxx",",","clamp","(","p","-","jx",".","xxx",",","_0_0",",","_1_0",")",",","jz",".","g",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_UV","USE_NODE_B4W_PARALLAX","USE_NODE_UV_MERGED","USE_NODE_TEX_COORD_UV","USE_NODE_UVMAP",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qP","(","vec2","gl",")","{","return","vec3","(","gl","*","2.0","-","vec2","(","_1_0",",","_1_0",")",",","_0_0",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_COLOR","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","qQ","(","vec3","gJ",")","{","return","vec2","(","gJ",".","xy","*","_0_5","+","vec2","(","_0_5",",","_0_5",")",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_FRESNEL","USE_NODE_LAYER_WEIGHT",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","qV","(","vec3","qR",",","vec3","qS",",","float","qT",")","{","float","da","=","abs","(","dot","(","qR",",","qS",")",")",";","float","g","=","qT","*","qT","-","1.0","+","da","*","da",";","float","qU",";","if","(","g",">","0.0",")","{","g","=","sqrt","(","g",")",";","float","cg","=","(","g","-","da",")","/","(","g","+","da",")",";","float","oN","=","(","da","*","(","g","+","da",")","-","1.0",")","/","(","da","*","(","g","-","da",")","+","1.0",")",";","qU","=","0.5","*","cg","*","cg","*","(","1.0","+","oN","*","oN",")",";","}","else","{","qU","=","1.0",";","}","return","qU",";","}"]}]}}]},{TYPE:"node",NAME:"CAMERA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rq",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rs",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rt",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rq"],STATEMENTS:[{TYPE:"txt",TOKENS:["rq","=","normalize","(","rn",".","xyz",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rs"],STATEMENTS:[{TYPE:"txt",TOKENS:["rs","=","abs","(","rn",".","z",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rt"],STATEMENTS:[{TYPE:"txt",TOKENS:["rt","=","length","(","rn",".","xyz",")",";"]}]}]}]},{TYPE:"node",NAME:"COMBRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ru",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rx",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rx","=","vec3","(","ru",",","rv",",","rw",")",";"]}]},{TYPE:"node",NAME:"COMBHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ry",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rB",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rB","=","jA","(","vec3","(","ry",",","rz",",","rA",")",")",";"]}]},{TYPE:"node",NAME:"EMPTY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rC","=","vec3","(","-","_1_0",",","-","_1_0",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"EMPTY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rD","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qW",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rE","=","qP","(","qW",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_OR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rF","=","2.0","*","qL","-","vec3","(","_1_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qX",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rG","=","max","(","vec3","(","_0_0",")",",","qX",")",";","bY","(","rG",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qY",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rH","=","max","(","_0_0",",","qY",")",";","bY","(","rH",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qZ",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rI","=","max","(","_0_0",",","qZ","[","0","]",")",";","rJ","=","max","(","_0_0",",","qZ","[","1","]",")",";","bY","(","rI",")",";","bY","(","rJ",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"q_",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rK","=","max","(","_0_0",",","q_","[","0","]",")",";","rL","=","max","(","_0_0",",","q_","[","1","]",")",";","rM","=","max","(","_0_0",",","q_","[","2","]",")",";","bY","(","rK",")",";","bY","(","rL",")",";","bY","(","rM",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rN",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rN","=","rl",".","xyz",";"]}]},{TYPE:"node",NAME:"GEOMETRY_FB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rO",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["rO","=","(","gl_FrontFacing",")","?","_0_0",":","_1_0",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["rO","=","(","gl_FrontFacing",")","?","_1_0",":","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_BF",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["rP","=","(","gl_FrontFacing",")","?","_1_0",":","_0_0",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["rP","=","(","gl_FrontFacing",")","?","_0_0",":","_1_0",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_VW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rQ","=","-","T","(","u_view_tsr_frag",",","nI",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_LO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rR","=","rn",".","xyz",";"]}]},{TYPE:"node",NAME:"GEOMETRY_GL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rS",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rS","=","nG",";"]}]},{TYPE:"node",NAME:"GEOMETRY_IN",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rT","=","nI",";"]}]},{TYPE:"node",NAME:"NEW_GEOMETRY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"r_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sa",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rU","=","vec3","(","_0_0",")",";","rV","=","vec3","(","_0_0",")",";","rW","=","vec3","(","_0_0",")",";","rX","=","vec3","(","_0_0",")",";","rY","=","vec3","(","_0_0",")",";","rZ","=","vec3","(","_0_0",")",";","r_","=","_0_0",";","sa","=","_0_0",";"]}]},{TYPE:"node",NAME:"HUE_SAT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"se",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sg",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","jz","=","jy","(","sf",")",";","jz","[","0","]","+=","(","sb","-","_0_5",")",";","if","(","jz","[","0","]",">","_1_0",")","jz","[","0","]","-=","_1_0",";","else","if","(","jz","[","0","]","<","_0_0",")","jz","[","0","]","+=","_1_0",";","jz","*=","vec3","(","_1_0",",","sc",",","sd",")",";","jz","=","mix","(","vec3","(","_1_0",")",",","mix","(","vec3","(","_0_0",")",",","jz",",","step","(","vec3","(","_0_0",")",",","jz",")",")",",","step","(","jz",",","vec3","(","_1_0",")",")",")",";","sg","=","mix","(","sf",",","jA","(","jz",")",",","se",")",";"]}]},{TYPE:"node",NAME:"INVERT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"si",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sj","=","mix","(","si",",","vec3","(","_1_0",")","-","si",",","sh",")",";"]}]},{TYPE:"node",NAME:"LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_INDEX",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_USE_SPHERE",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"sk",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"sl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sn",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sk"],STATEMENTS:[{TYPE:"txt",TOKENS:["sk","=","u_lamp_light_color_intensities","[","LAMP_INDEX","]",";"]}]}]},{TYPE:"txt",TOKENS:["vec3","so","=","u_lamp_light_directions","[","LAMP_INDEX","]",";","vec3","sr","=","u_lamp_light_positions","[","LAMP_INDEX","]",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["sl","=","-","h","+","sr",";","sm","=","length","(","sl",")",";","sl","=","normalize","(","sl",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sn"],STATEMENTS:[{TYPE:"txt",TOKENS:["sn","=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","sm","*","sm",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","ol","=","dot","(","sl",",","so",")",";","ol","*=","smoothstep","(","_0_0",",","_1_0",",","(","ol","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","sn","*=","ol",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_USE_SPHERE"],STATEMENTS:[{TYPE:"txt",TOKENS:["sn","*=","max","(","LAMP_LIGHT_DIST","-","sm",",","_0_0",")","/","LAMP_LIGHT_DIST",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sl"],STATEMENTS:[{TYPE:"txt",TOKENS:["sl","=","so",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sm"],STATEMENTS:[{TYPE:"txt",TOKENS:["sm","=","length","(","sr","-","h",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sn"],STATEMENTS:[{TYPE:"txt",TOKENS:["sn","=","_1_0",";"]}]}]}]}]}]},{TYPE:"node",NAME:"NORMAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"su",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sv",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"sw",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"rc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sv"],STATEMENTS:[{TYPE:"txt",TOKENS:["sv","=","rc",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sw"],STATEMENTS:[{TYPE:"txt",TOKENS:["sw","=","-","dot","(","su",",","rc",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_VECTOR_VIEW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sy",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sy","=","-","T","(","u_view_tsr_frag",",","sx",")",";"]}]},{TYPE:"node",NAME:"BSDF_BEGIN",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sN",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sO",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sS",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sK","=","sA",";","sL","=","sC",";","sM","=","sF",";","sP","=","sC",";","sQ","=","sE",";","sR","=","sG",";","sS","=","sH",";","sI","=","ro","*","sK",";","sJ","=","rp","*","u_environment_energy","*","ce","(","sM",")",";","sO","=","ch","(","sK",")",";","G","=","sO",";","sN","[","0","]","=","sB",";","sN","[","1","]","=","sD",";","sN","[","2","]","=","sE",";"]}]},{TYPE:"node",NAME:"BSDF_END",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sT",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","qK","(","sT",".","rgb",",","sW",",","nI",",","sV",",","sX",",","mat3","(","_0_0",")",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","qK","(","sT",".","rgb",",","sW",",","nI",",","sV",",","sX",",","u_view_tsr_frag",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","sT",".","rgb",";"]}]}]},{TYPE:"txt",TOKENS:["D","+=","sU",";","D","=","mix","(","D",",","sY",",","sZ",")",";","sV",";"]}]},{TYPE:"node",NAME:"BSDF_COMPUTE",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"s_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ta",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"td",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"te",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","qS","=","tb",";","float","tg","=","clamp","(","td","[","0","]",",","_0_0",",","_1_0",")",";","float","th","=","clamp","(","td","[","1","]",",","_0_0",",","_1_0",")",";","float","qJ","=","td","[","2","]",";","vec3","pg","=","normalize","(","nI","+","s_",")",";","float","ot","=","(","_1_0","-","tc",")","*","dot","(","qS",",","s_",")","+","tc",";","float","ti","=","(","_1_0","-","tc",")","*","max","(","dot","(","s_",",","pg",")",",","_0_0",")","+","tc",";","float","tj","=","(","_1_0","-","tc",")","*","max","(","dot","(","tb",",","pg",")",",","_0_0",")","+","tc",";","te","=","_0_0",";","if","(","ta",".","r","!=","_0_0",")","{","if","(","tg",">","_0_0",")","{","float","oF","=","max","(","dot","(","qS",",","nI",")",",","_0_0",")",";","float","oG","=","tg","*","tg",";","float","cg","=","_1_0","-","_0_5","*","(","oG","/","(","oG","+","0.33",")",")",";","vec3","oH","=","s_","-","ot","*","qS",";","vec3","oI","=","nI","-","oF","*","qS",";","if","(","length","(","oH",")","==","_0_0","||","length","(","oI",")","==","_0_0","||","abs","(","ot",")",">","_1_0","||","abs","(","oF",")",">","_1_0",")","te","=","ot","*","cg",";","else","{","float","oJ","=","acos","(","ot",")",";","float","oK","=","acos","(","oF",")",";","vec3","oL","=","normalize","(","oH",")",";","vec3","oM","=","normalize","(","oI",")",";","float","a",",","b",";","a","=","max","(","oJ",",","oK",")",";","b","=","min","(","oJ",",","oK",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oL",",","oM",")",",","_0_0",")",";","float","oN","=","0.45","*","(","oG","/","(","oG","+","0.09",")",")",";","te","=","ot","*","(","cg","+","(","oN","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","te","=","ot",";","te","=","max","(","te",",","_0_0",")",";","}","float","J","=","th",";","float","tk","=","J","*","J",";","float","tl","=","(","tj","*","tk","-","tj",")","*","tj","+","_1_0",";","float","cd","=","tk","/","(","M_PI","*","tl","*","tl",")",";","float","tm",";","float","tn",";","float","to","=","pow","(","_1_0","-","ti",",","5.0",")",";","tm","=","_1_0",";","tn","=","to",";","float","jx","=","J","/","2.0",";","float","tr","=","jx","*","jx",";","float","tu","=","_1_0","-","tr",";","float","tv","=","_1_0","/","(","ti","*","ti","*","tu","+","tr",")",";","tm","*=","tv",";","tn","*=","tv",";","float","tw","=","mix","(","0.04",",","_1_0",",","qJ",")",";","float","tx","=","mix","(","tn",",","tm",",","tw",")",";","tf","=","max","(","ot","*","cd","*","tx",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"BSDF_ANISOTROPIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ty",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tE","=","ty",";","tz",";","tA",";","tB",";","tC",";","tD",";"]}]},{TYPE:"node",NAME:"BSDF_DIFFUSE",NODE_VARS:[{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tJ","=","tF",";","tK","=","tG",";","tN","=","_0_0",";","tQ","=","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["tO","=","tH",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["tO","=","nH",";"]}]}]},{TYPE:"txt",TOKENS:["tI",";","tL",";","tM",";","tP",";"]}]},{TYPE:"node",NAME:"BSDF_GLASS",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tV",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tV","=","tR",";","tS",";","tT",";","tU",";"]}]},{TYPE:"node",NAME:"BSDF_GLOSSY",NODE_VARS:[{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"t_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ua",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ub",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ud",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ue",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ug",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ub","=","tW",";","uc","=","tX",";","ud","=","_1_0",";","ug","=","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["ue","=","tY",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["ue","=","nH",";"]}]}]},{TYPE:"txt",TOKENS:["tZ",";","t_",";","ua",";","uf",";"]}]},{TYPE:"node",NAME:"BSDF_HAIR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ui",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ul",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ul","=","uh",";","ui",";","uj",";","uk",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSPARENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"um",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"un",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["un","=","um",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSLUCENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"up",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uq",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uq","=","uo",";","up",";"]}]},{TYPE:"node",NAME:"BSDF_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ur",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"us",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ut",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uv",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uv","[","0","]","=","uv","[","1","]","=","uv","[","2","]","=","_0_0",";","ur",";","us",";","ut",";","uu",";"]}]},{TYPE:"node",NAME:"BSDF_TOON",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ux",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uA",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uA","=","uw",";","ux",";","uy",";","uz",";"]}]},{TYPE:"node",NAME:"BSDF_VELVET",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uE","=","uB",";","uC",";","uD",";"]}]},{TYPE:"node",NAME:"SUBSURFACE_SCATTERING",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uL","[","0","]","=","uL","[","1","]","=","uL","[","2","]","=","_0_0",";","uF",";","uH",";","uI",";","uJ",";","uK",";","uG",";"]}]},{TYPE:"node",NAME:"EMISSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uW",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uV","=","uN","*","uM",";","uT","=","_0_0",";","uW","=","_1_0",";","uU","=","nH",";","uO",";","uP",";","uQ",";","uR",";","uS",";"]}]},{TYPE:"node",NAME:"AMBIENT_OCCLUSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uY","[","0","]","=","uY","[","1","]","=","uY","[","2","]","=","_0_0",";","uX",";"]}]},{TYPE:"node",NAME:"HOLDOUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"uZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uZ","[","0","]","=","uZ","[","1","]","=","uZ","[","2","]","=","_0_0",";"]}]},{TYPE:"node",NAME:"VOLUME_ABSORPTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"u_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"va",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vb","[","0","]","=","vb","[","1","]","=","vb","[","2","]","=","_0_0",";","u_",";","va",";"]}]},{TYPE:"node",NAME:"VOLUME_SCATTER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ve",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vf","[","0","]","=","vf","[","1","]","=","vf","[","2","]","=","_0_0",";","vc",";","vd",";","ve",";"]}]},{TYPE:"node",NAME:"BUMP",NODE_VARS:[{TYPE:"node_var",NAME:"INVERT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"vg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vk",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","aC","=","vh",";","float","fX","=","vg",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["INVERT"],STATEMENTS:[{TYPE:"txt",TOKENS:["aC","=","-","1.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","P","=","vj",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","P","=","nH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_DERIVATIVES_EXT"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","vl","=","dFdx","(","nG",")",";","vec3","vm","=","dFdy","(","nG",")",";","vec3","vn","=","cross","(","vm",",","P",")",";","vec3","vo","=","cross","(","P",",","vl",")",";","float","db","=","dot","(","vl",",","vn",")",";","float","vp","=","abs","(","db",")",";","vec3","vq","=","dFdx","(","vi",")","*","vn","+","dFdy","(","vi",")","*","vo",";","fX","=","max","(","fX",",","0.0",")",";","vk","=","normalize","(","vp","*","P","-","aC","*","sign","(","db",")","*","vq",")",";","vk","=","normalize","(","fX","*","vk","+","(","1.0","-","fX",")","*","P",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vk","=","P",";"]}]}]}]},{TYPE:"node",NAME:"NORMAL_MAP",NODE_VARS:[{TYPE:"node_var",NAME:"SPACE",TOKENS:["NM_TANGENT"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"vr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vs",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vt",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","vu","=","nH",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SPACE","NM_TANGENT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vt","=","2.0","*","vs",".","xyz","-","_1_0",";","vt","=","rm","*","vt",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_OBJECT",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_OBJECT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vt","=","2.0","*","vs",".","xyz","-","_1_0",";","vt",".","yz","*=","-","1.0",";","vt","=","T","(","u_model_tsr",",","vt",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_WORLD",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_WORLD",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vt","=","2.0","*","vs",".","xyz","-","_1_0",";","vt",".","yz","*=","-","1.0",";"]}]}]},{TYPE:"txt",TOKENS:["vt","=","normalize","(","mix","(","vu",",","vt",",","vr",")",")",";"]}]},{TYPE:"node",NAME:"VECT_TRANSFORM",NODE_VARS:[{TYPE:"node_var",NAME:"CONVERT_TYPE",TOKENS:["VT_WORLD_TO_OBJECT"]},{TYPE:"node_var",NAME:"VECTOR_TYPE",TOKENS:["VT_VECTOR"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"vv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_WORLD",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_OBJECT_TO_OBJECT",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_CAMERA_TO_CAMERA",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","vv",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_POINT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","ad","(","u_view_tsr_frag",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","ad","(","u_model_tsr_inverse",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","ad","(","u_model_tsr",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","ad","(","u_model_tsr",",","vv",")",";","vw","=","ad","(","u_view_tsr_frag",",","vw",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","ad","(","u_view_tsr_inverse",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","ad","(","u_view_tsr_inverse",",","vv",")",";","vw","=","ad","(","u_model_tsr_inverse",",","vw",")",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","T","(","u_view_tsr_frag",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","T","(","u_model_tsr_inverse",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","T","(","u_model_tsr",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","T","(","u_model_tsr",",","vv",")",";","vw","=","T","(","u_view_tsr_frag",",","vw",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","T","(","u_view_tsr_inverse",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","T","(","u_view_tsr_inverse",",","vv",")",";","vw","=","T","(","u_model_tsr_inverse",",","vw",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_NORMAL",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","normalize","(","vw",")",";"]}]}]}]}]}]},{TYPE:"node",NAME:"BLACKBODY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vx",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vy",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vy","[","0","]","=","vy","[","1","]","=","vy","[","2","]","=","_0_0",";","vx",";"]}]},{TYPE:"node",NAME:"WAVELENGTH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vA",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vA","[","0","]","=","vA","[","1","]","=","vA","[","2","]","=","_0_0",";","vz",";"]}]},{TYPE:"node",NAME:"SEPXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vC","=","vB","[","0","]",";","vD","=","vB","[","1","]",";","vE","=","vB","[","2","]",";"]}]},{TYPE:"node",NAME:"COMBXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vI",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vI","[","0","]","=","vF",";","vI","[","1","]","=","vG",";","vI","[","2","]","=","vH",";"]}]},{TYPE:"node",NAME:"BRIGHTCONTRAST",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","b","=","vK","-","vL","*","_0_5",";","vM","=","max","(","(","_1_0","+","vL",")","*","vJ","+","b",",","vec3","(","_0_0",")",")",";"]}]},{TYPE:"node",NAME:"LIGHT_FALLOFF",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vR",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vP","=","vQ","=","vR","=","_0_0",";","vN",";","vO",";"]}]},{TYPE:"node",NAME:"TEX_SKY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vT","[","0","]","=","vT","[","1","]","=","vT","[","2","]","=","_0_0",";","vS",";"]}]},{TYPE:"node",NAME:"TEX_NOISE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vY","[","0","]","=","vY","[","1","]","=","vY","[","2","]","=","_0_0",";","vZ","=","_1_0",";","vU",";","vV",";","vW",";","vX",";"]}]},{TYPE:"node",NAME:"TEX_WAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"v_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"we",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["we","[","0","]","=","we","[","1","]","=","we","[","2","]","=","_0_0",";","wf","=","_1_0",";","v_",";","wa",";","wb",";","wc",";","wd",";"]}]},{TYPE:"node",NAME:"TEX_VORONOI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wi","[","0","]","=","wi","[","1","]","=","wi","[","2","]","=","_0_0",";","wj","=","_1_0",";","wg",";","wh",";"]}]},{TYPE:"node",NAME:"TEX_MUSGRAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ws",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wr","[","0","]","=","wr","[","1","]","=","wr","[","2","]","=","_0_0",";","ws","=","_1_0",";","wk",";","wl",";","wm",";","wn",";","wo",";","wp",";","wq",";"]}]},{TYPE:"node",NAME:"TEX_GRADIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wv",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wu","[","0","]","=","wu","[","1","]","=","wu","[","2","]","=","_0_0",";","wv","=","_1_0",";","wt",";"]}]},{TYPE:"node",NAME:"TEX_MAGIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wD","[","0","]","=","wD","[","1","]","=","wD","[","2","]","=","_0_0",";","wE","=","_1_0",";","wA",";","wB",";","wC",";"]}]},{TYPE:"node",NAME:"TEX_CHECKER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wJ","[","0","]","=","wJ","[","1","]","=","wJ","[","2","]","=","_0_0",";","wK","=","_1_0",";","wF",";","wG",";","wH",";","wI",";"]}]},{TYPE:"node",NAME:"TEX_BRICK",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wV",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wU","[","0","]","=","wU","[","1","]","=","wU","[","2","]","=","_0_0",";","wV","=","_1_0",";","wL",";","wM",";","wN",";","wO",";","wP",";","wQ",";","wR",";","wS",";","wT",";"]}]},{TYPE:"node",NAME:"ADD_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wY","=","clamp","(","wW","+","wX",",","vec3","(","_0_0",")",",","vec3","(","_1_0",")",")",";"]}]},{TYPE:"node",NAME:"MIX_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"w_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xe",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","wZ",",","_0_0",",","_1_0",")",";","xs","=","mix","(","xb",",","xj",",","xE",")",";","xt","=","mix","(","xc",",","xk",",","xE",")",";","if","(","xf",">","_0_0",")","{","if","(","xn",">","_0_0",")","{","xu","=","mix","(","xd",",","xl",",","xE",")",";","xv","=","mix","(","xe",",","xm",",","xE",")",";","}","else","{","xu","=","xd",";","xv","=","xe",";","}","}","else","{","xu","=","xl",";","xv","=","xm",";","}","if","(","xi",">","_0_0",")","{","if","(","xq",">","_0_0",")","{","xC","=","mix","(","xh",",","xp",",","xE",")",";","}","else","{","xC","=","xh",";","}","}","else","{","xC","=","xp",";","}","xA","=","mix","(","xf",",","xn",",","xE",")",";","xB","=","mix","(","xg",",","xo",",","xE",")",";","xD","=","mix","(","xi",",","xq",",","xE",")",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rd",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_xF"],STATEMENTS:[{TYPE:"txt",TOKENS:["xF","=","qP","(","rd",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_xG"],STATEMENTS:[{TYPE:"txt",TOKENS:["xG","=","vec3","(","rd",",","_0_0",")",";"]}]}]}]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"re",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xH","=","vec3","(","re",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xI",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xI","=","nH",";"]}]},{TYPE:"node",NAME:"TEX_COORD_GE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xJ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xJ","=","qL",";"]}]},{TYPE:"node",NAME:"TEX_COORD_OB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xK",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xK","=","ad","(","u_model_tsr_inverse",",","nG",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_CA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xL",".","xy","=","rn",".","xy",";","xL",".","z","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_WI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xM",".","xy","=","l",".","xy","/","l",".","z",";","xM",".","z","=","_0_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_RE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xN",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xN","=","reflect","(","-","nI",",","nH",")",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rf",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xO","=","vec3","(","rf",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xV",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xP","=","_0_0",";","xQ","=","_0_0",";","xR","=","_0_0",";","xS","=","vec3","(","_0_0",")",";","xT","=","_0_0",";","xU","=","xS",";","xV","=","xS",";"]}]},{TYPE:"node",NAME:"HAIR_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xW","=","_0_0",";","xX","=","_0_0",";","xY","=","_0_0",";","xZ","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"OBJECT_INFO",NODE_VARS:[{TYPE:"node_var",NAME:"USE_LOCATION_OUT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_OBJ_IND_OUT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MAT_IND_OUT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_RANDOM_OUT",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"x_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ya",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yc",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_LOCATION_OUT"],STATEMENTS:[{TYPE:"txt",TOKENS:["x_","=","u_model_tsr","[","0","]",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OBJ_IND_OUT"],STATEMENTS:[{TYPE:"txt",TOKENS:["ya","=","u_obj_info",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MAT_IND_OUT"],STATEMENTS:[{TYPE:"txt",TOKENS:["yb","=","u_obj_info",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_RANDOM_OUT"],STATEMENTS:[{TYPE:"txt",TOKENS:["yc","=","u_obj_info",".","b",";"]}]}]}]},{TYPE:"node",NAME:"WIREFRAME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"yd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ye",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ye","=","yd",";"]}]},{TYPE:"node",NAME:"TANGENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yf","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LAYER_WEIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","bW","=","normalize","(","yh",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","bW","=","nH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CAMERA_TYPE","CAM_TYPE_PERSP",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","yk","=","normalize","(","nI",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","yk","=","u_camera_direction",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_yi"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","qT","=","max","(","_1_0","-","yg",",","0.00001",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["qT","=","gl_FrontFacing","==","false","?","qT",":","_1_0","/","qT",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["qT","=","gl_FrontFacing","?","qT",":","_1_0","/","qT",";"]}]}]},{TYPE:"txt",TOKENS:["yi","=","qV","(","yk",",","bW",",","qT",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yi","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_yj"],STATEMENTS:[{TYPE:"txt",TOKENS:["yj","=","abs","(","dot","(","yk",",","bW",")",")",";","float","dI","=","yg",";","if","(","dI","!=","_0_5",")","{","dI","=","clamp","(","dI",",","_0_0",",","0.99999",")",";","dI","=","(","dI","<","_0_5",")","?","2.0","*","dI",":","_0_5","/","(","_1_0","-","dI",")",";","yj","=","pow","(","yj",",","dI",")",";","}","yj","=","_1_0","-","yj",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yj","=","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"LIGHT_PATH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ym",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ys",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yv",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yl","=","ym","=","yn","=","_0_0",";","yo","=","yp","=","yq","=","_0_0",";","yr","=","yv","=","yt","=","yu","=","_0_0",";","ys","=","_0_0",";"]}]},{TYPE:"node",NAME:"ATTRIBUTE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yC",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yA","=","yB","=","vec3","(","_0_0",")",";","yC","=","_0_0",";"]}]},{TYPE:"node",NAME:"SCRIPT",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[]},{TYPE:"node",NAME:"CURVE_VEC",NODE_VARS:[{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yF","=","yE",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["yF",".","r","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","yE",".","r","+","0.5",",","NODE_TEX_ROW",")",")",".","r","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["yF",".","g","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","yE",".","g","+","0.5",",","NODE_TEX_ROW",")",")",".","g","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["yF",".","b","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","yE",".","b","+","0.5",",","NODE_TEX_ROW",")",")",".","b","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"txt",TOKENS:["yF","=","mix","(","yE",",","yF",",","yD",")",";"]}]},{TYPE:"node",NAME:"CURVE_RGB",NODE_VARS:[{TYPE:"node_var",NAME:"READ_A",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yI",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_A"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","yH",".","r",",","NODE_TEX_ROW",")",")",".","a",";","float","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","yH",".","g",",","NODE_TEX_ROW",")",")",".","a",";","float","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","yH",".","b",",","NODE_TEX_ROW",")",")",".","a",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","yH",".","r",";","float","g","=","yH",".","g",";","float","b","=","yH",".","b",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["yI",".","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","r",",","NODE_TEX_ROW",")",")",".","r",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yI",".","r","=","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["yI",".","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","g",",","NODE_TEX_ROW",")",")",".","g",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yI",".","g","=","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["yI",".","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","b",",","NODE_TEX_ROW",")",")",".","b",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yI",".","b","=","b",";"]}]}]},{TYPE:"txt",TOKENS:["yI","=","mix","(","yH",",","yI",",","yG",")",";"]}]},{TYPE:"node",NAME:"VALTORGB",NODE_VARS:[{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","yM","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","yJ",",","NODE_TEX_ROW",")",")",";","yK","=","yM",".","rgb",";","yL","=","yM",".","a",";"]}]},{TYPE:"node",NAME:"MAPPING",NODE_VARS:[{TYPE:"node_var",NAME:"MAPPING_SCALE_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_SCALE",TOKENS:["vec3","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRANS_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRANS",TOKENS:["vec3","(","0.0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX",TOKENS:["mat4","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP",TOKENS:["vec3","(","0.0",")"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP",TOKENS:["vec3","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_IS_NORMAL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","yN",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_SCALE_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","yO","*","MAPPING_SCALE",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRANS_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","yO","+","MAPPING_TRANS",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRS_MATRIX_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","(","MAPPING_TRS_MATRIX","*","vec4","(","yO",",","_1_0",")",")",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MIN_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","max","(","yO",",","MAPPING_MIN_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MAX_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","min","(","yO",",","MAPPING_MAX_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_IS_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","normalize","(","yO",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yR",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yR","=","yP","+","yQ",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yR","=","clamp","(","yR",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yU",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yU","=","yS","-","yT",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yU","=","clamp","(","yU",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yX","=","yV","*","yW",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yX","=","clamp","(","yX",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"y_",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["y_","=","(","yZ","!=","_0_0",")","?","yY","/","yZ",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["y_","=","clamp","(","y_",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"za",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zc",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zc","=","sin","(","za",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zc","=","clamp","(","zc",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zb",";"]}]},{TYPE:"node",NAME:"MATH_COSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ze",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zf","=","cos","(","zd",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zf","=","clamp","(","zf",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["ze",";"]}]},{TYPE:"node",NAME:"MATH_TANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zi",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zi","=","tan","(","zg",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zi","=","clamp","(","zi",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zh",";"]}]},{TYPE:"node",NAME:"MATH_ARCSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zl",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zl","=","(","zj","<=","_1_0","&&","zj",">=","-","_1_0",")","?","asin","(","zj",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zl","=","clamp","(","zl",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zk",";"]}]},{TYPE:"node",NAME:"MATH_ARCCOSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zo",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zo","=","(","zm","<=","_1_0","&&","zm",">=","-","_1_0",")","?","acos","(","zm",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zo","=","clamp","(","zo",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zn",";"]}]},{TYPE:"node",NAME:"MATH_ARCTANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zr",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zr","=","atan","(","zp",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zr","=","clamp","(","zr",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zq",";"]}]},{TYPE:"node",NAME:"MATH_POWER",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zs",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zu",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","zs","<","_0_0","&&","zt","!=","floor","(","zt",")",")","zu","=","_0_0",";","else","if","(","zt","==","_0_0",")","zu","=","_1_0",";","else","if","(","zs","<","_0_0",")","zu","=","mix","(","_1_0",",","-","_1_0",",","sign","(","mod","(","-","zt",",","2.0",")",")",")","*","pow","(","-","zs",",","zt",")",";","else","if","(","zs","==","_0_0",")","zu","=","_0_0",";","else","zu","=","pow","(","zs",",","zt",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zu","=","clamp","(","zu",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_LOGARITHM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zB",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zB","=","(","zv",">","_0_0","&&","zA",">","_0_0",")","?","log2","(","zv",")","/","log2","(","zA",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zB","=","clamp","(","zB",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MINIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zE","=","min","(","zC",",","zD",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zE","=","clamp","(","zE",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MAXIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zH",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zH","=","max","(","zF",",","zG",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zH","=","clamp","(","zH",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ROUND",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zK","=","floor","(","zI","+","_0_5",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zK","=","clamp","(","zK",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zJ",";"]}]},{TYPE:"node",NAME:"MATH_LESS_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zN",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zN","=","(","zL","<","zM",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zN","=","clamp","(","zN",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_GREATER_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","(","zO",">","zP",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","clamp","(","zQ",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MODULO",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zT","=","abs","(","zS",")",">","0.000001","?","mod","(","zR",",","zS",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zT","=","clamp","(","zT",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ABSOLUTE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zW",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zW","=","abs","(","zU",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zW","=","clamp","(","zW",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zV",";"]}]},{TYPE:"node",NAME:"MIX_RGB_MIX",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"z_",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","zX",",","_0_0",",","_1_0",")",";","z_","=","mix","(","zY",",","zZ",",","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["z_","=","clamp","(","z_",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Aa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ab",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ac",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ad",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Aa",",","_0_0",",","_1_0",")",";","Ad","=","mix","(","Ab",",","Ab","+","Ac",",","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ad","=","clamp","(","Ad",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ae",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Af",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ag",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ah",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Ae",",","_0_0",",","_1_0",")",";","Ah","=","mix","(","Af",",","Af","*","Ag",",","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ah","=","clamp","(","Ah",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ai",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Aj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ak",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Al",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Ai",",","_0_0",",","_1_0",")",";","Al","=","mix","(","Aj",",","Aj","-","Ak",",","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Al","=","clamp","(","Al",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SCREEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Am",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"An",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ao",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ap",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Am",",","_0_0",",","_1_0",")",";","float","Aq","=","_1_0","-","xE",";","Ap","=","vec3","(","_1_0",")","-","(","vec3","(","Aq",")","+","xE","*","(","vec3","(","_1_0",")","-","Ao",")",")","*","(","vec3","(","_1_0",")","-","An",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ap","=","clamp","(","Ap",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ar",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"As",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"At",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Au",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Ar",",","_0_0",",","_1_0",")",";","float","Aq","=","_1_0","-","xE",";","At","+=","step","(","At",",","vec3","(","_0_0",")",")",";","Au","=","Aq","*","As","+","xE","*","As","/","At",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Au","=","clamp","(","Au",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIFFERENCE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Av",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Aw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ax",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ay",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Av",",","_0_0",",","_1_0",")",";","Ay","=","mix","(","Aw",",","abs","(","Aw","-","Ax",")",",","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ay","=","clamp","(","Ay",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DARKEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Az",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Az",",","_0_0",",","_1_0",")",";","AC","=","min","(","AA",".","rgb",",","AB",".","rgb","*","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AC","=","clamp","(","AC",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LIGHTEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","AD",",","_0_0",",","_1_0",")",";","AG","=","max","(","AE",".","rgb",",","AF",".","rgb","*","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AG","=","clamp","(","AG",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_OVERLAY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AK",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","AH",",","_0_0",",","_1_0",")",";","vec3","AL","=","vec3","(","_1_0","-","xE",")",";","AK","=","mix","(","AI","*","(","AL","+","2.0","*","xE","*","AJ",")",",","vec3","(","_1_0",")","-","(","AL","+","2.0","*","xE","*","(","vec3","(","_1_0",")","-","AJ",")",")","*","(","vec3","(","_1_0",")","-","AI",")",",","step","(","_0_5",",","AI",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AK","=","clamp","(","AK",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DODGE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","AM",",","_0_0",",","_1_0",")",";","vec3","AQ","=","vec3","(","_1_0",")","-","xE","*","AO",";","vec3","AR","=","clamp","(","AN","/","AQ",",","_0_0",",","_1_0",")",";","AP","=","mix","(","mix","(","AR",",","vec3","(","_1_0",")",",","step","(","AQ",",","vec3","(","_0_0",")",")",")",",","AN",",","step","(","AN",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AP","=","clamp","(","AP",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_BURN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AV",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","AS",",","_0_0",",","_1_0",")",";","vec3","jH","=","vec3","(","_1_0","-","xE",")",";","vec3","AQ","=","jH","+","xE","*","AU",";","vec3","AR","=","clamp","(","vec3","(","_1_0",")","-","(","vec3","(","_1_0",")","-","AT",")","/","AQ",",","_0_0",",","_1_0",")",";","AV","=","mix","(","AR",",","vec3","(","_0_0",")",",","step","(","AQ",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AV","=","clamp","(","AV",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_HUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","AW",",","_0_0",",","_1_0",")",";","vec3","jz",",","A_",",","AQ",";","AZ","=","AX",";","A_","=","jy","(","AY",")",";","if","(","A_",".","y","!=","_0_0",")","{","jz","=","jy","(","AZ",")",";","jz",".","x","=","A_",".","x",";","AQ","=","jA","(","jz",")",";","AZ","=","mix","(","AZ",",","AQ",",","xE",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AZ","=","clamp","(","AZ",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SATURATION",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ba",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bd",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Ba",",","_0_0",",","_1_0",")",";","float","Aq","=","_1_0","-","xE",";","Bd","=","Bb",";","vec3","jz",",","A_",";","jz","=","jy","(","Bd",")",";","if","(","jz",".","y","!=","_0_0",")","{","A_","=","jy","(","Bc",")",";","jz",".","y","=","Aq","*","jz",".","y","+","xE","*","A_",".","y",";","Bd","=","jA","(","jz",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bd","=","clamp","(","Bd",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Be",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Be",",","_0_0",",","_1_0",")",";","float","Aq","=","_1_0","-","xE",";","vec3","jz",",","A_",";","jz","=","jy","(","Bf",")",";","A_","=","jy","(","Bg",")",";","jz",".","z","=","Aq","*","jz",".","z","+","xE","*","A_",".","z",";","Bh","=","jA","(","jz",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bh","=","clamp","(","Bh",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Bi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bl",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Bi",",","_0_0",",","_1_0",")",";","vec3","jz",",","A_",",","AQ",";","Bl","=","Bj",";","A_","=","jy","(","Bk",")",";","if","(","A_",".","y","!=","_0_0",")","{","jz","=","jy","(","Bl",")",";","jz",".","x","=","A_",".","x",";","jz",".","y","=","A_",".","y",";","AQ","=","jA","(","jz",")",";","Bl","=","mix","(","Bl",",","AQ",",","xE",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bl","=","clamp","(","Bl",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SOFT_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Bm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Bm",",","_0_0",",","_1_0",")",";","float","Aq","=","_1_0","-","xE",";","vec3","Bq","=","Bo","+","Bn","-","Bo","*","Bn",";","Bp","=","Bn","*","(","vec3","(","Aq",")","+","vec3","(","xE",")","*","(","(","vec3","(","_1_0",")","-","Bn",")","*","Bo","+","Bq",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bp","=","clamp","(","Bp",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LINEAR_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Br",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bu",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Br",",","_0_0",",","_1_0",")",";","Bu","=","Bs","+","xE","*","(","2.0","*","Bt","-","vec3","(","_1_0",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bu","=","clamp","(","Bu",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bw",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","Bv",";","H","=","Bw",";"]}]},{TYPE:"node",NAME:"OUTPUT_MATERIAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"By",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bz",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","Bx",";"]}]},{TYPE:"node",NAME:"MATERIAL_BEGIN",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_NORMAL",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"SHADELESS_MAT",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BD",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"BE",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BK",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BL",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BM",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rh",QUALIFIER:["const","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"ri",QUALIFIER:["const","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BH","=","clamp","(","BA",",","_0_0",",","_1_0",")",";","BI","=","ri","[","0","]","*","clamp","(","BB",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["BJ","=","normalize","(","BD",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["BJ","=","nH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SHADELESS_MAT",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"txt",TOKENS:["BF","=","BE","*","BH",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["BF","=","ro","*","BH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["BH","*=","BC",";"]}]}]},{TYPE:"txt",TOKENS:["BG","=","rp","*","u_environment_energy","*","ce","(","BJ",")",";","BM","=","ch","(","BH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["BK","=","vec2","(","rh","[","0","]",",","rh","[","1","]",")",";","BL","=","vec2","(","ri","[","1","]",",","ri","[","2","]",")",";"]}]}]},{TYPE:"txt",TOKENS:["G","=","BM",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["BF","=","vec3","(","_0_0",")",";","BG","=","vec3","(","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATERIAL_END",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_SPECULAR",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BN",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BQ",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"BR",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"BS",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BT",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BU",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BV",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BW",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BX",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"rj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rk",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BT"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["BT","=","BN",".","rgb",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["BT","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT","REFLECTION_TYPE","REFL_NONE",{TYPE:"non_equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["cq","(","BT",",","nI",",","BP",",","BQ",",","u_view_tsr_frag",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["cq","(","BT",",","nI",",","BP",",","BQ",",","mat3","(","_0_0",")",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["BT","+=","BO",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BV"],STATEMENTS:[{TYPE:"txt",TOKENS:["BV","=","BP",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BW"],STATEMENTS:[{TYPE:"txt",TOKENS:["BW","=","BN",".","rgb",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BX"],STATEMENTS:[{TYPE:"txt",TOKENS:["BX","=","BO",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BU"],STATEMENTS:[{TYPE:"txt",TOKENS:["BU","=","clamp","(","BS",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","BO",".","r",",","BO",".","g",")",",","BO",".","b",")","*","BR",";","BU","=","clamp","(","BS","*","(","_1_0","-","t",")","+","t",",","_0_0",",","_1_0",")",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BU"],STATEMENTS:[{TYPE:"txt",TOKENS:["BU","=","clamp","(","rj",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","BO",".","r",",","BO",".","g",")",",","BO",".","b",")","*","rk",";","BU","=","rj","*","(","_1_0","-","t",")","+","t",";"]}]}]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["E","=","BO",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["E","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["F","=","BP",";"]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"nZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"n_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ob",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ob","=","vec4","(","nZ","+","oa","*","n_",",","_0_0",")",";","oc","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]},{TYPE:"node_var",NAME:"LAMP_SHADOW_MAP_IND",TOKENS:["-","1"]},{TYPE:"node_var",NAME:"LAMP_USE_SPHERE",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"od",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"of",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"og",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["of","=","vec2","(","u_light_positions","[","LAMP_IND","]",".","w",",","u_light_color_intensities","[","LAMP_IND","]",".","w",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["oh","=","_0_5",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oh","=","_0_0",";"]}]}]},{TYPE:"txt",TOKENS:["og","=","u_light_color_intensities","[","LAMP_IND","]",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["og","*=","od","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","u_light_positions","[","LAMP_IND","]",".","xyz",";","oe","=","oi","-","nG",";","float","aC","=","length","(","oe",")",";","og","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","aC","*","aC",")",";","oe","=","normalize","(","oe",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","u_light_directions","[","LAMP_IND","]",";","float","ol","=","dot","(","oe",",","ok",")",";","ol","*=","smoothstep","(","_0_0",",","_1_0",",","(","ol","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","og","*=","ol",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_USE_SPHERE"],STATEMENTS:[{TYPE:"txt",TOKENS:["og","*=","max","(","LAMP_LIGHT_DIST","-","aC",",","_0_0",")","/","LAMP_LIGHT_DIST",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oe","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"om",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"on",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"op",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oq",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"or",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","qS","=","oo",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","om",",","B",".","xyz",")",";","qS","=","cross","(","os",",","B",".","xyz",")",";","qS","=","-","normalize","(","qS",")",";"]}]}]},{TYPE:"txt",TOKENS:["or","=","_0_0",";","if","(","on",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","op",")","*","dot","(","qS",",","om",")","+","op",";","if","(","oq","[","0","]","==","_0_0",")","{","or","=","_1_0",";","}","else","{","float","t","=","_1_0","+","abs","(","ot",")",";","t","=","oq","[","1","]","+","(","_1_0","-","oq","[","1","]",")","*","pow","(","t",",","oq","[","0","]",")",";","or","=","clamp","(","t",",","_0_0",",","_1_0",")",";","}","or","=","max","(","or",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ou",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ov",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ow",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ox",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oy",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","qS","=","ow",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","ou",",","B",".","xyz",")",";","qS","=","cross","(","os",",","B",".","xyz",")",";","qS","=","-","normalize","(","qS",")",";"]}]}]},{TYPE:"txt",TOKENS:["oy","=","_0_0",";","if","(","ov",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","ox",")","*","dot","(","qS",",","ou",")","+","ox",";","oy","=","max","(","ot",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oD",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","qS","=","oB",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oz",",","B",".","xyz",")",";","qS","=","cross","(","os",",","B",".","xyz",")",";","qS","=","-","normalize","(","qS",")",";"]}]}]},{TYPE:"txt",TOKENS:["oE","=","_0_0",";","if","(","oA",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oC",")","*","dot","(","qS",",","oz",")","+","oC",";","if","(","oD","[","0","]",">","_0_0",")","{","float","oF","=","max","(","dot","(","qS",",","nI",")",",","_0_0",")",";","float","oG","=","oD","[","0","]","*","oD","[","0","]",";","float","cg","=","_1_0","-","_0_5","*","(","oG","/","(","oG","+","0.33",")",")",";","vec3","oH","=","oz","-","ot","*","qS",";","vec3","oI","=","nI","-","oF","*","qS",";","if","(","length","(","oH",")","==","_0_0","||","length","(","oI",")","==","_0_0","||","abs","(","ot",")",">","_1_0","||","abs","(","oF",")",">","_1_0",")","oE","=","ot","*","cg",";","else","{","float","oJ","=","acos","(","ot",")",";","float","oK","=","acos","(","oF",")",";","vec3","oL","=","normalize","(","oH",")",";","vec3","oM","=","normalize","(","oI",")",";","float","a",",","b",";","a","=","max","(","oJ",",","oK",")",";","b","=","min","(","oJ",",","oK",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oL",",","oM",")",",","_0_0",")",";","float","oN","=","0.45","*","(","oG","/","(","oG","+","0.09",")",")",";","oE","=","ot","*","(","cg","+","(","oN","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","oE","=","ot",";","oE","=","max","(","oE",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oP",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oS",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","qS","=","oQ",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oO",",","B",".","xyz",")",";","qS","=","cross","(","os",",","B",".","xyz",")",";","qS","=","-","normalize","(","qS",")",";"]}]}]},{TYPE:"txt",TOKENS:["oT","=","_0_0",";","if","(","oP",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oR",")","*","dot","(","qS",",","oO",")","+","oR",";","float","oF","=","max","(","dot","(","qS",",","nI",")",",","_0_0",")",";","if","(","oS","[","0","]","<=","_1_0",")","oT","=","ot","*","pow","(","max","(","oF","*","ot",",","0.1",")",",","oS","[","0","]","-","_1_0",")",";","else","oT","=","ot","*","pow","(","1.0001","-","oF",",","oS","[","0","]","-","_1_0",")",";","oT","=","max","(","oT",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oV",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oY",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","qS","=","oW",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oU",",","B",".","xyz",")",";","qS","=","cross","(","os",",","B",".","xyz",")",";","qS","=","-","normalize","(","qS",")",";"]}]}]},{TYPE:"txt",TOKENS:["oZ","=","_0_0",";","if","(","oV",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oX",")","*","dot","(","qS",",","oU",")","+","oX",";","float","o_","=","acos","(","ot",")",";","if","(","o_","<","oY","[","0","]",")","oZ","=","_1_0",";","else","if","(","o_",">","(","oY","[","0","]","+","oY","[","1","]",")","||","oY","[","1","]","==","_0_0",")","oZ","=","_0_0",";","else","oZ","=","_1_0","-","(","(","o_","-","oY","[","0","]",")","/","oY","[","1","]",")",";","oZ","=","max","(","oZ",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pb",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pe",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","_0_0",";","if","(","pb",".","g","==","_1_0",")","{","vec3","pg","=","normalize","(","pa","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pd","==","_0_0",")","{","pf","=","dot","(","B",".","xyz",",","pg",")",";","pf","=","sqrt","(","_1_0","-","pf","*","pf",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","(","_1_0","-","pd",")","*","max","(","dot","(","pc",",","pg",")",",","_0_0",")","+","pd",";"]}]}]},{TYPE:"txt",TOKENS:["pf","=","pow","(","pf",",","pe","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_COOKTORR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ph",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pi",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","_0_0",";","if","(","pi",".","g","!=","_0_0",")","{","vec3","pg","=","normalize","(","ph","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pk","==","_0_0",")","{","pm","=","dot","(","B",".","xyz",",","pg",")",";","pm","=","sqrt","(","_1_0","-","pm","*","pm",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","max","(","dot","(","pj",",","pg",")",",","_0_0",")",";","pm","=","(","_1_0","-","pk",")","*","pm","+","pk",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","oF","=","max","(","dot","(","B",".","xyz",",","nI",")",",","_0_0",")",";","oF","=","sqrt","(","_1_0","-","oF","*","oF",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","oF","=","max","(","dot","(","pj",",","nI",")",",","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["pm","=","pow","(","pm",",","pl","[","0","]",")",";","pm","=","pm","/","(","0.1","+","oF",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"po",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pv",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pw",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pw","=","_0_0",";","if","(","po",".","g","==","_1_0",")","{","vec3","pg","=","normalize","(","pn","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","_0_0",";","float","oF","=","_0_0",";","float","py","=","_0_0",";","if","(","pu","==","_0_0",")","{","px","=","dot","(","B",".","xyz",",","pg",")",";","oF","=","dot","(","B",".","xyz",",","nI",")",";","py","=","dot","(","B",".","xyz",",","pn",")",";","px","=","sqrt","(","_1_0","-","px","*","px",")",";","oF","=","sqrt","(","_1_0","-","oF","*","oF",")",";","py","=","sqrt","(","_1_0","-","py","*","py",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","max","(","dot","(","pr",",","pg",")",",","0.01",")",";","float","oF","=","max","(","dot","(","pr",",","nI",")",",","0.01",")",";","float","py","=","max","(","dot","(","pr",",","pn",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","bm","=","tan","(","acos","(","px",")",")",";","float","J","=","max","(","pv","[","0","]",",","0.01",")",";","pw","=","py","*","(","_1_0","/","(","4.0","*","M_PI","*","J","*","J",")",")","*","(","exp","(","-","(","bm","*","bm",")","/","(","J","*","J",")",")","/","(","sqrt","(","oF","*","py",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pD",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pE","=","_0_0",";","if","(","pA",".","g","==","_1_0",")","{","vec3","bO","=","normalize","(","pz","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pF","=","dot","(","bO",",","B",".","xyz",")",";","float","bm","=","pD","[","0","]","+","pD","[","1","]",";","if","(","pC","==","_0_0",")","bm","=","acos","(","sqrt","(","_1_0","-","pF","*","pF",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","bm","=","acos","(","dot","(","bO",",","pB",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","bm","<","pD","[","0","]",")","pE","=","_1_0",";","else","if","(","bm",">=","pD","[","0","]","+","pD","[","1","]","||","pD","[","1","]","==","_0_0",")","pE","=","_0_0",";","else","pE","=","_1_0","-","(","bm","-","pD","[","0","]",")","/","pD","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pH",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pK",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pM","=","pK","[","0","]",";","float","pN","=","pK","[","1","]",";","pL","=","_0_0",";","if","(","pH",".","g","==","_1_0",")","{","if","(","pM","<","1.0","||","pN","==","_0_0",")","pL","=","_0_0",";","else","{","if","(","pN","<","100.0",")","pN","=","sqrt","(","1.0","/","pN",")",";","else","pN","=","10.0","/","pN",";","vec3","pg","=","normalize","(","nI","+","pG",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","0.0",";","if","(","pJ","==","_0_0",")","{","float","pO","=","dot","(","B",".","xyz",",","pg",")",";","px","=","sqrt","(","_1_0","-","pO","*","pO",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","(","_1_0","-","pJ",")","*","max","(","dot","(","pI",",","pg",")",",","_0_0",")","+","pJ",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","px","<","_0_0",")","pL","=","_0_0",";","else","{","float","oF","=","max","(","dot","(","pI",",","nI",")",",","0.01",")",";","float","py","=","dot","(","pI",",","pG",")",";","if","(","py","<=","0.01",")","pL","=","_0_0",";","else","{","float","pP","=","max","(","dot","(","nI",",","pg",")",",","0.01",")",";","float","a","=","_1_0",";","float","b","=","(","2.0","*","px","*","oF",")","/","pP",";","float","da","=","(","2.0","*","px","*","py",")","/","pP",";","float","g","=","min","(","min","(","a",",","b",")",",","da",")",";","float","p","=","sqrt","(","pow","(","pM",",","2.0",")","+","pow","(","pP",",","2.0",")","-","_1_0",")",";","float","lw","=","pow","(","p","-","pP",",","2.0",")","/","pow","(","p","+","pP",",","2.0",")","*","(","_1_0","+","pow","(","pP","*","(","p","+","pP",")","-","_1_0",",","2.0",")","/","pow","(","pP","*","(","p","-","pP",")","+","_1_0",",","2.0",")",")",";","float","o_","=","acos","(","px",")",";","pL","=","max","(","lw","*","g","*","exp","(","-","pow","(","o_",",","2.0",")","/","(","2.0","*","pow","(","pN",",","2.0",")",")",")",",","_0_0",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pQ",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pW",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"p_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qa",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NODE_B4W_TRANSLUCENCY"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","pU",",","pV",")","*","dot","(","nI",",","pV",")","<","_0_0",")","{","float","BY","=","pW",".","x",";","float","BZ","=","pW",".","y",";","float","B_","=","pW",".","z",";","float","Ca","=","pW",".","w",";","float","Cb","=","clamp","(","abs","(","dot","(","pU",",","pV",")",")",",","_0_0",",","_1_0",")",";","float","Cc","=","clamp","(","dot","(","nI",",","-","pU",")",",","_0_0",",","_1_0",")",";","float","Cd","=","pow","(","Cc",",","BZ",")",";","qa","=","pQ","+","p_","*","vec4","(","pZ","*","Cb","*","pow","(","pX",",","vec3","(","BY",")",")",",","_1_0",")",";","qa","+=","B_","*","mix","(","vec4","(","pX",",","_1_0",")",",","vec4","(","_1_0",")",",","Ca",")","*","p_","*","vec4","(","pZ","*","Cb","*","vec3","(","Cd",")",",","_1_0",")",";","qb","=","pR",";","}","else","{","qb","=","pR","+","pZ","*","pY","*","pT",";","qa","=","pQ","+","vec4","(","pZ","*","pX","*","pS",",","pT",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["qb","=","pR","+","pZ","*","pY","*","pT",";","qa","=","pQ","+","vec4","(","pZ","*","pX","*","pS",",","pT",")",";"]}]}]}]},{TYPE:"node",NAME:"RGB",NODE_VARS:[{TYPE:"node_var",NAME:"RGB_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"Ce",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ce","=","u_node_rgbs","[","RGB_IND","]",";"]}]},{TYPE:"node",NAME:"RGBTOBW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cg",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Cg","=","dot","(","Cf",",","vec3","(","0.35",",","0.45",",","0.2",")",")",";"]}]},{TYPE:"node",NAME:"SEPRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ch",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ci",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Cj",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ck",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ci"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ci","=","Ch",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Cj"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cj","=","Ch",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ck"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ck","=","Ch",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SEPHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cm",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Cn",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Co",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","Cp","=","jy","(","Cl",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Cm"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cm","=","Cp",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Cn"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cn","=","Cp",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Co"],STATEMENTS:[{TYPE:"txt",TOKENS:["Co","=","Cp",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SQUEEZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cs",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ct",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ct","=","_1_0","/","(","_1_0","+","pow","(","2.71828183",",","-","(","Cq","-","Cs",")","*","Cr",")",")",";"]}]},{TYPE:"node",NAME:"GAMMA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Cw","=","Cu",";","if","(","Cw",".","x",">","_0_0",")","Cw",".","x","=","pow","(","Cu",".","x",",","Cv",")",";","if","(","Cw",".","y",">","_0_0",")","Cw",".","y","=","pow","(","Cu",".","y",",","Cv",")",";","if","(","Cw",".","z",">","_0_0",")","Cw",".","z","=","pow","(","Cu",".","z",",","Cv",")",";"]}]},{TYPE:"node",NAME:"B4W_SRGB_TO_LINEAR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cy",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Cy","=","max","(","vec3","(","_0_0",")",",","Cx",")",";","Cy","=","pow","(","Cy",",","vec3","(","2.2",")",")",";"]}]},{TYPE:"node",NAME:"B4W_LINEAR_TO_SRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CA",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["CA","=","max","(","vec3","(","_0_0",")",",","Cz",")",";","CA","=","pow","(","CA",",","vec3","(","_1_0","/","2.2",")",")",";"]}]},{TYPE:"node",NAME:"TEXTURE_EMPTY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"CB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CB"],STATEMENTS:[{TYPE:"txt",TOKENS:["CB","[","2","]","=","CB","[","1","]","=","CB","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CC"],STATEMENTS:[{TYPE:"txt",TOKENS:["CC","[","2","]","=","CC","[","1","]","=","CC","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CD"],STATEMENTS:[{TYPE:"txt",TOKENS:["CD","=","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_ENVIRONMENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"CE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CF",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CG",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_ENVIRONMENT_var_texture",QUALIFIER:["uniform","samplerCube"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","CH","=","vec3","(","CE",".","x",",","CE",".","y",",","CE",".","z",")",";","vec4","yM","=","GLSL_TEXTURE_CUBE","(","node_TEXTURE_ENVIRONMENT_var_texture",",","CH",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CF"],STATEMENTS:[{TYPE:"txt",TOKENS:["CF","=","yM",".","xyz",";","bY","(","CF",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CG"],STATEMENTS:[{TYPE:"txt",TOKENS:["CG","=","yM",".","w",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"NON_COLOR",TOKENS:["0"]},{TYPE:"node_var",NAME:"CONVERT_UV",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"CI",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CJ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CK",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CL",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CM",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CN",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CO",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CP",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CQ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CR",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CS",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CT",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_COLOR_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_UV"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","yM","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qQ","(","CI",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","yM","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","CI",".","xy",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CM"],STATEMENTS:[{TYPE:"txt",TOKENS:["CM","=","yM",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","CM",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CN"],STATEMENTS:[{TYPE:"txt",TOKENS:["CN","=","yM",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_UV"],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qQ","(","CJ",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","CJ",".","xy",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CO"],STATEMENTS:[{TYPE:"txt",TOKENS:["CO","=","yM",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","CO",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CP"],STATEMENTS:[{TYPE:"txt",TOKENS:["CP","=","yM",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_UV"],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qQ","(","CK",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","CK",".","xy",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CQ"],STATEMENTS:[{TYPE:"txt",TOKENS:["CQ","=","yM",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","CQ",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CR"],STATEMENTS:[{TYPE:"txt",TOKENS:["CR","=","yM",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_UV"],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qQ","(","CL",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","CL",".","xy",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CS"],STATEMENTS:[{TYPE:"txt",TOKENS:["CS","=","yM",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","CS",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CT"],STATEMENTS:[{TYPE:"txt",TOKENS:["CT","=","yM",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"TEXTURE_NORMAL",NODE_VARS:[{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"CU",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CV",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CW",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CX",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CY",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CZ",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"C_",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Da",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Db",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dc",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dd",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"De",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_NORMAL_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","yM","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qQ","(","CU",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CY"],STATEMENTS:[{TYPE:"txt",TOKENS:["CY","=","normalize","(","rm","*","(","yM",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CZ"],STATEMENTS:[{TYPE:"txt",TOKENS:["CZ","=","yM",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qQ","(","CV",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_C_"],STATEMENTS:[{TYPE:"txt",TOKENS:["C_","=","normalize","(","rm","*","(","yM",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Da"],STATEMENTS:[{TYPE:"txt",TOKENS:["Da","=","yM",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qQ","(","CW",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Db"],STATEMENTS:[{TYPE:"txt",TOKENS:["Db","=","normalize","(","rm","*","(","yM",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dc"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dc","=","yM",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qQ","(","CX",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dd"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dd","=","normalize","(","rm","*","(","yM",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_De"],STATEMENTS:[{TYPE:"txt",TOKENS:["De","=","yM",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"VALUE_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"Df",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Df","=","u_node_values","[","VALUE_IND","]",";"]}]},{TYPE:"node",NAME:"VECT_MATH_ADD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Dg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Di",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dj",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Di","=","Dg","+","Dh",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dj"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dj","=","(","abs","(","Di","[","0","]",")","+","abs","(","Di","[","1","]",")","+","abs","(","Di","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_SUBTRACT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Dk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dn",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Dm","=","Dk","-","Dl",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dn"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dn","=","(","abs","(","Dm","[","0","]",")","+","abs","(","Dm","[","1","]",")","+","abs","(","Dm","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_AVERAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Do",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dr",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Dq","=","Do","+","Dp",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dr"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dr","=","length","(","Dq",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dq"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dq","=","normalize","(","Dq",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_DOT_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ds",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Du",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dv",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Du","=","vec3","(","_0_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dv"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dv","=","dot","(","Ds",",","Dt",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_CROSS_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Dw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dz",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Dy","=","cross","(","Dw",",","Dx",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dz"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dz","=","length","(","Dy",")",";","Dy","/=","Dz",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["Dy","=","normalize","(","Dy",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_NORMALIZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DD",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["DC","=","normalize","(","DA",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_DD"],STATEMENTS:[{TYPE:"txt",TOKENS:["DD","=","length","(","DA",")",";"]}]}]},{TYPE:"txt",TOKENS:["DB",";"]}]},{TYPE:"node",NAME:"FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"USE_FRESNEL_NORMAL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"DE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DG",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_FRESNEL_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","bW","=","normalize","(","DF",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","bW","=","nH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CAMERA_TYPE","CAM_TYPE_PERSP",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","yk","=","normalize","(","nI",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","yk","=","u_camera_direction",";"]}]}]},{TYPE:"txt",TOKENS:["float","qT","=","max","(","DE",",","0.00001",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["qT","=","gl_FrontFacing","==","false","?","qT",":","_1_0","/","qT",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["qT","=","gl_FrontFacing","?","qT",":","_1_0","/","qT",";"]}]}]},{TYPE:"txt",TOKENS:["DG","=","qV","(","yk",",","bW",",","qT",")",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DJ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DJ","=","reflect","(","T","(","u_view_tsr_inverse",",","DH",")",",","DI",")",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT_WORLD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DL","=","reflect","(","-","nI",".","xyz",",","DK",")",";"]}]},{TYPE:"node",NAME:"B4W_PARALLAX",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DO",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DP",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"node_B4W_PARALLAX_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","bp","=","length","(","rn",")",";","if","(","bp","<","DP",")","{","vec2","bE","=","qQ","(","DM",")",";","float","bI","=","clamp","(","_0_5","*","(","DP","-","bp",")",",","_0_0",",","_1_0",")",";","float","hk","=","DN","*","bI",";","vec3","bK","=","normalize","(","nI","*","rm",")",";","float","bL","=","_1_0","/","DO",";","vec2","bM","=","bK",".","xy","*","hk","/","(","DO","*","bK",".","z",")",";","float","bN","=","_1_0",";","float","bO","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bE",")",".","a",";","for","(","float","bQ","=","1.0",";","bQ","<=","DO",";","bQ","++",")","{","if","(","bO","<","bN",")","{","bN","-=","bL",";","bE","-=","bM",";","bO","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bE",")",".","a",";","}","}","vec2","bR","=","bE","+","bM",";","float","bS","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bR",")",".","a","-","(","bN","+","bL",")",";","float","bT","=","bO","-","bN",";","float","bU","=","bT","/","(","bT","-","bS",")",";","bE","=","bU","*","bR","+","(","_1_0","-","bU",")","*","bE",";","DQ","=","qP","(","bE",")",";","}","else","DQ","=","DM",";"]}]},{TYPE:"node",NAME:"B4W_CLAMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DS",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DS","=","clamp","(","DR",",","_0_0",",","_1_0",")",";"]}]},{TYPE:"node",NAME:"B4W_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DV",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DV","=","qO","(","DT",",","DU",")",";"]}]},{TYPE:"node",NAME:"B4W_TRANSLUCENCY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"D_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ea",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Eb",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ea"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ea","=","DW",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Eb"],STATEMENTS:[{TYPE:"txt",TOKENS:["Eb","=","vec4","(","DX",",","DY",",","DZ",",","D_",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_TIME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"Ec",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ec","=","u_time",";"]}]},{TYPE:"node",NAME:"B4W_SMOOTHSTEP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ed",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ee",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ef",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Eg",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Eg","=","smoothstep","(","Ee",",","Ef",",","Ed",")",";"]}]},{TYPE:"node",NAME:"B4W_GLOW_OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Eh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ei",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","Eh",";","H","=","Ei",";"]}]},{TYPE:"node",NAME:"B4W_VECTOSCAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ej",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ek",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ek","=","(","Ej",".","r","+","Ej",".","g","+","Ej",".","b",")","/","3.0",";"]}]},{TYPE:"node",NAME:"B4W_SCALTOVEC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"El",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Em",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Em","[","0","]","=","El",";","Em","[","1","]","=","El",";","Em","[","2","]","=","El",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","I","(","in","vec3","nI",",","out","vec3","D",",","out","vec3","E",",","out","vec3","F",",","out","vec4","G",",","out","float","H",")","{","D","=","vec3","(","_0_0",")",";","E","=","vec3","(","_0_0",")",";","F","=","vec3","(","_0_0",")",";","G","=","vec4","(","_0_0",")",";","H","=","_0_0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO","USE_NODE_NORMAL_MAP","USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:11}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","P","=","normalize","(","j",")",";","vec3","bF","=","P",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing","==","false",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["bF","=","bF",";","else","bF","=","-","bF",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nH","=","bF",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nH","=","P",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_NO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rl","=","bF",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","cross","(","bF",",","k",".","xyz",")","*","k",".","w",";","R","=","normalize","(","R",")",";","vec3","Q","=","cross","(","R",",","bF",")","*","k",".","w",";","mat3","rm","=","mat3","(","Q",",","R",",","bF",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","nG","=","h",";","vec4","rn","=","i",";","float","ro","=","u_emit",";","float","rp","=","u_ambient",";"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/nodes.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"NODES_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"NODES_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"PARTICLE_BATCH",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2},"PARTICLE_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_orco_tex_coord",";","GLSL_OUT","vec3","qL",";"]}]}}]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_TEX_COORD_UV_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"re",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["re","=","node_TEX_COORD_UV_var_a_uv",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_UV_MERGED_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rd",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rd","=","node_UV_MERGED_var_a_uv",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_UVMAP_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rf",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rf","=","node_UVMAP_var_a_uv",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_UV_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"qW",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qW","=","node_GEOMETRY_UV_var_a_uv",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"En",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["En","=","node_GEOMETRY_VC_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC1_var_a_vertex_color",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"Eo",QUALIFIER:["GLSL_OUT","float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Eo","=","node_GEOMETRY_VC1_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC2_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"Ep",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ep","=","node_GEOMETRY_VC2_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC3_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"Eq",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Eq","=","node_GEOMETRY_VC3_var_a_vertex_color",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","I","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["qL","=","a_orco_tex_coord",";"]}]}}]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/pack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PACK_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PACK_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec4","fS","(","const","in","float","hA",")","{","vec4","eG","=","vec4","(","_255_0","*","_255_0","*","_255_0",",","_255_0","*","_255_0",",","_255_0",",","_1_0",")",";","vec4","Er","=","vec4","(","_0_0",",","_1_0","/","_255_0",",","_1_0","/","_255_0",",","_1_0","/","_255_0",")",";","vec4","iS","=","fract","(","hA","*","eG",")",";","iS","-=","iS",".","xxyz","*","Er",";","return","iS",";","}","float","cv","(","const","in","vec4","Es",")","{","float","fN",";","vec4","eG","=","vec4","(","_1_0","/","(","_255_0","*","_255_0","*","_255_0",")",",","_1_0","/","(","_255_0","*","_255_0",")",",","_1_0","/","_255_0",",","_1_0",")",";","fN","=","dot","(","Es",",","eG",")",";","return","fN",";","}","vec4","fS","(","const","in","vec2","gJ",")","{","vec2","eG","=","vec2","(","_255_0",",","_1_0",")",";","vec2","Er","=","vec2","(","_0_0",",","_1_0","/","_255_0",")",";","vec4","iS","=","fract","(","gJ",".","xxyy","*","eG",".","xyxy",")",";","iS","-=","iS",".","xxzz","*","Er",".","xyxy",";","if","(","gJ",".","r","==","_1_0",")","iS",".","rg","=","vec2","(","_0_0",",","_1_0",")",";","if","(","gJ",".","g","==","_1_0",")","iS",".","ba","=","vec2","(","_0_0",",","_1_0",")",";","return","iS",";","}","vec2","ix","(","const","in","vec4","Et",")","{","vec2","gJ",";","vec2","eG","=","vec2","(","_1_0","/","_255_0",",","_1_0",")",";","gJ",".","r","=","dot","(","Et",".","rg",",","eG",")",";","gJ",".","g","=","dot","(","Et",".","ba",",","eG",")",";","return","gJ",";","}"]}]}}]}]},exports["include/particles.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PARTICLES_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PARTICLES_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"EPSILON",TOKENS:["0.000001"]},{TYPE:"var",NAME:"COLOR_RAMP_LENGTH",TOKENS:["0"]},{TYPE:"var",NAME:"WORLD_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_COLOR_RAMP",TOKENS:["0"]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["struct","cD","{","float","cM",";","vec3","N",";","float","J",";","vec3","aG",";","float","bm",";","vec3","cS",";","vec3","cT",";","float","cU",";","}",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","Ex","(","inout","vec3","aG",",","float","Eu",",","vec4","js",",","vec4","jt",")","{","float","Ev","=","jt",".","x","-","js",".","x",";","float","Ew","=","(","Eu","-","js",".","x",")","/","Ev",";","aG","=","mix","(","aG",",","jt",".","yzw",",","clamp","(","Ew",",","0.0",",","1.0",")",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","EA","(","float","t",",","float","Ey",",","vec4","Ez","[","COLOR_RAMP_LENGTH","]",")","{","float","Eu","=","t","/","Ey",";","vec3","aG","=","Ez","[","0","]",".","yzw",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ex","(","aG",",","Eu",",","Ez","[","0","]",",","Ez","[","1","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ex","(","aG",",","Eu",",","Ez","[","1","]",",","Ez","[","2","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ex","(","aG",",","Eu",",","Ez","[","2","]",",","Ez","[","3","]",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aG",";","}"]}]}}]},{TYPE:"txt",TOKENS:["float","EG","(","float","t",",","float","Ey",",","float","EB",",","float","EC",")","{","float","ED","=","max","(","0.01",",","min","(","Ey",",","EB",")",")",";","float","EE","=","max","(","0.01",",","min","(","Ey",",","EC",")",")",";","float","EF","=","Ey","-","EE",";","float","J","=","clamp","(","t","/","ED",",","0.0",",","1.0",")","-","step","(","EF",",","t",")","*","(","t","-","EF",")","/","EE",";","return","J",";","}","cD","cE","(",")","{","cD","sp",";","float","t",";","float","Ey","=","a_p_data","[","0","]",";","float","EH","=","a_p_data","[","1","]",";","if","(","u_p_cyclic","==","1",")","{","t","=","mod","(","u_p_time",",","u_p_length",")","-","EH",";","if","(","t","<","0.0",")","t","+=","u_p_length",";","}","if","(","u_p_cyclic","!=","1",")","{","t","=","u_p_time","-","EH",";","}","if","(","t","<","0.0","||","t",">=","Ey",")","{","sp",".","cM","=","0.0001",";","sp",".","N","=","vec3","(","99999.0",",","0.0",",","0.0",")",";","}","if","(","!","(","t","<","0.0","||","t",">=","Ey",")",")","{","vec3","bz","=","O","(","a_tbn_quat",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WORLD_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eD","=","a_position",";","vec3","qS","=","bz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eD","=","ad","(","u_model_tsr",",","a_position",")",";","vec3","qS","=","T","(","u_model_tsr",",","bz",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","EI","=","u_p_nfactor","*","qS",";","EI","+=","a_p_vels",".","xyz",";","EI",".","z","-=","u_p_gravity","*","t","/","2.0",";","float","EJ","=","max","(","u_p_mass",",","EPSILON",")",";","EI","+=","(","u_p_wind_fac","*","u_wind","/","EJ",")","*","t","/","2.0",";","sp",".","cU","=","t",";","sp",".","cS","=","EI",";","sp",".","cT","=","bz","*","a_p_vels",".","w",";","sp",".","N","=","eD","+","EI","*","t",";","sp",".","bm","=","a_p_vels",".","w","*","t",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_COLOR_RAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","cM","=","GLSL_TEXTURE","(","u_color_ramp_tex",",","vec2","(","t","/","u_p_max_lifetime",",","0.5",")",")",".","g",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","cM","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","aG","=","EA","(","t",",","u_p_max_lifetime",",","u_p_color_ramp",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","aG","=","vec3","(","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["sp",".","J","=","EG","(","t",",","a_p_data","[","0","]",",","u_p_fade_in",",","u_p_fade_out",")",";","}","return","sp",";","}"]}]}}]}]},exports["include/particles_nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PARTICLES_NODES_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PARTICLES_NODES_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"DOUBLE_SIDED_LIGHTING",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"PARTICLE_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_BSDF_BEGIN",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"environment.glslf"}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_SEPHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","jy","(","vec3","rgb",")","{","vec4","jx","=","vec4","(","_0_0",",","-","_1_0","/","3.0",",","2.0","/","3.0",",","-","_1_0",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","jx",".","wz",")",",","vec4","(","rgb",".","gb",",","jx",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","df","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","hQ","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","df","+","hQ",")",")",",","df","/","(","q",".","x","+","hQ",")",",","q",".","x",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_COMBHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","jA","(","vec3","jz",")","{","vec4","jx","=","vec4","(","_1_0",",","2.0","/","3.0",",","_1_0","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","jz",".","r",",","jz",".","r",",","jz",".","r",")","+","jx",".","xyz",")","*","6.0","-","jx",".","www",")",";","return","jz",".","b","*","mix","(","jx",".","xxx",",","clamp","(","p","-","jx",".","xxx",",","_0_0",",","_1_0",")",",","jz",".","g",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_UV","USE_NODE_B4W_PARALLAX","USE_NODE_UV_MERGED",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qP","(","vec2","gl",")","{","return","vec3","(","gl","*","2.0","-","vec2","(","_1_0",",","_1_0",")",",","_0_0",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_COLOR","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","qQ","(","vec3","gJ",")","{","return","vec2","(","gJ",".","xy","*","_0_5","+","vec2","(","_0_5",",","_0_5",")",")",";","}"]}]}}]},{TYPE:"node",NAME:"CAMERA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rq",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rs",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rt",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rq"],STATEMENTS:[{TYPE:"txt",TOKENS:["rq","=","normalize","(","rn",".","xyz",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rs"],STATEMENTS:[{TYPE:"txt",TOKENS:["rs","=","abs","(","rn",".","z",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rt"],STATEMENTS:[{TYPE:"txt",TOKENS:["rt","=","length","(","rn",".","xyz",")",";"]}]}]}]},{TYPE:"node",NAME:"COMBRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ru",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rx",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rx","=","vec3","(","ru",",","rv",",","rw",")",";"]}]},{TYPE:"node",NAME:"COMBHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ry",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rB",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rB","=","jA","(","vec3","(","ry",",","rz",",","rA",")",")",";"]}]},{TYPE:"node",NAME:"EMPTY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rC","=","vec3","(","-","_1_0",",","-","_1_0",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"EMPTY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rD","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rE","=","qP","(","A",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_OR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rF","=","2.0","*","vec3","(","A",",","_0_0",")","-","vec3","(","_1_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rG","=","vec3","(","_1_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rH",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rH","=","_1_0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rJ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rI","=","_1_0",";","rJ","=","_1_0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rK","=","_1_0",";","rL","=","_1_0",";","rM","=","_1_0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rN",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rN","=","rl",".","xyz",";"]}]},{TYPE:"node",NAME:"GEOMETRY_FB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rO",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["rO","=","(","gl_FrontFacing",")","?","_0_0",":","_1_0",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["rO","=","(","gl_FrontFacing",")","?","_1_0",":","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_VW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rQ","=","-","T","(","u_view_tsr_frag",",","nI",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_LO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rR","[","0","]","=","rn","[","0","]",";","rR","[","1","]","=","rn","[","1","]",";","rR","[","2","]","=","rn","[","2","]",";"]}]},{TYPE:"node",NAME:"GEOMETRY_GL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rS",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rS","=","vec3","(","nG",".","r",",","nG",".","g",",","nG",".","b",")",";"]}]},{TYPE:"node",NAME:"NEW_GEOMETRY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"r_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sa",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rU","=","vec3","(","_0_0",")",";","rV","=","vec3","(","_0_0",")",";","rW","=","vec3","(","_0_0",")",";","rX","=","vec3","(","_0_0",")",";","rY","=","vec3","(","_0_0",")",";","rZ","=","vec3","(","_0_0",")",";","r_","=","_0_0",";","sa","=","_0_0",";"]}]},{TYPE:"node",NAME:"HUE_SAT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"se",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sg",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","jz","=","jy","(","sf",")",";","jz","[","0","]","+=","(","sb","-","_0_5",")",";","if","(","jz","[","0","]",">","_1_0",")","jz","[","0","]","-=","_1_0",";","else","if","(","jz","[","0","]","<","_0_0",")","jz","[","0","]","+=","_1_0",";","jz","*=","vec3","(","_1_0",",","sc",",","sd",")",";","jz","=","mix","(","vec3","(","_1_0",")",",","mix","(","vec3","(","_0_0",")",",","jz",",","step","(","vec3","(","_0_0",")",",","jz",")",")",",","step","(","jz",",","vec3","(","_1_0",")",")",")",";","sg","=","mix","(","sf",",","jA","(","jz",")",",","se",")",";"]}]},{TYPE:"node",NAME:"INVERT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"si",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sj","=","mix","(","si",",","vec3","(","_1_0",")","-","si",",","sh",")",";"]}]},{TYPE:"node",NAME:"LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_INDEX",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_USE_SPHERE",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"sk",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"sl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sn",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sk"],STATEMENTS:[{TYPE:"txt",TOKENS:["sk","=","u_lamp_light_color_intensities","[","LAMP_INDEX","]",";"]}]}]},{TYPE:"txt",TOKENS:["vec3","so","=","u_lamp_light_directions","[","LAMP_INDEX","]",";","vec3","sr","=","u_lamp_light_positions","[","LAMP_INDEX","]",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["sl","=","-","h","+","sr",";","sm","=","length","(","sl",")",";","sl","=","normalize","(","sl",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sn"],STATEMENTS:[{TYPE:"txt",TOKENS:["sn","=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","sm","*","sm",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","ol","=","dot","(","sl",",","so",")",";","ol","*=","smoothstep","(","_0_0",",","_1_0",",","(","ol","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","sn","*=","ol",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_USE_SPHERE"],STATEMENTS:[{TYPE:"txt",TOKENS:["sn","*=","max","(","LAMP_LIGHT_DIST","-","sm",",","_0_0",")","/","LAMP_LIGHT_DIST",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sl"],STATEMENTS:[{TYPE:"txt",TOKENS:["sl","=","so",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sm"],STATEMENTS:[{TYPE:"txt",TOKENS:["sm","=","length","(","sr","-","h",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sn"],STATEMENTS:[{TYPE:"txt",TOKENS:["sn","=","_1_0",";"]}]}]}]}]}]},{TYPE:"node",NAME:"NORMAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"su",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sv",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"sw",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"rc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sv"],STATEMENTS:[{TYPE:"txt",TOKENS:["sv","=","rc",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sw"],STATEMENTS:[{TYPE:"txt",TOKENS:["sw","=","-","dot","(","su",",","rc",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_VECTOR_VIEW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sy",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sy","=","-","T","(","u_view_tsr_frag",",","sx",")",";"]}]},{TYPE:"node",NAME:"BSDF_BEGIN",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sN",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sO",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sS",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sK","=","sA",";","sL","=","sC",";","sM","=","sF",";","sP","=","sC",";","sQ","=","sE",";","sR","=","sG",";","sS","=","sH",";","sI","=","ro","*","sK",";","sJ","=","rp","*","u_environment_energy","*","ce","(","sM",")",";","sO","=","ch","(","sK",")",";","G","=","sO",";","sN","[","0","]","=","sB",";","sN","[","1","]","=","sD",";","sN","[","2","]","=","sE",";"]}]},{TYPE:"node",NAME:"BSDF_END",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sT",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","sT",".","rgb","+","sU",";","D","=","mix","(","D",",","sY",",","sZ",")",";","sV",";"]}]},{TYPE:"node",NAME:"BSDF_COMPUTE",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"s_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ta",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"td",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"te",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","qS","=","tb",";","float","tg","=","clamp","(","td","[","0","]",",","_0_0",",","_1_0",")",";","float","th","=","clamp","(","td","[","1","]",",","_0_0",",","_1_0",")",";","float","qJ","=","td","[","2","]",";","vec3","pg","=","normalize","(","nI","+","s_",")",";","float","ot","=","(","_1_0","-","tc",")","*","dot","(","qS",",","s_",")","+","tc",";","float","ti","=","(","_1_0","-","tc",")","*","max","(","dot","(","s_",",","pg",")",",","_0_0",")","+","tc",";","float","tj","=","(","_1_0","-","tc",")","*","max","(","dot","(","tb",",","pg",")",",","_0_0",")","+","tc",";","te","=","_0_0",";","if","(","ta",".","r","!=","_0_0",")","{","if","(","tg",">","_0_0",")","{","float","oF","=","max","(","dot","(","qS",",","nI",")",",","_0_0",")",";","float","oG","=","tg","*","tg",";","float","cg","=","_1_0","-","_0_5","*","(","oG","/","(","oG","+","0.33",")",")",";","vec3","oH","=","s_","-","ot","*","qS",";","vec3","oI","=","nI","-","oF","*","qS",";","if","(","length","(","oH",")","==","_0_0","||","length","(","oI",")","==","_0_0","||","abs","(","ot",")",">","_1_0","||","abs","(","oF",")",">","_1_0",")","te","=","ot","*","cg",";","else","{","float","oJ","=","acos","(","ot",")",";","float","oK","=","acos","(","oF",")",";","vec3","oL","=","normalize","(","oH",")",";","vec3","oM","=","normalize","(","oI",")",";","float","a",",","b",";","a","=","max","(","oJ",",","oK",")",";","b","=","min","(","oJ",",","oK",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oL",",","oM",")",",","_0_0",")",";","float","oN","=","0.45","*","(","oG","/","(","oG","+","0.09",")",")",";","te","=","ot","*","(","cg","+","(","oN","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","te","=","ot",";","te","=","max","(","te",",","_0_0",")",";","}","float","J","=","th",";","float","tk","=","J","*","J",";","float","tl","=","(","tj","*","tk","-","tj",")","*","tj","+","_1_0",";","float","cd","=","tk","/","(","M_PI","*","tl","*","tl",")",";","float","tm",";","float","tn",";","float","to","=","pow","(","_1_0","-","ti",",","5.0",")",";","tm","=","_1_0",";","tn","=","to",";","float","jx","=","J","/","2.0",";","float","tr","=","jx","*","jx",";","float","tu","=","_1_0","-","tr",";","float","tv","=","_1_0","/","(","ti","*","ti","*","tu","+","tr",")",";","tm","*=","tv",";","tn","*=","tv",";","float","tw","=","mix","(","0.04",",","_1_0",",","qJ",")",";","float","tx","=","mix","(","tn",",","tm",",","tw",")",";","tf","=","max","(","ot","*","cd","*","tx",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"BSDF_ANISOTROPIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ty",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tE","=","ty",";","tz",";","tA",";","tB",";","tC",";","tD",";"]}]},{TYPE:"node",NAME:"BSDF_DIFFUSE",NODE_VARS:[{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tJ","=","tF",";","tK","=","tG",";","tN","=","_0_0",";","tQ","=","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["tO","=","tH",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["tO","=","nH",";"]}]}]},{TYPE:"txt",TOKENS:["tI",";","tL",";","tM",";","tP",";"]}]},{TYPE:"node",NAME:"BSDF_GLASS",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tV",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tV","=","tR",";","tS",";","tT",";","tU",";"]}]},{TYPE:"node",NAME:"BSDF_GLOSSY",NODE_VARS:[{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"t_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ua",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ub",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ud",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ue",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ug",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ub","=","tW",";","uc","=","tX",";","ud","=","_1_0",";","ug","=","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["ue","=","tY",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["ue","=","nH",";"]}]}]},{TYPE:"txt",TOKENS:["tZ",";","t_",";","ua",";"]}]},{TYPE:"node",NAME:"BSDF_HAIR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ui",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ul",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ul","=","uh",";","ui",";","uj",";","uk",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSPARENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"um",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"un",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["un","=","um",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSLUCENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"up",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uq",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uq","=","uo",";","up",";"]}]},{TYPE:"node",NAME:"BSDF_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ur",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"us",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ut",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uv",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uv","[","0","]","=","uv","[","1","]","=","uv","[","2","]","=","_0_0",";","ur",";","us",";","ut",";","uu",";"]}]},{TYPE:"node",NAME:"BSDF_TOON",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ux",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uA",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uA","=","uw",";","ux",";","uy",";","uz",";"]}]},{TYPE:"node",NAME:"BSDF_VELVET",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uE",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uE","=","uB",";","uC",";","uD",";"]}]},{TYPE:"node",NAME:"SUBSURFACE_SCATTERING",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uL","[","0","]","=","uL","[","1","]","=","uL","[","2","]","=","_0_0",";","uF",";","uH",";","uI",";","uJ",";","uK",";","uG",";"]}]},{TYPE:"node",NAME:"EMISSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uW",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uV","=","uN","*","uM",";","uT","=","_0_0",";","uW","=","_1_0",";","uU","=","nH",";","uO",";","uP",";","uQ",";","uR",";","uS",";"]}]},{TYPE:"node",NAME:"AMBIENT_OCCLUSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uY","[","0","]","=","uY","[","1","]","=","uY","[","2","]","=","_0_0",";","uX",";"]}]},{TYPE:"node",NAME:"HOLDOUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"uZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uZ","[","0","]","=","uZ","[","1","]","=","uZ","[","2","]","=","_0_0",";"]}]},{TYPE:"node",NAME:"VOLUME_ABSORPTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"u_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"va",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vb","[","0","]","=","vb","[","1","]","=","vb","[","2","]","=","_0_0",";","u_",";","va",";"]}]},{TYPE:"node",NAME:"VOLUME_SCATTER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ve",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vf","[","0","]","=","vf","[","1","]","=","vf","[","2","]","=","_0_0",";","vc",";","vd",";","ve",";"]}]},{TYPE:"node",NAME:"BUMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vk",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vk","=","EQ",";","EO",";","EP",";","vi",";"]}]},{TYPE:"node",NAME:"NORMAL_MAP",NODE_VARS:[{TYPE:"node_var",NAME:"SPACE",TOKENS:["NM_TANGENT"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"vr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vt",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","vu","=","nH",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SPACE","NM_TANGENT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vt","=","rm","*","(","vs",".","xyz","-","_0_5",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_OBJECT",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_OBJECT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vt","=","vs",".","xyz","-","_0_5",";","vt",".","yz","*=","-","1.0",";","vt","=","T","(","u_model_tsr",",","vt",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_WORLD",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_WORLD",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vt","=","vs",".","xyz","-","_0_5",";","vt",".","yz","*=","-","1.0",";"]}]}]},{TYPE:"txt",TOKENS:["vt","=","normalize","(","mix","(","vu",",","vt",",","vr",")",")",";"]}]},{TYPE:"node",NAME:"VECT_TRANSFORM",NODE_VARS:[{TYPE:"node_var",NAME:"CONVERT_TYPE",TOKENS:["VT_WORLD_TO_OBJECT"]},{TYPE:"node_var",NAME:"VECTOR_TYPE",TOKENS:["VT_VECTOR"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"vv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_WORLD",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_OBJECT_TO_OBJECT",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_CAMERA_TO_CAMERA",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","vv",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_POINT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","ad","(","u_view_tsr_frag",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","ad","(","u_model_tsr_inverse",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","ad","(","u_model_tsr",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","ad","(","u_model_tsr",",","vv",")",";","vw","=","ad","(","u_view_tsr_frag",",","vw",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","ad","(","u_view_tsr_inverse",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","ad","(","u_view_tsr_inverse",",","vv",")",";","vw","=","ad","(","u_model_tsr_inverse",",","vw",")",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","T","(","u_view_tsr_frag",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","T","(","u_model_tsr_inverse",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","T","(","u_model_tsr",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","T","(","u_model_tsr",",","vv",")",";","vw","=","T","(","u_view_tsr_frag",",","vw",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","T","(","u_view_tsr_inverse",",","vv",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","T","(","u_view_tsr_inverse",",","vv",")",";","vw","=","T","(","u_model_tsr_inverse",",","vw",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_NORMAL",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vw","=","normalize","(","vw",")",";"]}]}]}]}]}]},{TYPE:"node",NAME:"BLACKBODY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vx",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vy",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vy","[","0","]","=","vy","[","1","]","=","vy","[","2","]","=","_0_0",";","vx",";"]}]},{TYPE:"node",NAME:"WAVELENGTH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vA",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vA","[","0","]","=","vA","[","1","]","=","vA","[","2","]","=","_0_0",";","vz",";"]}]},{TYPE:"node",NAME:"SEPXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vC","=","vB","[","0","]",";","vD","=","vB","[","1","]",";","vE","=","vB","[","2","]",";"]}]},{TYPE:"node",NAME:"COMBXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vI",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vI","[","0","]","=","vF",";","vI","[","1","]","=","vG",";","vI","[","2","]","=","vH",";"]}]},{TYPE:"node",NAME:"BRIGHTCONTRAST",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","b","=","vK","-","vL","*","_0_5",";","vM","=","max","(","(","_1_0","+","vL",")","*","vJ","+","b",",","vec3","(","_0_0",")",")",";"]}]},{TYPE:"node",NAME:"LIGHT_FALLOFF",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vR",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vP","=","vQ","=","vR","=","_0_0",";","vN",";","vO",";"]}]},{TYPE:"node",NAME:"TEX_IMAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"ER",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ES",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ET",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ES","[","0","]","=","ES","[","1","]","=","ES","[","2","]","=","_0_0",";","ET","=","_1_0",";","ER",";"]}]},{TYPE:"node",NAME:"TEX_ENVIRONMENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EV",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["EV","[","0","]","=","EV","[","1","]","=","EV","[","2","]","=","_0_0",";","EU",";"]}]},{TYPE:"node",NAME:"TEX_SKY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vT","[","0","]","=","vT","[","1","]","=","vT","[","2","]","=","_0_0",";","vS",";"]}]},{TYPE:"node",NAME:"TEX_NOISE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vY","[","0","]","=","vY","[","1","]","=","vY","[","2","]","=","_0_0",";","vZ","=","_1_0",";","vU",";","vV",";","vW",";","vX",";"]}]},{TYPE:"node",NAME:"TEX_WAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"v_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"we",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["we","[","0","]","=","we","[","1","]","=","we","[","2","]","=","_0_0",";","wf","=","_1_0",";","v_",";","wa",";","wb",";","wc",";","wd",";"]}]},{TYPE:"node",NAME:"TEX_VORONOI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wi","[","0","]","=","wi","[","1","]","=","wi","[","2","]","=","_0_0",";","wj","=","_1_0",";","wg",";","wh",";"]}]},{TYPE:"node",NAME:"TEX_MUSGRAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ws",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wr","[","0","]","=","wr","[","1","]","=","wr","[","2","]","=","_0_0",";","ws","=","_1_0",";","wk",";","wl",";","wm",";","wn",";","wo",";","wp",";","wq",";"]}]},{TYPE:"node",NAME:"TEX_GRADIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wv",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wu","[","0","]","=","wu","[","1","]","=","wu","[","2","]","=","_0_0",";","wv","=","_1_0",";","wt",";"]}]},{TYPE:"node",NAME:"TEX_MAGIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wD","[","0","]","=","wD","[","1","]","=","wD","[","2","]","=","_0_0",";","wE","=","_1_0",";","wA",";","wB",";","wC",";"]}]},{TYPE:"node",NAME:"TEX_CHECKER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wJ","[","0","]","=","wJ","[","1","]","=","wJ","[","2","]","=","_0_0",";","wK","=","_1_0",";","wF",";","wG",";","wH",";","wI",";"]}]},{TYPE:"node",NAME:"TEX_BRICK",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wV",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wU","[","0","]","=","wU","[","1","]","=","wU","[","2","]","=","_0_0",";","wV","=","_1_0",";","wL",";","wM",";","wN",";","wO",";","wP",";","wQ",";","wR",";","wS",";","wT",";"]}]},{TYPE:"node",NAME:"ADD_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wY","=","clamp","(","wW","+","wX",",","vec3","(","_0_0",")",",","vec3","(","_1_0",")",")",";"]}]},{TYPE:"node",NAME:"MIX_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"w_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xe",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","wZ",",","_0_0",",","_1_0",")",";","xs","=","mix","(","xb",",","xj",",","xE",")",";","xt","=","mix","(","xc",",","xk",",","xE",")",";","if","(","xf",">","_0_0",")","{","if","(","xn",">","_0_0",")","{","xu","=","mix","(","xd",",","xl",",","xE",")",";","xv","=","mix","(","xe",",","xm",",","xE",")",";","}","else","{","xu","=","xd",";","xv","=","xe",";","}","}","else","{","xu","=","xl",";","xv","=","xm",";","}","if","(","xi",">","_0_0",")","{","if","(","xq",">","_0_0",")","{","xC","=","mix","(","xh",",","xp",",","xE",")",";","}","else","{","xC","=","xh",";","}","}","else","{","xC","=","xp",";","}","xA","=","mix","(","xf",",","xn",",","xE",")",";","xB","=","mix","(","xg",",","xo",",","xE",")",";","xD","=","mix","(","xi",",","xq",",","xE",")",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_xF"],STATEMENTS:[{TYPE:"txt",TOKENS:["xF","=","qP","(","A",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_xG"],STATEMENTS:[{TYPE:"txt",TOKENS:["xG","=","vec3","(","A",",","_0_0",")",";"]}]}]}]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xH",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xH","=","vec3","(","A",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xI",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xI","=","nH",";"]}]},{TYPE:"node",NAME:"TEX_COORD_GE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xJ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xJ","=","vec3","(","A",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_OB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xK",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xK","[","0","]","=","xK","[","1","]","=","xK","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_CA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xL","[","0","]","=","rn","[","0","]",";","xL","[","1","]","=","rn","[","1","]",";","xL","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_WI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xM","[","0","]","=","xM","[","1","]","=","xM","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_RE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xN",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xN","[","0","]","=","xN","[","1","]","=","xN","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xO","=","vec3","(","A",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"EK",QUALIFIER:["GLSL_IN","vec4"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"EL",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"EM",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"EN",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PARTICLE_BATCH"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_xP"],STATEMENTS:[{TYPE:"txt",TOKENS:["xP","=","EK","[","0","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_xQ"],STATEMENTS:[{TYPE:"txt",TOKENS:["xQ","=","EK","[","1","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_xR"],STATEMENTS:[{TYPE:"txt",TOKENS:["xR","=","EK","[","2","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_xS"],STATEMENTS:[{TYPE:"txt",TOKENS:["xS","=","EL",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_xT"],STATEMENTS:[{TYPE:"txt",TOKENS:["xT","=","EK","[","3","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_xU"],STATEMENTS:[{TYPE:"txt",TOKENS:["xU","=","EM",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_xV"],STATEMENTS:[{TYPE:"txt",TOKENS:["xV","=","EN",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["xP","=","_0_0",";","xQ","=","_0_0",";","xR","=","_0_0",";","xS","=","vec3","(","_0_0",")",";","xT","=","_0_0",";","xU","=","xS",";","xV","=","xS",";"]}]}]}]},{TYPE:"node",NAME:"HAIR_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"xW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xW","=","_0_0",";","xX","=","_0_0",";","xY","=","_0_0",";","xZ","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"OBJECT_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"x_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ya",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yc",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ya","=","_0_0",";","yb","=","_0_0",";","yc","=","_0_0",";","x_","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"WIREFRAME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"yd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ye",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ye","=","yd",";"]}]},{TYPE:"node",NAME:"TANGENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yf","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LAYER_WEIGHT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yi","=","yj","=","_0_0",";","EX",";","EW",";"]}]},{TYPE:"node",NAME:"LIGHT_PATH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ym",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ys",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yu",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yl","=","ym","=","yn","=","_0_0",";","yo","=","yp","=","yq","=","_0_0",";","yr","=","yr","=","yt","=","yu","=","_0_0",";","ys","=","_0_0",";"]}]},{TYPE:"node",NAME:"ATTRIBUTE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yC",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yA","=","yB","=","vec3","(","_0_0",")",";","yC","=","_0_0",";"]}]},{TYPE:"node",NAME:"SCRIPT",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[]},{TYPE:"node",NAME:"CURVE_VEC",NODE_VARS:[{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yF","=","yE",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["yF",".","r","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","yE",".","r","+","0.5",",","NODE_TEX_ROW",")",")",".","r","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["yF",".","g","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","yE",".","g","+","0.5",",","NODE_TEX_ROW",")",")",".","g","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["yF",".","b","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","0.5","*","yE",".","b","+","0.5",",","NODE_TEX_ROW",")",")",".","b","-","0.5",")","*","2.0",";"]}]}]},{TYPE:"txt",TOKENS:["yF","=","mix","(","yE",",","yF",",","yD",")",";"]}]},{TYPE:"node",NAME:"CURVE_RGB",NODE_VARS:[{TYPE:"node_var",NAME:"READ_A",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yI",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_A"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","yH",".","r",",","NODE_TEX_ROW",")",")",".","a",";","float","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","yH",".","g",",","NODE_TEX_ROW",")",")",".","a",";","float","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","yH",".","b",",","NODE_TEX_ROW",")",")",".","a",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","yH",".","r",";","float","g","=","yH",".","g",";","float","b","=","yH",".","b",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["yI",".","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","r",",","NODE_TEX_ROW",")",")",".","r",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yI",".","r","=","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["yI",".","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","g",",","NODE_TEX_ROW",")",")",".","g",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yI",".","g","=","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["yI",".","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","b",",","NODE_TEX_ROW",")",")",".","b",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yI",".","b","=","b",";"]}]}]},{TYPE:"txt",TOKENS:["yI","=","mix","(","yH",",","yI",",","yG",")",";"]}]},{TYPE:"node",NAME:"VALTORGB",NODE_VARS:[{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","yM","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","yJ",",","NODE_TEX_ROW",")",")",";","yK","=","yM",".","rgb",";","yL","=","yM",".","a",";"]}]},{TYPE:"node",NAME:"MAPPING",NODE_VARS:[{TYPE:"node_var",NAME:"MAPPING_SCALE_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_SCALE",TOKENS:["vec3","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRANS_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRANS",TOKENS:["vec3","(","0.0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX",TOKENS:["mat4","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP",TOKENS:["vec3","(","0.0",")"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP",TOKENS:["vec3","(","1.0",")"]},{TYPE:"node_var",NAME:"MAPPING_IS_NORMAL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","yN",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_SCALE_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","yO","*","MAPPING_SCALE",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRANS_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","yO","+","MAPPING_TRANS",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRS_MATRIX_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","(","MAPPING_TRS_MATRIX","*","vec4","(","yO",",","_1_0",")",")",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MIN_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","max","(","yO",",","MAPPING_MIN_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MAX_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","min","(","yO",",","MAPPING_MAX_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_IS_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","normalize","(","yO",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yR",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yR","=","yP","+","yQ",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yR","=","clamp","(","yR",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yU",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yU","=","yS","-","yT",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yU","=","clamp","(","yU",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yX","=","yV","*","yW",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["yX","=","clamp","(","yX",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"yY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"y_",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["y_","=","(","yZ","!=","_0_0",")","?","yY","/","yZ",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["y_","=","clamp","(","y_",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"za",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zc",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zc","=","sin","(","za",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zc","=","clamp","(","zc",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zb",";"]}]},{TYPE:"node",NAME:"MATH_COSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ze",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zf","=","cos","(","zd",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zf","=","clamp","(","zf",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["ze",";"]}]},{TYPE:"node",NAME:"MATH_TANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zi",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zi","=","tan","(","zg",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zi","=","clamp","(","zi",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zh",";"]}]},{TYPE:"node",NAME:"MATH_ARCSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zl",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zl","=","(","zj","<=","_1_0","&&","zj",">=","-","_1_0",")","?","asin","(","zj",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zl","=","clamp","(","zl",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zk",";"]}]},{TYPE:"node",NAME:"MATH_ARCCOSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zo",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zo","=","(","zm","<=","_1_0","&&","zm",">=","-","_1_0",")","?","acos","(","zm",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zo","=","clamp","(","zo",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zn",";"]}]},{TYPE:"node",NAME:"MATH_ARCTANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zr",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zr","=","atan","(","zp",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zr","=","clamp","(","zr",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zq",";"]}]},{TYPE:"node",NAME:"MATH_POWER",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zs",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zu",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","zs","<","_0_0","&&","zt","!=","floor","(","zt",")",")","zu","=","_0_0",";","else","if","(","zt","==","_0_0",")","zu","=","_1_0",";","else","if","(","zs","<","_0_0",")","zu","=","mix","(","_1_0",",","-","_1_0",",","sign","(","mod","(","-","zt",",","2.0",")",")",")","*","pow","(","-","zs",",","zt",")",";","else","if","(","zs","==","_0_0",")","zu","=","_0_0",";","else","zu","=","pow","(","zs",",","zt",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zu","=","clamp","(","zu",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_LOGARITHM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zB",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zB","=","(","zv",">","_0_0","&&","zA",">","_0_0",")","?","log2","(","zv",")","/","log2","(","zA",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zB","=","clamp","(","zB",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MINIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zE","=","min","(","zC",",","zD",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zE","=","clamp","(","zE",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MAXIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zH",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zH","=","max","(","zF",",","zG",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zH","=","clamp","(","zH",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ROUND",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zK","=","floor","(","zI","+","_0_5",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zK","=","clamp","(","zK",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zJ",";"]}]},{TYPE:"node",NAME:"MATH_LESS_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zN",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zN","=","(","zL","<","zM",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zN","=","clamp","(","zN",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_GREATER_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","(","zO",">","zP",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","clamp","(","zQ",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MODULO",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zT","=","abs","(","zS",")",">","0.000001","?","mod","(","zR",",","zS",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zT","=","clamp","(","zT",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ABSOLUTE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zW",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zW","=","abs","(","zU",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zW","=","clamp","(","zW",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["zV",";"]}]},{TYPE:"node",NAME:"MIX_RGB_MIX",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"z_",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","zX",",","_0_0",",","_1_0",")",";","z_","=","mix","(","zY",",","zZ",",","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["z_","=","clamp","(","z_",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Aa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ab",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ac",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ad",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Aa",",","_0_0",",","_1_0",")",";","Ad","=","mix","(","Ab",",","Ab","+","Ac",",","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ad","=","clamp","(","Ad",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ae",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Af",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ag",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ah",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Ae",",","_0_0",",","_1_0",")",";","Ah","=","mix","(","Af",",","Af","*","Ag",",","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ah","=","clamp","(","Ah",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ai",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Aj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ak",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Al",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Ai",",","_0_0",",","_1_0",")",";","Al","=","mix","(","Aj",",","Aj","-","Ak",",","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Al","=","clamp","(","Al",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SCREEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Am",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"An",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ao",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ap",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Am",",","_0_0",",","_1_0",")",";","float","Aq","=","_1_0","-","xE",";","Ap","=","vec3","(","_1_0",")","-","(","vec3","(","Aq",")","+","xE","*","(","vec3","(","_1_0",")","-","Ao",")",")","*","(","vec3","(","_1_0",")","-","An",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ap","=","clamp","(","Ap",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ar",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"As",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"At",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Au",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Ar",",","_0_0",",","_1_0",")",";","float","Aq","=","_1_0","-","xE",";","At","+=","step","(","At",",","vec3","(","_0_0",")",")",";","Au","=","Aq","*","As","+","xE","*","As","/","At",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Au","=","clamp","(","Au",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIFFERENCE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Av",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Aw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ax",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ay",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Av",",","_0_0",",","_1_0",")",";","Ay","=","mix","(","Aw",",","abs","(","Aw","-","Ax",")",",","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ay","=","clamp","(","Ay",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DARKEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Az",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Az",",","_0_0",",","_1_0",")",";","AC","=","min","(","AA",".","rgb",",","AB",".","rgb","*","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AC","=","clamp","(","AC",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LIGHTEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","AD",",","_0_0",",","_1_0",")",";","AG","=","max","(","AE",".","rgb",",","AF",".","rgb","*","xE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AG","=","clamp","(","AG",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_OVERLAY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AK",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","AH",",","_0_0",",","_1_0",")",";","vec3","AL","=","vec3","(","_1_0","-","xE",")",";","AK","=","mix","(","AI","*","(","AL","+","2.0","*","xE","*","AJ",")",",","vec3","(","_1_0",")","-","(","AL","+","2.0","*","xE","*","(","vec3","(","_1_0",")","-","AJ",")",")","*","(","vec3","(","_1_0",")","-","AI",")",",","step","(","_0_5",",","AI",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AK","=","clamp","(","AK",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DODGE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","AM",",","_0_0",",","_1_0",")",";","vec3","AQ","=","vec3","(","_1_0",")","-","xE","*","AO",";","vec3","AR","=","clamp","(","AN","/","AQ",",","_0_0",",","_1_0",")",";","AP","=","mix","(","mix","(","AR",",","vec3","(","_1_0",")",",","step","(","AQ",",","vec3","(","_0_0",")",")",")",",","AN",",","step","(","AN",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AP","=","clamp","(","AP",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_BURN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AV",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","AS",",","_0_0",",","_1_0",")",";","vec3","jH","=","vec3","(","_1_0","-","xE",")",";","vec3","AQ","=","jH","+","xE","*","AU",";","vec3","AR","=","clamp","(","vec3","(","_1_0",")","-","(","vec3","(","_1_0",")","-","AT",")","/","AQ",",","_0_0",",","_1_0",")",";","AV","=","mix","(","AR",",","vec3","(","_0_0",")",",","step","(","AQ",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AV","=","clamp","(","AV",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_HUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","AW",",","_0_0",",","_1_0",")",";","vec3","jz",",","A_",",","AQ",";","AZ","=","AX",";","A_","=","jy","(","AY",")",";","if","(","A_",".","y","!=","_0_0",")","{","jz","=","jy","(","AZ",")",";","jz",".","x","=","A_",".","x",";","AQ","=","jA","(","jz",")",";","AZ","=","mix","(","AZ",",","AQ",",","xE",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AZ","=","clamp","(","AZ",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SATURATION",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ba",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bd",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Ba",",","_0_0",",","_1_0",")",";","float","Aq","=","_1_0","-","xE",";","Bd","=","Bb",";","vec3","jz",",","A_",";","jz","=","jy","(","Bd",")",";","if","(","jz",".","y","!=","_0_0",")","{","A_","=","jy","(","Bc",")",";","jz",".","y","=","Aq","*","jz",".","y","+","xE","*","A_",".","y",";","Bd","=","jA","(","jz",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bd","=","clamp","(","Bd",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Be",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Be",",","_0_0",",","_1_0",")",";","float","Aq","=","_1_0","-","xE",";","vec3","jz",",","A_",";","jz","=","jy","(","Bf",")",";","A_","=","jy","(","Bg",")",";","jz",".","z","=","Aq","*","jz",".","z","+","xE","*","A_",".","z",";","Bh","=","jA","(","jz",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bh","=","clamp","(","Bh",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Bi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bl",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Bi",",","_0_0",",","_1_0",")",";","vec3","jz",",","A_",",","AQ",";","Bl","=","Bj",";","A_","=","jy","(","Bk",")",";","if","(","A_",".","y","!=","_0_0",")","{","jz","=","jy","(","Bl",")",";","jz",".","x","=","A_",".","x",";","jz",".","y","=","A_",".","y",";","AQ","=","jA","(","jz",")",";","Bl","=","mix","(","Bl",",","AQ",",","xE",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bl","=","clamp","(","Bl",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SOFT_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Bm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Bm",",","_0_0",",","_1_0",")",";","float","Aq","=","_1_0","-","xE",";","vec3","Bq","=","Bo","+","Bn","-","Bo","*","Bn",";","Bp","=","Bn","*","(","vec3","(","Aq",")","+","vec3","(","xE",")","*","(","(","vec3","(","_1_0",")","-","Bn",")","*","Bo","+","Bq",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bp","=","clamp","(","Bp",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LINEAR_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Br",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bu",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","xE","=","clamp","(","Br",",","_0_0",",","_1_0",")",";","Bu","=","Bs","+","xE","*","(","2.0","*","Bt","-","vec3","(","_1_0",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bu","=","clamp","(","Bu",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Bv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bw",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","Bv",";","H","=","Bw",";"]}]},{TYPE:"node",NAME:"MATERIAL_BEGIN",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_NORMAL",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"SHADELESS_MAT",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BD",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"BE",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BK",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BL",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BM",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rh",QUALIFIER:["const","vec2"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"ri",QUALIFIER:["const","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BH","=","clamp","(","BA",",","_0_0",",","_1_0",")",";","BI","=","ri","[","0","]","*","clamp","(","BB",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["BJ","=","normalize","(","BD",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["BJ","=","nH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SHADELESS_MAT",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"txt",TOKENS:["BF","=","BE","*","BH",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["BF","=","ro","*","BH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["BH","*=","BC",";"]}]}]},{TYPE:"txt",TOKENS:["BG","=","rp","*","u_environment_energy","*","ce","(","BJ",")",";","BM","=","vec4","(","1.0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["BK","=","vec2","(","rh","[","0","]",",","rh","[","1","]",")",";","BL","=","vec2","(","ri","[","1","]",",","ri","[","2","]",")",";"]}]}]},{TYPE:"txt",TOKENS:["G","=","BM",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["BF","=","vec3","(","_0_0",")",";","BG","=","vec3","(","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATERIAL_END",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_SPECULAR",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BN",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BQ",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"BR",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"BS",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BT",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BU",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BV",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BW",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"BX",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"rj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rk",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["BQ",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BT"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["BT","=","BN",".","rgb",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["BT","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["BT","+=","BO",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BV"],STATEMENTS:[{TYPE:"txt",TOKENS:["BV","=","BP",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BW"],STATEMENTS:[{TYPE:"txt",TOKENS:["BW","=","BN",".","rgb",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BX"],STATEMENTS:[{TYPE:"txt",TOKENS:["BX","=","BO",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BU"],STATEMENTS:[{TYPE:"txt",TOKENS:["BU","=","clamp","(","BS",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","BO",".","r",",","BO",".","g",")",",","BO",".","b",")","*","BR",";","BU","=","clamp","(","BS","*","(","_1_0","-","t",")","+","t",",","_0_0",",","_1_0",")",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_BU"],STATEMENTS:[{TYPE:"txt",TOKENS:["BU","=","clamp","(","rj",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","BO",".","r",",","BO",".","g",")",",","BO",".","b",")","*","rk",";","BU","=","rj","*","(","_1_0","-","t",")","+","t",";"]}]}]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["E","=","BO",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["E","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["F","=","BP",";"]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"nZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"n_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ob",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ob","=","vec4","(","nZ","+","oa","*","n_",",","_0_0",")",";","oc","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]},{TYPE:"node_var",NAME:"LAMP_SHADOW_MAP_IND",TOKENS:["-","1"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"od",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"of",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"og",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["of","=","vec2","(","u_light_positions","[","LAMP_IND","]",".","w",",","u_light_color_intensities","[","LAMP_IND","]",".","w",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["oh","=","_0_5",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oh","=","_0_0",";"]}]}]},{TYPE:"txt",TOKENS:["og","=","u_light_color_intensities","[","LAMP_IND","]",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["og","*=","od","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","u_light_positions","[","LAMP_IND","]",".","xyz",";","oe","=","oi","-","nG",";","float","aC","=","length","(","oe",")",";","og","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","aC","*","aC",")",";","oe","=","normalize","(","oe",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","u_light_directions","[","LAMP_IND","]",";","float","ol","=","dot","(","oe",",","ok",")",";","ol","*=","smoothstep","(","_0_0",",","_1_0",",","(","ol","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","og","*=","ol",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oe","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"om",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"on",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"op",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oq",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"or",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","om",",","k",".","xyz",")",";","oo","=","cross","(","os",",","k",".","xyz",")",";","oo","=","-","normalize","(","oo",")",";"]}]}]},{TYPE:"txt",TOKENS:["or","=","_0_0",";","if","(","on",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","op",")","*","dot","(","oo",",","om",")","+","op",";","if","(","oq","[","0","]","==","_0_0",")","{","or","=","_1_0",";","}","else","{","float","t","=","_1_0","+","abs","(","ot",")",";","t","=","oq","[","1","]","+","(","_1_0","-","oq","[","1","]",")","*","pow","(","t",",","oq","[","0","]",")",";","or","=","clamp","(","t",",","_0_0",",","_1_0",")",";","}","or","=","max","(","or",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ou",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ov",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ow",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ox",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oy",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","ou",",","k",".","xyz",")",";","ow","=","cross","(","os",",","k",".","xyz",")",";","ow","=","-","normalize","(","ow",")",";"]}]}]},{TYPE:"txt",TOKENS:["oy","=","_0_0",";","if","(","ov",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","ox",")","*","dot","(","ow",",","ou",")","+","ox",";","oy","=","max","(","ot",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oD",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oz",",","k",".","xyz",")",";","oB","=","cross","(","os",",","k",".","xyz",")",";","oB","=","-","normalize","(","oB",")",";"]}]}]},{TYPE:"txt",TOKENS:["oE","=","_0_0",";","if","(","oA",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oC",")","*","dot","(","oB",",","oz",")","+","oC",";","if","(","oD","[","0","]",">","_0_0",")","{","float","oF","=","max","(","dot","(","oB",",","nI",")",",","_0_0",")",";","float","oG","=","oD","[","0","]","*","oD","[","0","]",";","float","cg","=","_1_0","-","_0_5","*","(","oG","/","(","oG","+","0.33",")",")",";","vec3","oH","=","oz","-","ot","*","oB",";","vec3","oI","=","nI","-","oF","*","oB",";","if","(","length","(","oH",")","==","_0_0","||","length","(","oI",")","==","_0_0","||","abs","(","ot",")",">","_1_0","||","abs","(","oF",")",">","_1_0",")","oE","=","ot","*","cg",";","else","{","float","oJ","=","acos","(","ot",")",";","float","oK","=","acos","(","oF",")",";","vec3","oL","=","normalize","(","oH",")",";","vec3","oM","=","normalize","(","oI",")",";","float","a",",","b",";","a","=","max","(","oJ",",","oK",")",";","b","=","min","(","oJ",",","oK",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oL",",","oM",")",",","_0_0",")",";","float","oN","=","0.45","*","(","oG","/","(","oG","+","0.09",")",")",";","oE","=","ot","*","(","cg","+","(","oN","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","oE","=","ot",";","oE","=","max","(","oE",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oP",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oS",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oO",",","k",".","xyz",")",";","oQ","=","cross","(","os",",","k",".","xyz",")",";","oQ","=","-","normalize","(","oQ",")",";"]}]}]},{TYPE:"txt",TOKENS:["oT","=","_0_0",";","if","(","oP",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oR",")","*","dot","(","oQ",",","oO",")","+","oR",";","float","oF","=","max","(","dot","(","oQ",",","nI",")",",","_0_0",")",";","if","(","oS","[","0","]","<=","_1_0",")","oT","=","ot","*","pow","(","max","(","oF","*","ot",",","0.1",")",",","oS","[","0","]","-","_1_0",")",";","else","oT","=","ot","*","pow","(","1.0001","-","oF",",","oS","[","0","]","-","_1_0",")",";","oT","=","max","(","oT",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oV",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oY",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oU",",","k",".","xyz",")",";","oW","=","cross","(","os",",","k",".","xyz",")",";","oW","=","-","normalize","(","oW",")",";"]}]}]},{TYPE:"txt",TOKENS:["oZ","=","_0_0",";","if","(","oV",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oX",")","*","dot","(","oW",",","oU",")","+","oX",";","float","o_","=","acos","(","ot",")",";","if","(","o_","<","oY","[","0","]",")","oZ","=","_1_0",";","else","if","(","o_",">","(","oY","[","0","]","+","oY","[","1","]",")","||","oY","[","1","]","==","_0_0",")","oZ","=","_0_0",";","else","oZ","=","_1_0","-","(","(","o_","-","oY","[","0","]",")","/","oY","[","1","]",")",";","oZ","=","max","(","oZ",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pb",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pe",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","_0_0",";","if","(","pb",".","g","==","_1_0",")","{","vec3","pg","=","normalize","(","pa","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pd","==","_0_0",")","{","pf","=","dot","(","k",".","xyz",",","pg",")",";","pf","=","sqrt","(","_1_0","-","pf","*","pf",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","(","_1_0","-","pd",")","*","max","(","dot","(","pc",",","pg",")",",","_0_0",")","+","pd",";"]}]}]},{TYPE:"txt",TOKENS:["pf","=","pow","(","pf",",","pe","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_COOKTORR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ph",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pi",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","_0_0",";","if","(","pi",".","g","!=","_0_0",")","{","vec3","pg","=","normalize","(","ph","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pk","==","_0_0",")","{","pm","=","dot","(","B",".","xyz",",","pg",")",";","pm","=","sqrt","(","_1_0","-","pm","*","pm",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","max","(","dot","(","pj",",","pg",")",",","_0_0",")",";","pm","=","(","_1_0","-","pk",")","*","pm","+","pk",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","oF","=","max","(","dot","(","B",".","xyz",",","nI",")",",","_0_0",")",";","oF","=","sqrt","(","_1_0","-","oF","*","oF",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","oF","=","max","(","dot","(","pj",",","nI",")",",","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["pm","=","pow","(","pm",",","pl","[","0","]",")",";","pm","=","pm","/","(","0.1","+","oF",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"po",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pv",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pw",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pw","=","_0_0",";","if","(","po",".","g","==","_1_0",")","{","vec3","pg","=","normalize","(","pn","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","_0_0",";","float","oF","=","_0_0",";","float","py","=","_0_0",";","if","(","pu","==","_0_0",")","{","px","=","dot","(","k",".","xyz",",","pg",")",";","oF","=","dot","(","k",".","xyz",",","nI",")",";","py","=","dot","(","k",".","xyz",",","pn",")",";","px","=","sqrt","(","_1_0","-","px","*","px",")",";","oF","=","sqrt","(","_1_0","-","oF","*","oF",")",";","py","=","sqrt","(","_1_0","-","py","*","py",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","max","(","dot","(","pr",",","pg",")",",","0.01",")",";","float","oF","=","max","(","dot","(","pr",",","nI",")",",","0.01",")",";","float","py","=","max","(","dot","(","pr",",","pn",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","bm","=","tan","(","acos","(","px",")",")",";","float","J","=","max","(","pv","[","0","]",",","0.01",")",";","pw","=","py","*","(","_1_0","/","(","4.0","*","M_PI","*","J","*","J",")",")","*","(","exp","(","-","(","bm","*","bm",")","/","(","J","*","J",")",")","/","(","sqrt","(","oF","*","py",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pD",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pE","=","_0_0",";","if","(","pA",".","g","==","_1_0",")","{","vec3","bO","=","normalize","(","pz","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pF","=","dot","(","bO",",","k",".","xyz",")",";","float","bm","=","pD","[","0","]","+","pD","[","1","]",";","if","(","pC","==","_0_0",")","bm","=","acos","(","sqrt","(","_1_0","-","pF","*","pF",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","bm","=","acos","(","dot","(","bO",",","pB",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","bm","<","pD","[","0","]",")","pE","=","_1_0",";","else","if","(","bm",">=","pD","[","0","]","+","pD","[","1","]","||","pD","[","1","]","==","_0_0",")","pE","=","_0_0",";","else","pE","=","_1_0","-","(","bm","-","pD","[","0","]",")","/","pD","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pH",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pK",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pL","=","_0_0",";","if","(","pH",".","g","==","_1_0",")","{","if","(","pK","[","0","]","<","1.0","||","pK","[","1","]","==","_0_0",")","pL","=","_0_0",";","else","{","if","(","pK","[","1","]","<","100.0",")","pK","[","1","]","=","sqrt","(","1.0","/","pK","[","1","]",")",";","else","pK","[","1","]","=","10.0","/","pK","[","1","]",";","vec3","pg","=","normalize","(","nI","+","pG",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","0.0",";","if","(","pJ","==","_0_0",")","{","float","pO","=","dot","(","k",".","xyz",",","pg",")",";","px","=","sqrt","(","_1_0","-","pO","*","pO",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","(","_1_0","-","pJ",")","*","max","(","dot","(","pI",",","pg",")",",","_0_0",")","+","pJ",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","px","<","_0_0",")","pL","=","_0_0",";","else","{","float","oF","=","max","(","dot","(","pI",",","nI",")",",","0.01",")",";","float","py","=","dot","(","pI",",","pG",")",";","if","(","py","<=","0.01",")","pL","=","_0_0",";","else","{","float","pP","=","max","(","dot","(","nI",",","pg",")",",","0.01",")",";","float","a","=","_1_0",";","float","b","=","(","2.0","*","px","*","oF",")","/","pP",";","float","da","=","(","2.0","*","px","*","py",")","/","pP",";","float","g","=","min","(","min","(","a",",","b",")",",","da",")",";","float","p","=","sqrt","(","pow","(","pK","[","0","]",",","2.0",")","+","pow","(","pP",",","2.0",")","-","_1_0",")",";","float","lw","=","pow","(","p","-","pP",",","2.0",")","/","pow","(","p","+","pP",",","2.0",")","*","(","_1_0","+","pow","(","pP","*","(","p","+","pP",")","-","_1_0",",","2.0",")","/","pow","(","pP","*","(","p","-","pP",")","+","_1_0",",","2.0",")",")",";","float","o_","=","acos","(","px",")",";","pL","=","max","(","lw","*","g","*","exp","(","-","pow","(","o_",",","2.0",")","/","(","2.0","*","pow","(","pK","[","1","]",",","2.0",")",")",")",",","_0_0",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pQ",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pW",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"p_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qa",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NODE_B4W_TRANSLUCENCY"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","pU",",","pV",")","*","dot","(","nI",",","pV",")","<","_0_0",")","{","float","BY","=","pW",".","x",";","float","BZ","=","pW",".","y",";","float","B_","=","pW",".","z",";","float","Ca","=","pW",".","w",";","float","Cb","=","clamp","(","abs","(","dot","(","pU",",","pV",")",")",",","_0_0",",","_1_0",")",";","float","Cc","=","clamp","(","dot","(","nI",",","-","pU",")",",","_0_0",",","_1_0",")",";","float","Cd","=","pow","(","Cc",",","BZ",")",";","qa","=","pQ","+","p_","*","vec4","(","pZ","*","Cb","*","pow","(","pX",",","vec3","(","BY",")",")",",","_1_0",")",";","qa","+=","B_","*","mix","(","vec4","(","pX",",","_1_0",")",",","vec4","(","_1_0",")",",","Ca",")","*","p_","*","vec4","(","pZ","*","Cb","*","vec3","(","Cd",")",",","_1_0",")",";","qb","=","pR",";","}","else","{","qb","=","pR","+","pZ","*","pY","*","pT",";","qa","=","pQ","+","vec4","(","pZ","*","pX","*","pS",",","pT",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["qb","=","pR","+","pZ","*","pY","*","pT",";","qa","=","pQ","+","vec4","(","pZ","*","pX","*","pS",",","pT",")",";"]}]}]}]},{TYPE:"node",NAME:"RGB",NODE_VARS:[{TYPE:"node_var",NAME:"RGB_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"Ce",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ce","=","u_node_rgbs","[","RGB_IND","]",";"]}]},{TYPE:"node",NAME:"RGBTOBW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cg",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Cg","=","dot","(","Cf",",","vec3","(","0.35",",","0.45",",","0.2",")",")",";"]}]},{TYPE:"node",NAME:"SEPRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ch",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ci",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Cj",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ck",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ci"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ci","=","Ch",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Cj"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cj","=","Ch",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ck"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ck","=","Ch",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SEPHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cm",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Cn",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Co",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","Cp","=","jy","(","Cl",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Cm"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cm","=","Cp",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Cn"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cn","=","Cp",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Co"],STATEMENTS:[{TYPE:"txt",TOKENS:["Co","=","Cp",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SQUEEZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cs",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ct",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ct","=","_1_0","/","(","_1_0","+","pow","(","2.71828183",",","-","(","Cq","-","Cs",")","*","Cr",")",")",";"]}]},{TYPE:"node",NAME:"GAMMA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cw",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Cw","=","Cu",";","if","(","Cw",".","x",">","_0_0",")","Cw",".","x","=","pow","(","Cu",".","x",",","Cv",")",";","if","(","Cw",".","y",">","_0_0",")","Cw",".","y","=","pow","(","Cu",".","y",",","Cv",")",";","if","(","Cw",".","z",">","_0_0",")","Cw",".","z","=","pow","(","Cu",".","z",",","Cv",")",";"]}]},{TYPE:"node",NAME:"B4W_SRGB_TO_LINEAR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cy",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Cy","=","max","(","vec3","(","_0_0",")",",","Cx",")",";","Cy","=","pow","(","Cy",",","vec3","(","2.2",")",")",";"]}]},{TYPE:"node",NAME:"B4W_LINEAR_TO_SRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CA",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["CA","=","max","(","vec3","(","_0_0",")",",","Cz",")",";","CA","=","pow","(","CA",",","vec3","(","_1_0","/","2.2",")",")",";"]}]},{TYPE:"node",NAME:"TEXTURE_EMPTY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"CB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CB"],STATEMENTS:[{TYPE:"txt",TOKENS:["CB","[","2","]","=","CB","[","1","]","=","CB","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CC"],STATEMENTS:[{TYPE:"txt",TOKENS:["CC","[","2","]","=","CC","[","1","]","=","CC","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CD"],STATEMENTS:[{TYPE:"txt",TOKENS:["CD","=","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_ENVIRONMENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"CE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CF",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CG",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_ENVIRONMENT_var_texture",QUALIFIER:["uniform","samplerCube"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","yM","=","GLSL_TEXTURE_CUBE","(","node_TEXTURE_ENVIRONMENT_var_texture",",","CE",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CF"],STATEMENTS:[{TYPE:"txt",TOKENS:["CF","=","yM",".","xyz",";","bY","(","CF",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CG"],STATEMENTS:[{TYPE:"txt",TOKENS:["CG","=","yM",".","w",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"NON_COLOR",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"CI",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CJ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CK",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CL",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CM",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CN",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CO",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CP",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CQ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CR",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CS",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CT",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_COLOR_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","yM","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qQ","(","CI",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CM"],STATEMENTS:[{TYPE:"txt",TOKENS:["CM","=","yM",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","CM",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CN"],STATEMENTS:[{TYPE:"txt",TOKENS:["CN","=","yM",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qQ","(","CJ",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CO"],STATEMENTS:[{TYPE:"txt",TOKENS:["CO","=","yM",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","CO",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CP"],STATEMENTS:[{TYPE:"txt",TOKENS:["CP","=","yM",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qQ","(","CK",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CQ"],STATEMENTS:[{TYPE:"txt",TOKENS:["CQ","=","yM",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","CQ",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CR"],STATEMENTS:[{TYPE:"txt",TOKENS:["CR","=","yM",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","qQ","(","CL",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CS"],STATEMENTS:[{TYPE:"txt",TOKENS:["CS","=","yM",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["bY","(","CS",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CT"],STATEMENTS:[{TYPE:"txt",TOKENS:["CT","=","yM",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"TEXTURE_NORMAL",NODE_VARS:[{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"CU",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CV",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CW",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CX",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CY",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CZ",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"C_",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Da",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Db",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dc",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dd",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"De",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_NORMAL_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","yM","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qQ","(","CU",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CY"],STATEMENTS:[{TYPE:"txt",TOKENS:["CY","=","normalize","(","rm","*","(","yM",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_CZ"],STATEMENTS:[{TYPE:"txt",TOKENS:["CZ","=","yM",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qQ","(","CV",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_C_"],STATEMENTS:[{TYPE:"txt",TOKENS:["C_","=","normalize","(","rm","*","(","yM",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Da"],STATEMENTS:[{TYPE:"txt",TOKENS:["Da","=","yM",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qQ","(","CW",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Db"],STATEMENTS:[{TYPE:"txt",TOKENS:["Db","=","normalize","(","rm","*","(","yM",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dc"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dc","=","yM",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","qQ","(","CX",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dd"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dd","=","normalize","(","rm","*","(","yM",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_De"],STATEMENTS:[{TYPE:"txt",TOKENS:["De","=","yM",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"VALUE_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"Df",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Df","=","u_node_values","[","VALUE_IND","]",";"]}]},{TYPE:"node",NAME:"VECT_MATH_ADD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Dg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Di",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dj",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Di","=","Dg","+","Dh",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dj"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dj","=","(","abs","(","Di","[","0","]",")","+","abs","(","Di","[","1","]",")","+","abs","(","Di","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_SUBTRACT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Dk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dn",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Dm","=","Dk","-","Dl",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dn"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dn","=","(","abs","(","Dm","[","0","]",")","+","abs","(","Dm","[","1","]",")","+","abs","(","Dm","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_AVERAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Do",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dr",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Dq","=","Do","+","Dp",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dr"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dr","=","length","(","Dq",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dq"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dq","=","normalize","(","Dq",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_DOT_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ds",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Du",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dv",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Du","=","vec3","(","_0_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dv"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dv","=","dot","(","Ds",",","Dt",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_CROSS_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Dw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dy",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dz",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Dy","=","cross","(","Dw",",","Dx",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dz"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dz","=","length","(","Dy",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_NORMALIZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DD",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["DC","=","normalize","(","DA",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_DD"],STATEMENTS:[{TYPE:"txt",TOKENS:["DD","=","length","(","DA",")",";"]}]}]},{TYPE:"txt",TOKENS:["DB",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DJ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DJ","=","reflect","(","T","(","u_view_tsr_inverse",",","DH",")",",","DI",")",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT_WORLD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","EY","=","-","nI",".","xyz",";","DL","=","reflect","(","EY",",","DK",")",";"]}]},{TYPE:"node",NAME:"B4W_PARALLAX",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DO",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DP",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"node_B4W_PARALLAX_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","bp","=","length","(","rn",")",";","if","(","bp","<","DP",")","{","vec2","bE","=","qQ","(","DM",")",";","float","bI","=","clamp","(","_0_5","*","(","DP","-","bp",")",",","_0_0",",","_1_0",")",";","float","hk","=","DN","*","bI",";","vec3","bK","=","normalize","(","nI","*","rm",")",";","float","bL","=","_1_0","/","DO",";","vec2","bM","=","bK",".","xy","*","hk","/","(","DO","*","bK",".","z",")",";","float","bN","=","_1_0",";","float","bO","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bE",")",".","a",";","for","(","float","bQ","=","1.0",";","bQ","<=","DO",";","bQ","++",")","{","if","(","bO","<","bN",")","{","bN","-=","bL",";","bE","-=","bM",";","bO","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bE",")",".","a",";","}","}","vec2","bR","=","bE","+","bM",";","float","bS","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bR",")",".","a","-","(","bN","+","bL",")",";","float","bT","=","bO","-","bN",";","float","bU","=","bT","/","(","bT","-","bS",")",";","bE","=","bU","*","bR","+","(","_1_0","-","bU",")","*","bE",";","DQ","=","qP","(","bE",")",";","}","else","DQ","=","DM",";"]}]},{TYPE:"node",NAME:"B4W_CLAMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DS",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DS","=","clamp","(","DR",",","_0_0",",","_1_0",")",";"]}]},{TYPE:"node",NAME:"B4W_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DV",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DV","=","DT",";"]}]},{TYPE:"node",NAME:"B4W_TRANSLUCENCY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"D_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ea",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Eb",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ea"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ea","=","DW",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Eb"],STATEMENTS:[{TYPE:"txt",TOKENS:["Eb","=","vec4","(","DX",",","DY",",","DZ",",","D_",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_TIME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"Ec",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ec","=","u_time",";"]}]},{TYPE:"node",NAME:"B4W_SMOOTHSTEP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ed",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ee",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ef",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Eg",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Eg","=","smoothstep","(","Ee",",","Ef",",","Ed",")",";"]}]},{TYPE:"node",NAME:"B4W_GLOW_OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Eh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ei",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","Eh",";","H","=","Ei",";"]}]},{TYPE:"node",NAME:"B4W_VECTOSCAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ej",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ek",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ek","=","(","Ej",".","r","+","Ej",".","g","+","Ej",".","b",")","/","3.0",";"]}]},{TYPE:"node",NAME:"B4W_SCALTOVEC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"El",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Em",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Em","[","0","]","=","El",";","Em","[","1","]","=","El",";","Em","[","2","]","=","El",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","I","(","in","vec3","nI",",","out","vec3","D",",","out","vec3","E",",","out","vec3","F",",","out","vec4","G",",","out","float","H",")","{","D","=","vec3","(","_0_0",")",";","E","=","vec3","(","_0_0",")",";","F","=","vec3","(","_0_0",")",";","G","=","vec4","(","_0_0",")",";","H","=","_0_0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO","USE_NODE_NORMAL_MAP","USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:11}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","P","=","normalize","(","j",")",";","vec3","bF","=","P",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing","==","false",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["bF","=","bF",";","else","bF","=","-","bF",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nH","=","bF",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nH","=","P",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_NO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rl","=","bF",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","R","=","cross","(","bF",",","k",".","xyz",")","*","k",".","w",";","R","=","normalize","(","R",")",";","vec3","Q","=","cross","(","R",",","bF",")","*","k",".","w",";","mat3","rm","=","mat3","(","Q",",","R",",","bF",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","nG","=","h",";","vec4","rn","=","i",";","float","ro","=","u_emit",";","float","rp","=","u_ambient",";"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/particles_nodes.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PARTICLES_NODES_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PARTICLES_NODES_GLSLV",TOKENS:[""]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","Fd",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","Fd",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","Fd",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","Fd",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",NODE_VARS:[{TYPE:"node_var",NAME:"PART_INFO_SIZE",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_AGE",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_LT",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_LOC",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_VEL",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_A_VEL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_param",NAME:"EK",QUALIFIER:["GLSL_OUT","vec4"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"EL",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"EM",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"EN",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_PARTICLE_INFO_var_a_p_indices",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_SIZE"],STATEMENTS:[{TYPE:"txt",TOKENS:["EK","[","3","]","=","Fc",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_AGE"],STATEMENTS:[{TYPE:"txt",TOKENS:["EK","[","1","]","=","Fb",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_LT"],STATEMENTS:[{TYPE:"txt",TOKENS:["EK","[","2","]","=","Fe",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_LOC"],STATEMENTS:[{TYPE:"txt",TOKENS:["EL","=","EZ",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_IND"],STATEMENTS:[{TYPE:"txt",TOKENS:["EK","[","0","]","=","node_PARTICLE_INFO_var_a_p_indices",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_VEL"],STATEMENTS:[{TYPE:"txt",TOKENS:["EM","=","E_",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_A_VEL"],STATEMENTS:[{TYPE:"txt",TOKENS:["EN","=","Fa",";"]}]}]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","I","(","in","vec3","EZ",",","in","vec3","E_",",","in","vec3","Fa",",","in","float","Fb",",","in","float","Fc",",","in","vec2","Fd",",","in","float","Fe",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","Fd",";"]}]}}]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/precision_statement.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PRECISION_STATEMENT_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PRECISION_STATEMENT_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"txt",TOKENS:["precision","PRECISION","float",";"]}]}}]}]},exports["include/procedural.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PROCEDURAL_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PROCEDURAL_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec4","Ff","(","vec4","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","289.0",")",")","*","289.0",";","}","vec3","Ff","(","vec3","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","289.0",")",")","*","289.0",";","}","vec2","Ff","(","vec2","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","289.0",")",")","*","289.0",";","}","vec4","Fg","(","vec4","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","7.0",")",")","*","7.0",";","}","vec4","Fh","(","vec4","x",")","{","return","Ff","(","(","34.0","*","x","+","5.0",")","*","x",")",";","}"]},{TYPE:"define",NAME:"K",TOKENS:["0.142857142857"]},{TYPE:"define",NAME:"K2",TOKENS:["0.0714285714285"]},{TYPE:"define",NAME:"JITTER",TOKENS:["0.7"]},{TYPE:"txt",TOKENS:["vec2","eW","(","vec2","Fi",")","{","vec2","Fj","=","Ff","(","floor","(","Fi",")",")",";","vec2","Fk","=","fract","(","Fi",")",";","vec4","Fl","=","Fk",".","x","+","vec4","(","-","0.5",",","-","1.5",",","-","0.5",",","-","1.5",")",";","vec4","Fm","=","Fk",".","y","+","vec4","(","-","0.5",",","-","0.5",",","-","1.5",",","-","1.5",")",";","vec4","p","=","Fh","(","Fj",".","x","+","vec4","(","_0_0",",","_1_0",",","_0_0",",","_1_0",")",")",";","p","=","Fh","(","p","+","Fj",".","y","+","vec4","(","_0_0",",","_0_0",",","_1_0",",","_1_0",")",")",";","vec4","Fn","=","Fg","(","p",")","*","K","+","K2",";","vec4","Fo","=","Fg","(","floor","(","p","*","K",")",")","*","K","+","K2",";","vec4","Fp","=","Fl","+","JITTER","*","Fn",";","vec4","Fq","=","Fm","+","JITTER","*","Fo",";","vec4","df","=","Fp","*","Fp","+","Fq","*","Fq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["df",".","xy","=","min","(","df",".","xy",",","df",".","zw",")",";","df",".","x","=","min","(","df",".","x",",","df",".","y",")",";","return","df",".","xx",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["df",".","xy","=","(","df",".","x","<","df",".","y",")","?","df",".","xy",":","df",".","yx",";","df",".","xz","=","(","df",".","x","<","df",".","z",")","?","df",".","xz",":","df",".","zx",";","df",".","xw","=","(","df",".","x","<","df",".","w",")","?","df",".","xw",":","df",".","wx",";","df",".","y","=","min","(","df",".","y",",","df",".","z",")",";","df",".","y","=","min","(","df",".","y",",","df",".","w",")",";","return","sqrt","(","df",".","xy",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","vec3","kp","(","vec2","Fi",",","float","Fr",")","{","vec2","Fj","=","Ff","(","floor","(","Fi",")",")",";","vec2","Fk","=","fract","(","Fi",")",";","vec4","Fl","=","Fk",".","x","+","vec4","(","-","0.5",",","-","1.5",",","-","0.5",",","-","1.5",")",";","vec4","Fm","=","Fk",".","y","+","vec4","(","-","0.5",",","-","0.5",",","-","1.5",",","-","1.5",")",";","vec4","p","=","Fh","(","Fj",".","x","+","vec4","(","_0_0",",","_1_0",",","_0_0",",","_1_0",")",")",";","p","=","Fh","(","p","+","Fj",".","y","+","vec4","(","_0_0",",","_0_0",",","_1_0",",","_1_0",")",")",";","vec4","Fn","=","Fg","(","p",")","*","K","+","K2",";","vec4","Fo","=","Fg","(","floor","(","p","*","K",")",")","*","K","+","K2",";","vec4","Fp","=","Fl","+","JITTER","*","Fn",";","vec4","Fq","=","Fm","+","JITTER","*","Fo",";","vec4","Fs","=","Fp","*","Fp","+","Fq","*","Fq",";","Fp","+=","Fr",";","Fq","+=","Fr",";","vec4","Ft","=","Fp","*","Fp","+","Fq","*","Fq",";","Fp","+=","Fr",";","Fq","+=","Fr",";","vec4","Fu","=","Fp","*","Fp","+","Fq","*","Fq",";","Fs",".","xy","=","min","(","Fs",".","xy",",","Fs",".","zw",")",";","Fs",".","x","=","min","(","Fs",".","x",",","Fs",".","y",")",";","Ft",".","xy","=","min","(","Ft",".","xy",",","Ft",".","zw",")",";","Ft",".","x","=","min","(","Ft",".","x",",","Ft",".","y",")",";","Fu",".","xy","=","min","(","Fu",".","xy",",","Fu",".","zw",")",";","Fu",".","x","=","min","(","Fu",".","x",",","Fu",".","y",")",";","return","vec3","(","Fs",".","x",",","Ft",".","x",",","Fu",".","x",")",";","}","vec3","Fv","(","vec3","x",")","{","return","Ff","(","(","(","x","*","34.0",")","+","_1_0",")","*","x",")",";","}","float","eL","(","vec2","ki",")","{","const","vec4","Fw","=","vec4","(","0.211324865405187",",","0.366025403784439",",","-","0.577350269189626",",","0.024390243902439",")",";","vec2","bQ","=","floor","(","ki","+","dot","(","ki",",","Fw",".","yy",")",")",";","vec2","Fx","=","ki","-","bQ","+","dot","(","bQ",",","Fw",".","xx",")",";","vec2","Fy",";","Fy","=","(","Fx",".","x",">","Fx",".","y",")","?","vec2","(","_1_0",",","_0_0",")",":","vec2","(","_0_0",",","_1_0",")",";","vec4","Fz","=","Fx",".","xyxy","+","Fw",".","xxzz",";","Fz",".","xy","-=","Fy",";","bQ","=","Ff","(","bQ",")",";","vec3","p","=","Fv","(","Fv","(","bQ",".","y","+","vec3","(","_0_0",",","Fy",".","y",",","_1_0",")",")","+","bQ",".","x","+","vec3","(","_0_0",",","Fy",".","x",",","_1_0",")",")",";","vec3","ap","=","max","(","0.5","-","vec3","(","dot","(","Fx",",","Fx",")",",","dot","(","Fz",".","xy",",","Fz",".","xy",")",",","dot","(","Fz",".","zw",",","Fz",".","zw",")",")",",","_0_0",")",";","ap","=","ap","*","ap",";","ap","=","ap","*","ap",";","vec3","x","=","2.0","*","fract","(","p","*","Fw",".","www",")","-","_1_0",";","vec3","bO","=","abs","(","x",")","-","0.5",";","vec3","Fn","=","floor","(","x","+","0.5",")",";","vec3","FA","=","x","-","Fn",";","ap","*=","1.79284291400159","-","0.85373472095314","*","(","FA","*","FA","+","bO","*","bO",")",";","vec3","g",";","g",".","x","=","FA",".","x","*","Fx",".","x","+","bO",".","x","*","Fx",".","y",";","g",".","yz","=","FA",".","yz","*","Fz",".","xz","+","bO",".","yz","*","Fz",".","yw",";","return","130.0","*","dot","(","ap",",","g",")",";","}","vec2","FD","(","vec2","fm",")","{","float","Fs","=","dot","(","fm",",","vec2","(","12.9898",",","78.233",")",")",";","float","Ft","=","dot","(","fm",",","vec2","(","12.9898",",","78.233",")","*","2.0",")",";","float","FB","=","fract","(","sin","(","Fs",")","*","43758.5453",")","*","2.0","-","_1_0",";","float","FC","=","fract","(","sin","(","Ft",")","*","43758.5453",")","*","2.0","-","_1_0",";","return","vec2","(","FB",",","FC",")",";","}"]}]}}]}]},exports["include/refraction.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"REFRACTION_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"REFRACTION_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","el","(","in","float","cw",",","inout","vec2","ek",",","in","vec2","dU",")","{","vec4","FE","=","GLSL_TEXTURE","(","u_scene_depth",",","ek",")",";","float","em","=","cv","(","FE",")",";","if","(","em","<","m",")","{","ek","=","dU",";","return","cw",";","}","else","{","return","em",";","}","return","cw",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec3","cs","(","in","vec3","qy",",","in","vec2","FF",")","{","vec2","dU","=","qy",".","xy","/","qy",".","z",";","vec2","ek","=","dU","+","FF",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cu","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","qy",")",";","float","cw","=","cv","(","cu",")",";","el","(","cw",",","ek",",","dU",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","eq","=","GLSL_TEXTURE","(","u_refractmap",",","ek",")",".","rgb",";","bY","(","eq",")",";","return","eq",";","}"]}]}}]}]}}]}]},exports["include/scale_texcoord.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SCALE_TEXCOORD_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SCALE_TEXCOORD_GLSLV",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec2","ao","(","vec2","bE",",","vec3","FG",")","{","return","(","bE","+","0.5",")","*","FG",".","xy","-","0.5",";","}"]}]}}]}]},exports["include/shadow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SHADOW_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SHADOW_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SHADOW_TEX_RES",TOKENS:["2048.0"]},{TYPE:"var",NAME:"CSM_FADE_LAST_CASCADE",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_BLEND_BETWEEN_CASCADES",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"COMPARED_MODE",TOKENS:["0"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"procedural.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","FH","=","0.1",";","const","float","FI","=","0.1",";","const","float","FJ","=","-","0.01",";","const","float","FK","=","0.05",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","POISSON_X_16",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","FL","=","vec4","(","0.14383161",",","0.34495938",",","-","0.38277543",",","-","0.26496911",")",";","vec4","FM","=","vec4","(","0.53742981",",","0.19984126",",","0.79197514",",","-","0.094184101",")",";","vec4","FN","=","vec4","(","-","0.94201624",",","-","0.91588581",",","-","0.2418884",",","0.44323325",")",";","vec4","FO","=","vec4","(","-","0.81544232",",","0.94558609",",","-","0.81409955",",","0.97484398",")",";","vec4","FP","=","vec4","(","-","0.1410079",",","0.2938776",",","0.27676845",",","-","0.41893023",")",";","vec4","FQ","=","vec4","(","-","0.4737342",",","0.78641367",",","0.19090188",",","-","0.9293887",")",";","vec4","FR","=","vec4","(","-","0.39906216",",","0.45771432",",","0.99706507",",","-","0.97511554",")",";","vec4","FS","=","vec4","(","-","0.87912464",",","-","0.76890725",",","0.9143759",",","0.7564837",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POISSON_DISK_NUM","POISSON_X_8",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","FL","=","vec2","(","-","0.37192261",",","0.47109537",")",";","vec2","FM","=","vec2","(","-","0.6807477",",","0.69048062",")",";","vec2","FN","=","vec2","(","0.11615683",",","-","0.91318524",")",";","vec2","FO","=","vec2","(","0.93688596",",","-","0.16948928",")",";","vec2","FP","=","vec2","(","-","0.89699117",",","0.74092316",")",";","vec2","FQ","=","vec2","(","0.38263656",",","-","0.66119884",")",";","vec2","FR","=","vec2","(","-","0.08193062",",","-","0.21275223",")",";","vec2","FS","=","vec2","(","0.05578877",",","0.84225623",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POISSON_DISK_NUM","POISSON_X_4",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","FL","=","vec2","(","-","0.51808083",",","0.0",")",";","vec2","FM","=","vec2","(","0.5741194",",","0.0",")",";","vec2","FN","=","vec2","(","-","0.68048857",",","0.0",")",";","vec2","FO","=","vec2","(","0.82934988",",","0.0",")",";","vec2","FP","=","vec2","(","0.70009436",",","0.0",")",";","vec2","FQ","=","vec2","(","-","0.78790467",",","0.0",")",";","vec2","FR","=","vec2","(","-","0.58619489",",","0.0",")",";","vec2","FS","=","vec2","(","0.41902178",",","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["bool","FU","(","vec2","hZ",",","float","FT",")","{","return","all","(","lessThanEqual","(","hZ",",","vec2","(","1.0","+","FT",")",")",")","&&","all","(","greaterThanEqual","(","hZ",",","vec2","(","0.0","-","FT",")",")",")",";","}","float","Ga","(","float","FV",",","float","FW",",","mat2","FX",",","vec3","FY",",","float","FZ",",","PRECISION","GLSL_SMPLR2D_SHDW","F_",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hZ",",","eY",";","eY",".","x","=","FV",";","eY",".","y","=","FW",";","eY","=","FX","*","eY",";","hZ","=","FY",".","xy","+","eY","*","FZ","/","SHADOW_TEX_RES",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hZ","=","FY",".","xy",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","FU","(","hZ",",","FJ",")",")","return","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COMPARED_MODE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","GLSL_TEXTURE","(","F_",",","vec3","(","hZ",",","FY",".","z",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","step","(","FY",".","z",",","GLSL_TEXTURE","(","F_",",","hZ",")",".","r",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","float","Gf","(","vec3","FY",",","PRECISION","GLSL_SMPLR2D_SHDW","F_",",","float","FZ",")","{","float","Gb","=","0.0",";","FY",".","z","=","clamp","(","FY",".","z",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Gc","=","FD","(","FY",".","xy",")",".","x","*","M_PI",";","float","Gd","=","cos","(","Gc",")",";","float","Ge","=","sin","(","Gc",")",";","mat2","FX","=","mat2","(","Gd",",","Ge",",","-","Ge",",","Gd",")",";","for","(","int","bQ","=","0",";","bQ","<","POISSON_DISK_NUM",";","bQ","++",")","{","Gb","+=","Ga","(","FL","[","bQ","]",",","FP","[","bQ","]",",","FX",",","FY",",","FZ",",","F_",")",";","Gb","+=","Ga","(","FM","[","bQ","]",",","FQ","[","bQ","]",",","FX",",","FY",",","FZ",",","F_",")",";","Gb","+=","Ga","(","FN","[","bQ","]",",","FR","[","bQ","]",",","FX",",","FY",",","FZ",",","F_",")",";","Gb","+=","Ga","(","FO","[","bQ","]",",","FS","[","bQ","]",",","FX",",","FY",",","FZ",",","F_",")",";","}","return","clamp","(","Gb","/","(","float","(","POISSON_DISK_NUM",")","*","4.0",")",",","0.0",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","Ga","(","0.0",",","0.0",",","mat2","(","0.0",")",",","FY",",","FZ",",","F_",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","float","Go","(","vec3","Gg",",","PRECISION","GLSL_SMPLR2D_SHDW","Gh",",","vec3","Gi",",","PRECISION","GLSL_SMPLR2D_SHDW","Gj",",","float","Gk",",","float","Gl",",","float","aB",")","{","float","Gm",",","Gn",";","Gg",".","z","=","clamp","(","Gg",".","z",",","0.0",",","1.0",")",";","Gi",".","z","=","clamp","(","Gi",".","z",",","0.0",",","1.0",")",";","Gm","=","0.0",";","Gn","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Gc","=","FD","(","Gg",".","xy",")",".","x","*","M_PI",";","float","Gd","=","cos","(","Gc",")",";","float","Ge","=","sin","(","Gc",")",";","mat2","FX","=","mat2","(","Gd",",","Ge",",","-","Ge",",","Gd",")",";","for","(","int","bQ","=","0",";","bQ","<","POISSON_DISK_NUM",";","bQ","++",")","{","Gm","+=","Ga","(","FL","[","bQ","]",",","FP","[","bQ","]",",","FX",",","Gg",",","Gk",",","Gh",")",";","Gm","+=","Ga","(","FM","[","bQ","]",",","FQ","[","bQ","]",",","FX",",","Gg",",","Gk",",","Gh",")",";","Gm","+=","Ga","(","FN","[","bQ","]",",","FR","[","bQ","]",",","FX",",","Gg",",","Gk",",","Gh",")",";","Gm","+=","Ga","(","FO","[","bQ","]",",","FS","[","bQ","]",",","FX",",","Gg",",","Gk",",","Gh",")",";","}","for","(","int","bQ","=","0",";","bQ","<","POISSON_DISK_NUM",";","bQ","++",")","{","Gn","+=","Ga","(","FL","[","bQ","]",",","FP","[","bQ","]",",","FX",",","Gi",",","Gl",",","Gj",")",";","Gn","+=","Ga","(","FM","[","bQ","]",",","FQ","[","bQ","]",",","FX",",","Gi",",","Gl",",","Gj",")",";","Gn","+=","Ga","(","FN","[","bQ","]",",","FR","[","bQ","]",",","FX",",","Gi",",","Gl",",","Gj",")",";","Gn","+=","Ga","(","FO","[","bQ","]",",","FS","[","bQ","]",",","FX",",","Gi",",","Gl",",","Gj",")",";","}","Gm","=","mix","(","Gm",",","Gn",",","aB",")",";","Gm","/=","(","float","(","POISSON_DISK_NUM",")","*","4.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Gm","+=","Ga","(","0.0",",","0.0",",","mat2","(","0.0",")",",","Gg",",","Gk",",","Gh",")",";","Gn","+=","Ga","(","0.0",",","0.0",",","mat2","(","0.0",")",",","Gi",",","Gl",",","Gj",")",";","Gm","=","mix","(","Gm",",","Gn",",","aB",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","clamp","(","Gm",",","0.0",",","1.0",")",";","}","float","Gp","(","vec2","hZ",")","{","float","a","=","min","(","hZ",".","x",",","hZ",".","y",")",";","float","b","=","min","(","1.0","-","hZ",".","x",",","1.0","-","hZ",".","y",")",";","return","min","(","a",",","b",")",";","}","float","Gr","(","float","tv",",","float","Gq",")","{","if","(","Gq",">=","0.0","&&","Gq","<=","FI",")","tv","=","(","tv","-","1.0",")","/","FI","*","Gq","+","1.0",";","return","tv",";","}","float","Gw","(","vec3","Gs",",","vec3","Gt",",","PRECISION","GLSL_SMPLR2D_SHDW","Gh",",","PRECISION","GLSL_SMPLR2D_SHDW","Gj",",","float","Gk",",","float","Gl",",","float","Gu",",","float","fN",")","{","float","tv",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_BLEND_BETWEEN_CASCADES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Gq","=","Gp","(","Gs",".","xy",")",";","if","(","-","fN",">","Gu","&&","Gq",">=","0.0","&&","Gq","<=","FH","&&","FU","(","Gt",".","xy",",","0.0",")",")","{","float","Gv","=","1.0","-","Gq","/","FH",";","tv","=","Go","(","Gs",",","Gh",",","Gt",",","Gj",",","Gk",",","Gl",",","Gv",")",";","}","else"]}]}}]},{TYPE:"txt",TOKENS:["tv","=","Gf","(","Gs",",","Gh",",","Gk",")",";","return","tv",";","}","float","Gy","(","vec3","Gx",",","PRECISION","GLSL_SMPLR2D_SHDW","F_",",","float","FZ",",","float","Gu",",","float","fN",")","{","float","tv","=","Gf","(","Gx",",","F_",",","FZ",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_FADE_LAST_CASCADE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","-","fN",">","Gu",")","{","float","Gq","=","Gp","(","Gx",".","xy",")",";","tv","=","Gr","(","tv",",","Gq",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["return","tv",";","}","vec4","dD","(","float","fN",")","{","float","tv","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Gz","=","u_pcf_blur_radii",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Gz","=","vec4","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","Gg","=","n",".","xyz","/","n",".","w",";","if","(","n",".","w","<","0.0",")","Gg",".","z","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Gi","=","o",".","xyz","/","o",".","w",";","if","(","o",".","w","<","0.0",")","Gi",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","GA","=","u",".","xyz","/","u",".","w",";","if","(","u",".","w","<","0.0",")","GA",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","GB","=","v",".","xyz","/","v",".","w",";","if","(","v",".","w","<","0.0",")","GB",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","FU","(","Gg",".","xy",",","0.0",")",")","{","tv","=","Gw","(","Gg",",","Gi",",","u_shadow_map0",",","u_shadow_map1",",","Gz","[","0","]",",","Gz","[","1","]",",","u_csm_center_dists","[","0","]",",","fN",")",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","FU","(","Gg",".","xy",",","FK",")",")","{","tv","=","Gy","(","Gg",",","u_shadow_map0",",","Gz","[","0","]",",","u_csm_center_dists","[","0","]",",","fN",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","FU","(","Gi",".","xy",",","0.0",")",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["tv","=","Gw","(","Gi",",","GA",",","u_shadow_map1",",","u_shadow_map2",",","Gz","[","1","]",",","Gz","[","2","]",",","u_csm_center_dists","[","1","]",",","fN",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["tv","=","Gy","(","Gi",",","u_shadow_map1",",","Gz","[","1","]",",","u_csm_center_dists","[","1","]",",","fN",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","FU","(","GA",".","xy",",","0.0",")",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["tv","=","Gw","(","GA",",","GB",",","u_shadow_map2",",","u_shadow_map3",",","Gz","[","2","]",",","Gz","[","3","]",",","u_csm_center_dists","[","2","]",",","fN",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["tv","=","Gy","(","GA",",","u_shadow_map2",",","Gz","[","2","]",",","u_csm_center_dists","[","2","]",",","fN",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","FU","(","GB",".","xy",",","0.0",")",")","tv","=","Gy","(","GB",",","u_shadow_map3",",","Gz","[","3","]",",","u_csm_center_dists","[","3","]",",","fN",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","GC","=","Gf","(","Gi",",","u_shadow_map1",",","Gz","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","GC","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","GD","=","Gf","(","GA",",","u_shadow_map2",",","Gz","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","GD","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","GE","=","Gf","(","GB",",","u_shadow_map3",",","Gz","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","GE","=","1.0",";"]}]}}]},{TYPE:"txt",TOKENS:["return","vec4","(","tv",",","GC",",","GD",",","GE",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec4","ch","(","inout","vec3","cd",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Gb","=","GLSL_TEXTURE","(","u_shadow_mask",",","l",".","xy","/","l",".","z",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"l_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cd","*=","Gb",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["return","Gb",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Gb","=","dD","(","i",".","z",")",";","return","Gb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec4","(","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/shadow.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SHADOW_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SHADOW_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"MAC_OS_SHADOW_HACK",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_TEX_RES",TOKENS:["2048.0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["vec4","GI","(","mat4","GF",",","vec4","GG",",","mat4","GH",")","{","vec2","dF","=","(","GF","*","GH","[","3","]",")",".","xy",";","float","dG","=","SHADOW_TEX_RES","/","2.0",";","dF","=","floor","(","dF","*","dG","+","0.5",")","/","dG","-","dF",";","vec4","FY","=","GF","*","GG",";","FY",".","xy","+=","dF",";","FY",".","xyz","=","0.5","*","(","FY",".","xyz","+","FY",".","w",")",";","return","FY",";","}","void","bD","(","vec3","eD",",","vec3","GJ",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","GH","=","aR","(","u_v_light_tsr","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","GH","=","aR","(","mat3","(","u_v_light_ts","[","0","]",",","u_v_light_r","[","0","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","GK","=","GH","*","vec4","(","eD","+","u_normal_offset","*","GJ",",","1.0",")",";","n","=","GI","(","u_p_light_matrix0",",","GK",",","GH",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GH","=","aR","(","u_v_light_tsr","[","1","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GH","=","aR","(","mat3","(","u_v_light_ts","[","1","]",",","u_v_light_r","[","1","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GK","=","GH","*","vec4","(","eD","+","u_normal_offset","*","GJ",",","1.0",")",";","o","=","GI","(","u_p_light_matrix1",",","GK",",","GH",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GH","=","aR","(","u_v_light_tsr","[","2","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GH","=","aR","(","mat3","(","u_v_light_ts","[","2","]",",","u_v_light_r","[","2","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GK","=","GH","*","vec4","(","eD","+","u_normal_offset","*","GJ",",","1.0",")",";","u","=","GI","(","u_p_light_matrix2",",","GK",",","GH",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GH","=","aR","(","u_v_light_tsr","[","3","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GH","=","aR","(","mat3","(","u_v_light_ts","[","3","]",",","u_v_light_r","[","3","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GK","=","GH","*","vec4","(","eD","+","u_normal_offset","*","GJ",",","1.0",")",";","v","=","GI","(","u_p_light_matrix3",",","GK",",","GH",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["o","=","GI","(","u_p_light_matrix1",",","GK",",","GH",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["u","=","GI","(","u_p_light_matrix2",",","GK",",","GH",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["v","=","GI","(","u_p_light_matrix3",",","GK",",","GH",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]}}]}]},exports["include/skin.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SKIN_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SKIN_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"DISABLE_TANGENT_SKINNING",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"SKIN_SLERP",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","GS","(","in","vec4","gI",",","in","vec4","GL",",","in","float","GM",")","{","float","GN","=","gI","[","0","]","*","GL","[","0","]","+","gI","[","1","]","*","GL","[","1","]","+","gI","[","2","]","*","GL","[","2","]","+","gI","[","3","]","*","GL","[","3","]",";","if","(","GN","<","0.0",")","{","GL","*=","-","1.0",";","GN","=","-","GN",";","}","if","(","abs","(","GN",")",">=","1.0",")","return","gI",";","float","GO","=","acos","(","GN",")",";","float","GP","=","sqrt","(","1.0","-","GN","*","GN",")",";","if","(","abs","(","GP",")","<","0.001",")","return","vec4","(","gI","*","0.5","+","GL","*","0.5",")",";","float","GQ","=","sin","(","(","1.0","-","GM",")","*","GO",")","/","GP",";","float","GR","=","sin","(","GM","*","GO",")","/","GP",";","return","gI","*","GQ","+","GL","*","GR",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Hf","(","in","vec3","N",",","in","vec4","GT",",","in","vec4","GU",",","in","vec4","GV",",","in","vec4","GW",",","in","float","GX",")","{","vec3","GY","=","ql","(","u_arm_rel_trans",",","u_arm_rel_quat",",","N",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","gI","=","GS","(","GT",",","GU",",","GX",")",";","vec4","GZ","=","mix","(","GV",",","GW",",","GX",")",";","vec3","G_","=","O","(","gI",",","GY",")",";","vec3","Ha","=","G_","*","GZ",".","w","+","GZ",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Hb","=","O","(","GT",",","GY",")",";","vec3","Hc","=","O","(","GU",",","GY",")",";","vec3","Hd","=","Hb","*","GV",".","w","+","GV",".","xyz",";","vec3","He","=","Hc","*","GW",".","w","+","GW",".","xyz",";","vec3","Ha","=","mix","(","Hd",",","He",",","GX",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","qo","(","u_arm_rel_trans",",","u_arm_rel_quat",",","Ha",")",";","}","vec3","Hl","(","in","vec3","Hg",",","in","vec4","GT",",","in","vec4","GU",",","in","float","GX",")","{","vec3","Hh","=","qn","(","u_arm_rel_trans",",","u_arm_rel_quat",",","Hg",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","gI","=","GS","(","GT",",","GU",",","GX",")",";","vec3","Hi","=","O","(","gI",",","Hh",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Hj","=","O","(","GT",",","Hh",")",";","vec3","Hk","=","O","(","GU",",","Hh",")",";","vec3","Hi","=","mix","(","Hj",",","Hk",",","GX",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","qr","(","u_arm_rel_trans",",","u_arm_rel_quat",",","Hi",")",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Hf","(","in","vec3","N",",","in","vec4","GT",",","in","vec4","GV",")","{","vec3","GY","=","ql","(","u_arm_rel_trans",",","u_arm_rel_quat",",","N",")",";","vec3","G_","=","O","(","GT",",","GY",")",";","vec3","Ha","=","G_","*","GV",".","w","+","GV",".","xyz",";","return","qo","(","u_arm_rel_trans",",","u_arm_rel_quat",",","Ha",")",";","}","vec3","Hl","(","in","vec3","Hg",",","in","vec4","GT",")","{","vec3","Hh","=","qn","(","u_arm_rel_trans",",","u_arm_rel_quat",",","Hg",")",";","vec3","Hi","=","O","(","GT",",","Hh",")",";","return","qr","(","u_arm_rel_trans",",","u_arm_rel_quat",",","Hi",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","_","(","inout","vec3","N",",","inout","vec3","Q",",","inout","vec3","R",",","inout","vec3","P",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Hm","=","u_frame_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","a_influence",".","y",">","0.0",")","{","vec3","iU","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","Hn","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","Ho","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","Hp","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec4","Hq","=","a_influence",";","for","(","int","bQ","=","0",";","bQ","<","4",";","bQ","++",")","{","int","Hr","=","int","(","Hq","[","bQ","]",")",";","float","Hs","=","fract","(","Hq","[","bQ","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Hn","+=","Hs","*","Hl","(","Q",",","u_quatsb","[","Hr","]",",","u_quatsa","[","Hr","]",",","Hm",")",";","Ho","+=","Hs","*","Hl","(","R",",","u_quatsb","[","Hr","]",",","u_quatsa","[","Hr","]",",","Hm",")",";","Hp","+=","Hs","*","Hl","(","P",",","u_quatsb","[","Hr","]",",","u_quatsa","[","Hr","]",",","Hm",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iU","+=","Hs","*","Hf","(","N",",","u_quatsb","[","Hr","]",",","u_transb","[","Hr","]",")",";","Hp","+=","Hs","*","Hl","(","P",",","u_quatsb","[","Hr","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Hn","+=","Hs","*","Hl","(","Q",",","u_quatsb","[","Hr","]",")",";","Ho","+=","Hs","*","Hl","(","R",",","u_quatsb","[","Hr","]",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["int","Hr","=","int","(","Hq","[","0","]",")",";","float","Hs","=","fract","(","Hq","[","0","]",")",";","iU","+=","Hs","*","Hf","(","N",",","u_quatsb","[","Hr","]",",","u_quatsa","[","Hr","]",",","u_transb","[","Hr","]",",","u_transa","[","Hr","]",",","Hm",")",";","Hr","=","int","(","Hq","[","1","]",")",";","Hs","=","fract","(","Hq","[","1","]",")",";","iU","+=","Hs","*","Hf","(","N",",","u_quatsb","[","Hr","]",",","u_quatsa","[","Hr","]",",","u_transb","[","Hr","]",",","u_transa","[","Hr","]",",","Hm",")",";","Hr","=","int","(","Hq","[","2","]",")",";","Hs","=","fract","(","Hq","[","2","]",")",";","iU","+=","Hs","*","Hf","(","N",",","u_quatsb","[","Hr","]",",","u_quatsa","[","Hr","]",",","u_transb","[","Hr","]",",","u_transa","[","Hr","]",",","Hm",")",";","Hr","=","int","(","Hq","[","3","]",")",";","Hs","=","fract","(","Hq","[","3","]",")",";","iU","+=","Hs","*","Hf","(","N",",","u_quatsb","[","Hr","]",",","u_quatsa","[","Hr","]",",","u_transb","[","Hr","]",",","u_transa","[","Hr","]",",","Hm",")",";"]}]}}]},{TYPE:"txt",TOKENS:["N","=","iU",";","P","=","Hp",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Q","=","Hn",";","R","=","Ho",";"]}]}}]},{TYPE:"txt",TOKENS:["}","if","(","!","(","a_influence",".","y",">","0.0",")",")","{","int","Ht","=","int","(","a_influence","[","0","]","-","1.0",")",";","if","(","Ht",">","-","1",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["N","=","Hf","(","N",",","u_quatsb","[","Ht","]",",","u_quatsa","[","Ht","]",",","u_transb","[","Ht","]",",","u_transa","[","Ht","]",",","Hm",")",";","Q","=","Hl","(","Q",",","u_quatsb","[","Ht","]",",","u_quatsa","[","Ht","]",",","Hm",")",";","R","=","Hl","(","R",",","u_quatsb","[","Ht","]",",","u_quatsa","[","Ht","]",",","Hm",")",";","P","=","Hl","(","P",",","u_quatsb","[","Ht","]",",","u_quatsa","[","Ht","]",",","Hm",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["N","=","Hf","(","N",",","u_quatsb","[","Ht","]",",","u_transb","[","Ht","]",")",";","P","=","Hl","(","P",",","u_quatsb","[","Ht","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Q","=","Hl","(","Q",",","u_quatsb","[","Ht","]",")",";","R","=","Hl","(","R",",","u_quatsb","[","Ht","]",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}","}","}"]}]}}]}]}}]}]},exports["include/sky_blending.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SKY_BLENDING_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SKY_BLENDING_GLSLF",TOKENS:[""]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"blending.glslf"},{TYPE:"var",NAME:"WO_SKYREAL",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"var",NAME:"BLENDTYPE",TOKENS:["MIX"]},{TYPE:"var",NAME:"MTEX_RGBTOINT",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_HORIZ",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_ZENUP",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_ZENDOWN",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_BLEND",TOKENS:["0"]},{TYPE:"var",NAME:"MTEX_NEGATIVE",TOKENS:["0"]},{TYPE:"txt",TOKENS:["vec3","Hu","(","vec3","jB",",","vec3","jC",",","float","aB",",","float","ka",")","{","float","jD","=","aB","*","ka",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLENDTYPE","MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jE","(","jC",",","jB",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","ADD",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jF","(","jB",",","jC",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SUBTRACT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jG","(","jB",",","jC",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jI","(","jB",",","jC",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SCREEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jJ","(","jB",",","jC",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","OVERLAY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jK","(","jB",",","jC",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIFFERENCE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jL","(","jB",",","jC",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIVIDE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jM","(","jB",",","jC",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DARKEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jN","(","jB",",","jC",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LIGHTEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jO","(","jB",",","jC",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","HUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jS","(","jC",",","jB",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SATURATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jT","(","jC",",","jB",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","VALUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jU","(","jC",",","jB",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","COLOR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jV","(","jC",",","jB",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SOFT_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jX","(","jC",",","jB",",","jD",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LINEAR_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jY","(","jC",",","jB",",","jD",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","vec3","(","1.0",",","0.0",",","1.0",")",";","}","float","Hv","(","float","jZ",",","float","j_",",","float","aB",",","float","ka",")","{","vec3","jB","=","vec3","(","jZ",")",",","jC","=","vec3","(","j_",")",";","float","jD","=","aB","*","ka",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLENDTYPE","MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jE","(","jC",",","jB",",","jD",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","ADD",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jF","(","jB",",","jC",",","jD",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SUBTRACT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jG","(","jB",",","jC",",","jD",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","kb","(","jZ",",","j_",",","jD",",","ka",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SCREEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","kc","(","jZ",",","j_",",","jD",",","ka",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","OVERLAY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","kd","(","jZ",",","j_",",","jD",",","ka",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIFFERENCE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jL","(","jB",",","jC",",","jD",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIVIDE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jM","(","jB",",","jC",",","jD",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DARKEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jN","(","jB",",","jC",",","jD",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LIGHTEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jO","(","jB",",","jC",",","jD",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SOFT_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jX","(","jC",",","jB",",","jD",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LINEAR_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jY","(","jC",",","jB",",","jD",")",".","x",";"]}]}}]},{TYPE:"txt",TOKENS:["return","0.0",";","}","vec3","dN","(","vec3","dJ",",","vec3","dK",",","vec4","dM",",","float","dI",",","vec3","dL",")","{","float","Hw","=","1.0",";","Hw","=","dM",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Hw","=","ft","(","dM",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_NEGATIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dM","=","vec4","(","vec3","(","1.0",")","-","dM",".","rgb",",","dM",".","a",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Hw","=","1.0","-","Hw",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_HORIZ","WOMAP_ZENUP","WOMAP_ZENDOWN",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dM","=","vec4","(","u_sky_tex_color",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Hw","=","dM",".","a",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_HORIZ"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dJ","=","Hu","(","dM",".","rgb",",","dJ",",","Hw",",","u_sky_tex_fac","[","1","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP","WOMAP_ZENDOWN",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Hx","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","dL",",","vec3","(","0.0",",","0.0",",","1.0",")",")",">=","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Hx","=","u_sky_tex_fac","[","2","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENDOWN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","Hx","=","u_sky_tex_fac","[","3","]",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Hx","=","u_sky_tex_fac","[","2","]",";"]}]}},{TYPE:"elif",EXPRESSION:["WOMAP_ZENDOWN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Hx","=","u_sky_tex_fac","[","3","]",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["if","(","Hx","!=","0.0",")","dK","=","Hu","(","dM",".","rgb",",","dK",",","Hw",",","Hx",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_BLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Hw","=","dot","(","dM",".","rgb",",","vec3","(","0.2126",",","0.7152",",","0.0722",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["dI","=","Hv","(","u_sky_tex_dvar",",","dI",",","Hw",",","u_sky_tex_fac","[","0","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dH","=","mix","(","dJ",",","dK",",","dI",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dH","=","dJ",";"]}]}}]},{TYPE:"txt",TOKENS:["return","dH",";","}"]}]}}]}]},exports["include/std.glsl"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"STD_ENUMS_GLSL",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"STD_ENUMS_GLSL",TOKENS:[""]},{TYPE:"var",NAME:"CONSTANTS_HACK",TOKENS:["0"]},{TYPE:"define",NAME:"TEXTURE_COORDS_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"TEXTURE_COORDS_UV_ORCO",TOKENS:["1"]},{TYPE:"define",NAME:"TEXTURE_COORDS_NORMAL",TOKENS:["2"]},{TYPE:"define",NAME:"TEXTURE_BLEND_TYPE_MIX",TOKENS:["1"]},{TYPE:"define",NAME:"TEXTURE_BLEND_TYPE_MULTIPLY",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_SRC_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_SRC_DEPTH",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_SRC_MASK",TOKENS:["3"]},{TYPE:"define",NAME:"SHADOW_DST_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_DST_DEPTH",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_DST_MASK",TOKENS:["3"]},{TYPE:"define",NAME:"NO_SHADOWS",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_CASTING",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_MASK_GENERATION",TOKENS:["3"]},{TYPE:"define",NAME:"SHADOW_MAPPING_OPAQUE",TOKENS:["4"]},{TYPE:"define",NAME:"SHADOW_MAPPING_BLEND",TOKENS:["5"]},{TYPE:"define",NAME:"POISSON_X_16",TOKENS:["4"]},{TYPE:"define",NAME:"POISSON_X_8",TOKENS:["2"]},{TYPE:"define",NAME:"POISSON_X_4",TOKENS:["1"]},{TYPE:"define",NAME:"NO_SOFT_SHADOWS",TOKENS:["0"]},{TYPE:"define",NAME:"SPECULAR_PHONG",TOKENS:["1"]},{TYPE:"define",NAME:"SPECULAR_COOKTORR",TOKENS:["2"]},{TYPE:"define",NAME:"SPECULAR_WARDISO",TOKENS:["3"]},{TYPE:"define",NAME:"SPECULAR_BLINN",TOKENS:["4"]},{TYPE:"define",NAME:"SPECULAR_TOON",TOKENS:["5"]},{TYPE:"define",NAME:"DIFFUSE_LAMBERT",TOKENS:["1"]},{TYPE:"define",NAME:"DIFFUSE_OREN_NAYAR",TOKENS:["2"]},{TYPE:"define",NAME:"DIFFUSE_FRESNEL",TOKENS:["3"]},{TYPE:"define",NAME:"DIFFUSE_MINNAERT",TOKENS:["4"]},{TYPE:"define",NAME:"DIFFUSE_TOON",TOKENS:["5"]},{TYPE:"define",NAME:"MIX",TOKENS:["0"]},{TYPE:"define",NAME:"ADD",TOKENS:["1"]},{TYPE:"define",NAME:"SUBTRACT",TOKENS:["2"]},{TYPE:"define",NAME:"MULTIPLY",TOKENS:["3"]},{TYPE:"define",NAME:"SCREEN",TOKENS:["4"]},{TYPE:"define",NAME:"OVERLAY",TOKENS:["5"]},{TYPE:"define",NAME:"DIFFERENCE",TOKENS:["6"]},{TYPE:"define",NAME:"DIVIDE",TOKENS:["7"]},{TYPE:"define",NAME:"DARKEN",TOKENS:["8"]},{TYPE:"define",NAME:"LIGHTEN",TOKENS:["9"]},{TYPE:"define",NAME:"HUE",TOKENS:["10"]},{TYPE:"define",NAME:"SATURATION",TOKENS:["11"]},{TYPE:"define",NAME:"VALUE",TOKENS:["12"]},{TYPE:"define",NAME:"COLOR",TOKENS:["13"]},{TYPE:"define",NAME:"SOFT_LIGHT",TOKENS:["14"]},{TYPE:"define",NAME:"LINEAR_LIGHT",TOKENS:["15"]},{TYPE:"define",NAME:"REFL_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"REFL_MIRRORMAP",TOKENS:["1"]},{TYPE:"define",NAME:"REFL_PLANE",TOKENS:["2"]},{TYPE:"define",NAME:"REFL_CUBE",TOKENS:["3"]},{TYPE:"define",NAME:"INVERSE_QUADRATIC",TOKENS:["0"]},{TYPE:"define",NAME:"LINEAR",TOKENS:["1"]},{TYPE:"define",NAME:"QUADRATIC",TOKENS:["2"]},{TYPE:"define",NAME:"HEMI",TOKENS:["1"]},{TYPE:"define",NAME:"SPOT",TOKENS:["2"]},{TYPE:"define",NAME:"POINT",TOKENS:["3"]},{TYPE:"define",NAME:"SUN",TOKENS:["4"]},{TYPE:"define",NAME:"DOF_SIMPLE",TOKENS:["0"]},{TYPE:"define",NAME:"DOF_BOKEH",TOKENS:["1"]},{TYPE:"define",NAME:"COC_ALL",TOKENS:["0"]},{TYPE:"define",NAME:"COC_FOREGROUND",TOKENS:["1"]},{TYPE:"define",NAME:"COC_COMBINE",TOKENS:["2"]},{TYPE:"define",NAME:"VT_WORLD_TO_WORLD",TOKENS:["0"]},{TYPE:"define",NAME:"VT_WORLD_TO_OBJECT",TOKENS:["1"]},{TYPE:"define",NAME:"VT_WORLD_TO_CAMERA",TOKENS:["2"]},{TYPE:"define",NAME:"VT_OBJECT_TO_WORLD",TOKENS:["3"]},{TYPE:"define",NAME:"VT_OBJECT_TO_OBJECT",TOKENS:["4"]},{TYPE:"define",NAME:"VT_OBJECT_TO_CAMERA",TOKENS:["5"]},{TYPE:"define",NAME:"VT_CAMERA_TO_WORLD",TOKENS:["6"]},{TYPE:"define",NAME:"VT_CAMERA_TO_OBJECT",TOKENS:["7"]},{TYPE:"define",NAME:"VT_CAMERA_TO_CAMERA",TOKENS:["8"]},{TYPE:"define",NAME:"VT_POINT",TOKENS:["0"]},{TYPE:"define",NAME:"VT_VECTOR",TOKENS:["1"]},{TYPE:"define",NAME:"VT_NORMAL",TOKENS:["2"]},{TYPE:"define",NAME:"NM_TANGENT",TOKENS:["0"]},{TYPE:"define",NAME:"NM_OBJECT",TOKENS:["1"]},{TYPE:"define",NAME:"NM_WORLD",TOKENS:["2"]},{TYPE:"define",NAME:"NM_BLENDER_OBJECT",TOKENS:["3"]},{TYPE:"define",NAME:"NM_BLENDER_WORLD",TOKENS:["4"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_VIEW",TOKENS:["1"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_XY",TOKENS:["2"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_YZ",TOKENS:["3"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_ZX",TOKENS:["4"]},{TYPE:"define",NAME:"POST_EFFECT_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"POST_EFFECT_GRAYSCALE",TOKENS:["2"]},{TYPE:"define",NAME:"POST_EFFECT_BLUR",TOKENS:["3"]},{TYPE:"define",NAME:"POST_EFFECT_GLOW_BLUR",TOKENS:["4"]},{TYPE:"define",NAME:"POST_EFFECT_DOF_BLUR",TOKENS:["5"]},{TYPE:"define",NAME:"POST_EFFECT_ALPHA_BLUR",TOKENS:["6"]},{TYPE:"define",NAME:"POST_EFFECT_EXTEND",TOKENS:["7"]},{TYPE:"define",NAME:"FLIP_CUBEMAP_COORDS",TOKENS:["8"]},{TYPE:"define",NAME:"DV_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"DV_OPAQUE_WIREFRAME",TOKENS:["1"]},{TYPE:"define",NAME:"DV_TRANSPARENT_WIREFRAME",TOKENS:["2"]},{TYPE:"define",NAME:"DV_FRONT_BACK_VIEW",TOKENS:["3"]},{TYPE:"define",NAME:"DV_BOUNDINGS",TOKENS:["4"]},{TYPE:"define",NAME:"DV_CLUSTERS_VIEW",TOKENS:["5"]},{TYPE:"define",NAME:"DV_BATCHES_VIEW",TOKENS:["6"]},{TYPE:"define",NAME:"DV_RENDER_TIME",TOKENS:["7"]},{TYPE:"define",NAME:"SSAO_QUALITY_8",TOKENS:["1"]},{TYPE:"define",NAME:"SSAO_QUALITY_16",TOKENS:["2"]},{TYPE:"define",NAME:"SSAO_QUALITY_24",TOKENS:["3"]},{TYPE:"define",NAME:"SSAO_QUALITY_32",TOKENS:["4"]},{TYPE:"define",NAME:"AA_METHOD_FXAA_LIGHT",TOKENS:["1"]},{TYPE:"define",NAME:"AA_METHOD_FXAA_QUALITY",TOKENS:["2"]},{TYPE:"define",NAME:"AA_QUALITY_LOW",TOKENS:["0"]},{TYPE:"define",NAME:"AA_QUALITY_MEDIUM",TOKENS:["1"]},{TYPE:"define",NAME:"AA_QUALITY_HIGH",TOKENS:["2"]},{TYPE:"define",NAME:"SMAA_RESOLVE",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_EDGE_DETECTION",TOKENS:["2"]},{TYPE:"define",NAME:"SMAA_BLENDING_WEIGHT_CALCULATION",TOKENS:["3"]},{TYPE:"define",NAME:"SMAA_NEIGHBORHOOD_BLENDING",TOKENS:["4"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_LOW",TOKENS:["1"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_MEDIUM",TOKENS:["2"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_HIGH",TOKENS:["3"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_ULTRA",TOKENS:["4"]},{TYPE:"define",NAME:"REFL_PASS_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"REFL_PASS_PLANE",TOKENS:["1"]},{TYPE:"define",NAME:"REFL_PASS_CUBE",TOKENS:["2"]},{TYPE:"define",NAME:"SRGB_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"SRGB_SIMPLE",TOKENS:["1"]},{TYPE:"define",NAME:"SRGB_PROPER",TOKENS:["2"]},{TYPE:"define",NAME:"CAM_TYPE_ORTHO",TOKENS:["0"]},{TYPE:"define",NAME:"CAM_TYPE_PERSP",TOKENS:["1"]},{TYPE:"define",NAME:"M_PI",TOKENS:["3.14159265359"]},{TYPE:"define",NAME:"M_PI_4",TOKENS:["0.785398163"]},{TYPE:"define",NAME:"INV_PI",TOKENS:["0.318309886"]},{TYPE:"define",NAME:"UP_VECTOR",TOKENS:["vec3","(","0.0",",","0.0",",","1.0",")"]},{TYPE:"define",NAME:"RIGHT_VECTOR",TOKENS:["vec3","(","1.0",",","0.0",",","0.0",")"]},{TYPE:"define",NAME:"TOWARD_VECTOR",TOKENS:["vec3","(","0.0",",","-","1.0",",","0.0",")"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CONSTANTS_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","_0_0","=","0.0",";","float","_0_5","=","0.5",";","float","_1_0","=","1.0",";","float","_255_0","=","255.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"_0_0",TOKENS:["0.0"]},{TYPE:"define",NAME:"_0_5",TOKENS:["0.5"]},{TYPE:"define",NAME:"_1_0",TOKENS:["1.0"]},{TYPE:"define",NAME:"_255_0",TOKENS:["255.0"]}]}}]}]}}]}]},exports["include/to_world.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"TO_WORLD_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"TO_WORLD_GLSLV",TOKENS:[""]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"var",NAME:"BILLBOARD_ALIGN",TOKENS:["BILLBOARD_ALIGN_VIEW"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_SPHERICAL",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_RANDOM",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"define",NAME:"MAX_BILLBOARD_ANGLE",TOKENS:["M_PI_4"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_SPHERICAL","BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD_ALIGN","BILLBOARD_ALIGN_VIEW",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","aX","(","vec3","Hy",",","mat3","M",")","{","vec4","Hz","=","vec4","(","M","[","1","]","[","1","]",",","M","[","1","]","[","2","]",",","M","[","2","]","[","0","]",",","M","[","2","]","[","1","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","HA","=","cI","(","RIGHT_VECTOR",",","-","M_PI","/","2.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","HA","=","cI","(","RIGHT_VECTOR",",","M_PI","/","2.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Hz","=","qe","(","HA",",","Hz",")",";","Hz","=","kj","(","Hz",")",";","mat3","aY","=","cG","(",")",";","aY","[","0","]","=","Hy",";","aY","=","cK","(","Hz",",","aY",")",";","return","aY",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","HC","(","vec3","kV",",","vec3","Hy",")","{","vec3","HB","=","kV","-","Hy",";","HB",".","z","=","0.0",";","HB","=","normalize","(","HB",")",";","vec4","Hz","=","qj","(","HB",",","TOWARD_VECTOR",")",";","mat3","aY","=","cG","(",")",";","aY","[","0","]","=","Hy",";","aY","=","cK","(","Hz",",","aY",")",";","return","aY",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","ai","(","in","vec3","HD",",","float","HE",",","float","HF",",","float","HG",",","vec3","aQ",",","mat3","S",")","{","float","HH","=","fract","(","length","(","aQ",")","/","0.17",")",";","float","HI","=","HG","+","HH","/","10.0",";","float","HJ","=","HH",";","if","(","HG","!=","0.0",")","HJ","/=","HG",";","HD","*=","1.0","+","0.5","*","sin","(","HE",")",";","float","HK","=","length","(","HD",")","*","HF","*","sin","(","2.0","*","3.14","*","HE","*","HI","+","HJ",")",";","vec4","HL","=","cI","(","TOWARD_VECTOR",",","HK",")",";","vec4","HM","=","vec4","(","S","[","1","]","[","1","]",",","S","[","1","]","[","2","]",",","S","[","2","]","[","0","]",",","S","[","2","]","[","1","]",")",";","HM","=","qe","(","HM",",","HL",")",";","S","=","cK","(","HM",",","S",")",";","return","S",";","}"]}]}}]},{TYPE:"txt",TOKENS:["mat3","ah","(","in","vec3","kV",",","in","vec3","ae",",","in","mat3","M",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_SPHERICAL","BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD_ALIGN","BILLBOARD_ALIGN_VIEW",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","lj","=","aX","(","ae",",","M",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BILLBOARD_RANDOM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","HH","=","fract","(","(","ae",".","x","*","1.43","-","ae",".","z","*","0.123","+","ae",".","y","*","6.1",")",")",";","float","HN","=","2.0","*","M_PI","*","HH",";","vec4","HO","=","vec4","(","M","[","1","]","[","1","]",",","M","[","1","]","[","2","]",",","M","[","2","]","[","0","]",",","M","[","2","]","[","1","]",")",";","float","HP","=","asin","(","2.0","*","(","HO",".","x","*","HO",".","y","-","HO",".","z","*","HO",".","w",")",")",";","float","gZ","=","HP","-","HN",";","if","(","gZ","<","0.0",")","gZ","=","2.0","*","M_PI","+","gZ",";","float","HQ","=","HN",";","if","(","gZ","<=","MAX_BILLBOARD_ANGLE",")","HQ","+=","gZ",";","else","if","(","gZ","<=","M_PI","-","MAX_BILLBOARD_ANGLE",")","HQ","+=","MAX_BILLBOARD_ANGLE","*","(","2.0","*","gZ","-","M_PI",")","/","(","2.0","*","MAX_BILLBOARD_ANGLE","-","M_PI",")",";","else","if","(","gZ","<=","M_PI","+","MAX_BILLBOARD_ANGLE",")","HQ","+=","gZ","-","M_PI",";","else","if","(","gZ","<=","2.0","*","M_PI","-","MAX_BILLBOARD_ANGLE",")","HQ","+=","MAX_BILLBOARD_ANGLE","*","(","2.0","*","gZ","-","M_PI",")","/","(","2.0","*","MAX_BILLBOARD_ANGLE","-","M_PI",")","+","M_PI",";","else","HQ","+=","gZ","-","2.0","*","M_PI",";","vec4","HR","=","cI","(","UP_VECTOR",",","HQ",")",";","mat3","lj",";","lj","[","0","]","=","ae",";","lj","[","1","]","[","0","]","=","1.0",";","lj","=","cK","(","HR",",","lj",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","lj","=","HC","(","kV",",","ae",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","lj",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_INSTANCED_PARTCLS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","af","(","in","vec3","kV",",","in","vec3","ae",",","in","mat3","M",",","in","mat3","S",")","{","mat3","lj","=","ah","(","kV",",","ae",",","M",")",";","S","[","0","]","=","vec3","(","0.0",",","0.0",",","0.0",")",";","lj","=","aO","(","lj",",","S",")",";","return","lj",";","}"]}]}}]},{TYPE:"txt",TOKENS:["aj","ak","(","in","vec3","eD",",","in","vec3","HS",",","in","vec3","HT",",","in","vec3","HU",",","in","vec3","HV",",","in","vec3","HW",",","in","mat3","S",")","{","eD","=","ad","(","S",",","eD",")",";","HS","=","ad","(","S",",","HS",")",";","HT","=","T","(","S",",","HT",")",";","HU","=","T","(","S",",","HU",")",";","HV","=","T","(","S",",","HV",")",";","HW","=","T","(","S",",","HW",")",";","return","lk","(","aj","(","eD",",","HS",",","HT",",","HU",",","HV",",","HW",",","vec3","(","0.0",")",")",")",";","}"]}]}}]}]},exports["include/wind_bending.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"WIND_BENDING_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"WIND_BENDING_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","Ii","(","inout","vec3","bd",",","in","vec3","HX",",","in","float","HY",",","in","float","HZ",",","in","float","eK",",","in","vec3","HD",",","in","float","H_",",","in","mat4","by",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Ia","=","(","by","*","vec4","(","bd",",","1.0",")",")",".","xyz",";","vec3","Ib","=","(","by","*","vec4","(","HX",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Ia","=","bd",";","vec3","Ib","=","HX",";"]}]}}]},{TYPE:"txt",TOKENS:["float","dg","=","length","(","Ib",")",";","float","Ic","=","HZ","*","(","1.0","+","0.1","*","fract","(","dg",")",")",";","float","Id","=","HY","*","H_","*","(","1.0","+","sin","(","2.0","*","3.14","*","eK","*","Ic","+","dg",")",")",";","float","Ie","=","(","Ia",".","z","-","Ib",".","z",")","*","abs","(","Id",")",";","Ie","+=","1.0",";","Ie","*=","Ie",";","Ie","=","Ie","*","Ie","-","Ie",";","vec3","If","=","Ia",";","If",".","xy","+=","HD",".","xy","*","Ie","*","sign","(","Id",")",";","vec3","Ig","=","If","-","Ib",";","if","(","all","(","equal","(","Ig",",","vec3","(","0.0",")",")",")",")","bd","=","HX",";","else","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ig","=","(","by","*","vec4","(","Ig",",","0.0",")",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["float","Ih","=","length","(","Ia","-","Ib",")",";","bd","=","HX","+","normalize","(","Ig",")","*","Ih",";","}","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Ij","(","vec4","x",")","{","return","x","*","x","*","(","3.0","-","2.0","*","x",")",";","}","vec4","Ik","(","vec4","x",")","{","return","abs","(","fract","(","x","+","0.5",")","*","2.0","-","1.0",")",";","}","vec4","Il","(","vec4","x",")","{","return","Ij","(","Ik","(","x",")",")",";","}","void","Ix","(","inout","vec3","bd",",","in","float","eK",",","in","vec3","P",",","in","vec3","HD",",","in","vec3","HX",",","in","float","Im",",","in","float","In",",","in","float","Io",",","in","vec3","Ip",",","in","mat4","by",")","{","float","Iq",";","float","Ir",";","float","Is",";","vec2","It",";","vec4","Iu",";","vec2","Iv",";","vec3","Iw",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Ia","=","(","by","*","vec4","(","bd",",","1.0",")",")",".","xyz",";","vec3","Ib","=","(","by","*","vec4","(","HX",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Ia","=","bd",";","vec3","Ib","=","HX",";"]}]}}]},{TYPE:"txt",TOKENS:["Iq","=","dot","(","Ib",",","vec3","(","1.0",")",")",";","Ir","=","Iq","+","Ip",".","g",";","Is","=","dot","(","Ia",",","vec3","(","Ip",".","g",")",")",";","It","=","(","eK","+","vec2","(","Is",",","Ir",")",")",";","Iu","=","(","(","fract","(","(","It",".","xxyy","*","vec4","(","1.975",",","0.793",",","0.375",",","0.193",")",")",")","*","2.0",")","-","1.0",")","*","length","(","HD",")","*","Im",";","Iu","=","Il","(","Iu",")",";","Iv","=","Iu",".","xz","+","Iu",".","yw",";","Iv",".","y","=","0.5","-","Iv",".","y",";","Iw","=","Iv",".","xxy","*","Ip",".","rrb","*","vec3","(","In","*","P",".","x",",","In","*","P",".","y",",","Io",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Iw","=","(","by","*","vec4","(","Iw",",","0.0",")",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["bd","+=","Iw",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","am","(","inout","vec3","N",",","inout","vec3","ac",",","in","vec3","P",",","in","mat4","by",")","{","vec3","Iy","=","u_wind","*","1.0","+","0.7","*","sin","(","u_time",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Iz","=","ac",";","vec3","IA","=","a_emitter_center",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["IA","=","(","by","*","vec4","(","IA",",","1.0",")",")",".","xyz",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Iz","=","N",";","vec3","IA","=","ac",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ix","(","Iz",",","u_time",",","P",",","Iy",",","IA",",","au_detail_bending_freq",",","au_detail_bending_amp",",","au_branch_bending_amp",",","a_bending_col_detail",",","by",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Ii","(","Iz",",","IA",",","au_wind_bending_amp",",","au_wind_bending_freq",",","u_time",",","Iy",",","a_bending_col_main",",","by",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ii","(","Iz",",","IA",",","au_wind_bending_amp",",","au_wind_bending_freq",",","u_time",",","Iy",",","1.0",",","by",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["N","+=","Iz","-","ac",";","ac","=","Iz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["N","=","Iz",";","ac","=","IA",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]}}]}]}}
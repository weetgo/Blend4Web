/**
 * Copyright (C) 2014-2017 Triumph LLC
 * 
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 * 
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 * 
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */
b4w.module["shader_texts"] = function(exports, require) {exports["anchors.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";","}"]}]},exports["anchors.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"ANCHOR_NUM",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec3","u_position","[","ANCHOR_NUM","]",";","uniform","mat4","u_view_proj_matrix",";","uniform","vec2","u_texel_size",";","GLSL_IN","float","a_index",";","void","main","(",")","{","int","c","=","int","(","mod","(","a_index",",","3.0",")",")",";","int","d","=","int","(","a_index","/","3.0",")",";","vec2","e",";","if","(","c","==","0",")","{","e","=","vec2","(","-","4.0","*","u_texel_size","[","0","]",",","-","u_texel_size","[","1","]",")",";","}","else","if","(","c","==","1",")","{","e","=","vec2","(","4.0","*","u_texel_size","[","0","]",",","-","u_texel_size","[","1","]",")",";","}","else","{","e","=","vec2","(","0.0",",","5.0","*","u_texel_size","[","1","]",")",";","}","vec4","f","=","u_view_proj_matrix","*","vec4","(","u_position","[","d","]",",","1.0",")",";","f",".","xy","+=","e","*","f",".","w",";","gl_Position","=","f",";","}"]}]},exports["color_id.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"USE_OUTLINE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"CAMERA_TYPE",TOKENS:["CAM_TYPE_PERSP"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"var",NAME:"USE_DERIVATIVES_EXT",TOKENS:["0"]},{TYPE:"var",NAME:"USE_LOD_SMOOTHING",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1","USE_DERIVATIVES_EXT",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_LOD_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"coverage.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_FRESNEL","USE_NODE_LAYER_WEIGHT",{TYPE:"logical_or_expr",PLACES:2},"CAMERA_TYPE","CAM_TYPE_ORTHO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_direction",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_VIEW_TSR",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";","uniform","float","u_alpha_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_color_id",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec2","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map0",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map1",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map2",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map3",";","uniform","sampler2D","u_shadow_mask",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_outline_intensity",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_OBJECT_INFO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_obj_info",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_LOD_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_lod_coverage",";","uniform","float","u_lod_cmp_logic",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";","GLSL_IN","vec4","i",";","GLSL_IN","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","m",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","n",";","GLSL_IN","vec4","o",";","GLSL_IN","vec4","u",";","GLSL_IN","vec4","v",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","B",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","C","=","normalize","(","u_camera_eye_frag","-","h",")",";","vec3","D",";","vec3","E",";","vec3","F",";","vec4","G",";","float","H",";","I","(","C",",","D",",","E",",","F",",","G",",","H",")",";","float","J","=","H",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","(","GLSL_TEXTURE","(","u_sampler",",","A",")",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","u_alpha_factor","*","J",";","L","+=","(","1.0","-","step","(","0.0",",","L",")",")",";","J","=","mix","(","L",",","1.0",",","u_diffuse_color",".","a",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","u_diffuse_color",".","a",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","J","<","0.5",")","discard",";","J","=","1.0",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_LOD_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","M","(","u_lod_coverage",",","u_lod_cmp_logic",")",")","discard",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_OUTLINE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","u_outline_intensity",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","u_color_id",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["color_id.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"SMAA_JITTER",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM_MIX_NORMALS_FACTOR",TOKENS:["u_va_frame_factor"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_next",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","B",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";","GLSL_OUT","vec4","i",";","GLSL_OUT","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","m",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]}]}}]},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","N","=","u_view_tsr",";","vec3","O","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA","CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:6},{TYPE:"logical_and_expr",PLACES:3},"USE_TBN_SHADING","CALC_TBN",{TYPE:"logical_and_expr",PLACES:2},"USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_NO","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","P",",","Q",";","vec4","S","=","R","(","a_tbn",",","P",",","Q",")",";","vec3","U","=","T","(","S",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","T","(","S",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","W","=","Q","*","cross","(","U",",","V",")",";","vec4","Y","=","X","(","W",",","Q","*","P",")",";","V","=","T","(","Y",",","U",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","vec3","(","0.0",")",";","vec3","W","=","vec3","(","0.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","U","=","vec3","(","0.0",")",";","vec3","V","=","vec3","(","0.0",")",";","vec3","W","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","Z","=","u_model_tsr",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","normalize","(","_","(","u_model_tsr",",","U",")",")",";","vec3","ad","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","ac",")",";","vec3","ae","=","cross","(","ac",",","ad",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ae","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ae","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","mix","(","O",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","af",",","ah",";","vec4","ai","=","R","(","a_tbn_next",",","af",",","ah",")",";","vec3","aj","=","T","(","ai",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","U","=","mix","(","U",",","aj",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ak","=","T","(","ai",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","al","=","ah","*","cross","(","aj",",","ak",")",";","vec4","am","=","X","(","al",",","ah","*","af",")",";","ak","=","T","(","am",",","aj",")",";","V","=","mix","(","V",",","ak",",","u_va_frame_factor",")",";","W","=","mix","(","W",",","al",",","u_va_frame_factor",")",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["an","(","O",",","V",",","W",",","U",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","au_center_pos",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aq","=","ap","(","Z",",","ao",")",";","Z","=","as","(","u_camera_eye",",","aq",",","N",",","Z",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Z","=","at","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","aq",",","Z",")",";"]}]}}]},{TYPE:"txt",TOKENS:["au","aw","=","av","(","O","-","ao",",","ao",",","V",",","ae",",","W",",","U",",","Z",")",";","aw",".","ao","=","aq",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["au","aw","=","av","(","O",",","ao",",","V",",","ae",",","W",",","U",",","Z",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ax","(","aw",".","O",",","aw",".","ao",",","U",",","mat4","(","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ay","=","T","(","a_tbn",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ay","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ax","(","aw",".","O",",","aw",".","ao",",","ay",",","mat4","(","0.0",")",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","az","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["h","=","aw",".","O",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO","USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:12}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["j","=","aw",".","U",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aA","=","(","dot","(","cross","(","aw",".","U",",","aw",".","V",")",",","aw",".","W",")","<","0.0",")","?","-","1.0",":","1.0",";","k","=","vec4","(","aw",".","V",",","aA",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["B","=","aw",".","aB",";"]}]}}]},{TYPE:"txt",TOKENS:["i","=","vec4","(","ap","(","N",",","aw",".","O",")",",","1.0",")",";","vec4","f","=","u_proj_matrix","*","i",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f",".","xy","+=","u_subpixel_jitter","*","f",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","aC","(","f",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","-","i",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["I","(",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","u_proj_matrix","*","vec4","(","ap","(","N",",","aw",".","O",")",",","1.0",")",";","}"]}]},exports["debug_view.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DEBUG_SPHERE",TOKENS:["0"]},{TYPE:"var",NAME:"WIREFRAME_QUALITY",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_SPHERE_DYNAMIC",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_debug_view_mode",";","uniform","float","u_cluster_id",";","uniform","float","u_batch_debug_id_color",";","uniform","float","u_batch_debug_main_render_time",";","uniform","float","u_debug_colors_seed",";","uniform","float","u_debug_render_time_threshold",";","uniform","vec3","u_wireframe_edge_color",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","aD",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","const","float","aE","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE_DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","aF","=","vec3","(","1.0",",","0.05",",","0.05",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","aF","=","vec3","(","0.05",",","0.05",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","vec3","aG","=","vec3","(","0.4",",","0.4",",","1.0",")",";","const","vec3","aH","=","vec3","(","1.0",",","0.4",",","0.4",")",";","const","vec3","aI","=","vec3","(","1.0",",","1.0",",","1.0",")",";","const","vec3","aJ","=","vec3","(","0.0",",","133.0","/","255.0",",","66.0","/","255.0",")",";","const","vec3","aK","=","vec3","(","160.0","/","255.0",",","38.0","/","255.0",",","33.0","/","255.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aP","(",")","{","float","aL","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIREFRAME_QUALITY",0,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aM","=","sign","(","aD","-","vec3","(","0.02","*","aE",")",")",";","if","(","aM",".","x","<","0.0","||","aM",".","y","<","0.0","||","aM",".","z","<","0.0",")","aL","=","0.0",";"]}]}},{TYPE:"elif",EXPRESSION:["WIREFRAME_QUALITY",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"txt",TOKENS:["vec3","aN","=","fwidth","(","aD",")",";","vec3","aO","=","smoothstep","(","vec3","(","0.0",")",",","aN","*","aE",",","aD",")",";","aL","=","min","(","min","(","aO",".","x",",","aO",".","y",")",",","aO",".","z",")",";","aL","=","clamp","(","aL",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aL",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec3","aQ","=","vec3","(","0.0",")",";","float","J","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aM","=","sign","(","aD","-","vec3","(","0.02","*","aE",")",")",";","if","(","aM",".","x","<","0.0","||","aM",".","y","<","0.0","||","aM",".","z","<","0.0",")","{","aQ","=","aF",";","J","=","1.0",";","}","else","discard",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_debug_view_mode","==","DV_OPAQUE_WIREFRAME",")","{","float","aL","=","aP","(",")",";","aQ","=","vec3","(","mix","(","u_wireframe_edge_color",",","aI",",","aL",")",")",";","J","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_TRANSPARENT_WIREFRAME",")","{","float","aL","=","aP","(",")",";","aQ","=","u_wireframe_edge_color",";","J","=","mix","(","1.0",",","0.0",",","aL",")",";","}","else","if","(","u_debug_view_mode","==","DV_FRONT_BACK_VIEW",")","{","float","aL","=","aP","(",")",";","if","(","gl_FrontFacing",")","aQ","=","mix","(","u_wireframe_edge_color",",","aG",",","aL",")",";","else","aQ","=","mix","(","u_wireframe_edge_color",",","aH",",","aL",")",";","J","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_CLUSTERS_VIEW",")","{","float","aR","=","u_cluster_id","+","u_debug_colors_seed","+","2.0",";","aQ","=","vec3","(","fract","(","aR","*","19.73",")",",","fract","(","aR","*","6.34",")",",","fract","(","aR","*","1.56",")",")",";","J","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_BATCHES_VIEW",")","{","float","aR","=","u_batch_debug_id_color","+","u_debug_colors_seed",";","aQ","=","vec3","(","fract","(","aR","*","19.73",")",",","fract","(","aR","*","6.34",")",",","fract","(","aR","*","1.56",")",")",";","J","=","1.0",";","}","else","if","(","u_debug_view_mode","==","DV_RENDER_TIME",")","{","float","aS",";","if","(","u_debug_render_time_threshold",">","0.0",")","aS","=","clamp","(","u_batch_debug_main_render_time",",","0.0",",","u_debug_render_time_threshold",")","/","u_debug_render_time_threshold",";","else","aS","=","1.0",";","float","aT","=","clamp","(","2.0","*","aS",",","0.0",",","1.0",")",";","float","aU","=","clamp","(","2.0","*","aS","-","1.0",",","0.0",",","1.0",")",";","float","aV","=","aS",";","aQ","=","mix","(","aJ",",","aK",",","vec3","(","aT",",","aU",",","aV",")",")",";","J","=","1.0",";","}"]}]}}]},{TYPE:"txt",TOKENS:["aW","(","aQ",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aX","(","aQ",",","J",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aQ",",","J",")",";","}"]}]},exports["debug_view.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_VIEW_SPECIAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_SPHERE",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn",";","GLSL_IN","float","a_polyindex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","aD",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"include",FILE:"dynamic_grass.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","if","(","a_polyindex","==","0.0",")","aD","=","vec3","(","1.0",",","0.0",",","0.0",")",";","else","if","(","a_polyindex","==","1.0",")","aD","=","vec3","(","0.0",",","0.0",",","1.0",")",";","else","aD","=","vec3","(","0.0",",","1.0",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_VIEW_SPECIAL_SKYDOME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["gl_Position","=","vec4","(","a_position",".","xy",",","0.9999999",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","Z","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Z","=","aY","(","u_model_tsr",",","Z",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","Z","=","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","N","=","u_view_tsr",";","vec3","O","=","a_position",";","vec4","S","=","R","(","a_tbn",")",";","vec3","U","=","T","(","S",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_SPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["au","aw","=","av","(","O",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","Z",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","mix","(","O",",","a_position_next",",","u_va_frame_factor",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","vec3","(","0.0",")",";","vec3","W","=","vec3","(","0.0",")",";","an","(","O",",","V",",","W",",","U",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","a_part_ts",".","xyz",";","O","=","ap","(","Z",",","O",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["au","aw","=","aZ","(","O",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","ao",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","N",",","Z",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aq","=","ap","(","Z",",","ao",")",";","Z","=","as","(","u_camera_eye",",","aq",",","N",",","Z",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","a_","=","aq",";","Z","=","at","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","a_",",","Z",")",";"]}]}}]},{TYPE:"txt",TOKENS:["au","aw","=","av","(","O","-","ao",",","ao",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","Z",")",";","aw",".","ao","=","aq",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["au","aw","=","av","(","O",",","ao",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","Z",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ax","(","aw",".","O",",","aw",".","ao",",","U",",","mat4","(","0.0",")",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","u_proj_matrix","*","vec4","(","ap","(","N",",","aw",".","O",")",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["error.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","0.0",",","1.0",",","1.0",")",";","}"]}]},exports["error.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","void","main","(",")","{","gl_Position","=","u_proj_matrix","*","bc","(","u_view_tsr",")","*","vec4","(","a_position",",","1.0",")",";","}"]}]},exports["grass_map.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_SIZE",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_COLOR",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","bd",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","bd",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bd",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","bd",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","bd",",","vec3","(","1.0",")",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","bd",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["grass_map.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_SIZE",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_grass_size",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_grass_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","bd",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","bd",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bd",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","float","u_time",";","uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","N","=","u_view_tsr",";","mat3","Z","=","u_model_tsr",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aq","=","ap","(","Z",",","vec3","(","0.0",")",")",";","Z","=","as","(","u_camera_eye",",","aq",",","N",",","u_model_tsr",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Z","=","at","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","vec3","(","0.0",")",",","Z",")",";"]}]}}]},{TYPE:"txt",TOKENS:["au","aw","=","av","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","Z",")",";","aw",".","ao","=","aq",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["au","aw","=","av","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","Z",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","f","=","u_proj_matrix","*","vec4","(","ap","(","N",",","aw",".","O",")",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_SIZE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bd","=","vec4","(","a_grass_size",",","a_grass_color",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bd","=","a_grass_size",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bd","=","a_grass_color",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","f",";","}"]}]},exports["halo.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec3","u_halo_rings_color",";","uniform","vec3","u_halo_lines_color",";","uniform","float","u_halo_hardness",";","uniform","float","u_halo_size",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_halo_stars_blend",";","uniform","float","u_halo_stars_height",";","uniform","float","u_cam_water_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS","WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","be",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";","GLSL_IN","float","bf",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"halo_color.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec4","bi","=","bh","(",")",";","vec3","aQ","=","bi",".","rgb",";","float","aM","=","bi",".","a",";","aW","(","aQ",")",";","aX","(","aQ",",","aM",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aQ",",","aM",")",";","}"]}]},exports["halo.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","PRECISION","float","u_halo_size",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec2","a_halo_bb_vertex",";","GLSL_IN","float","a_random_vals",";","GLSL_OUT","vec2","A",";","GLSL_OUT","float","bf",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","be",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","N","=","u_view_tsr",";","mat3","Z","=","u_model_tsr",";","vec3","O","=","ap","(","Z",",","a_position",")",";","A","=","a_halo_bb_vertex","*","2.0","-","1.0",";","bf","=","a_random_vals",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","bk","=","bj","(","O",",","N",")",";","mat3","bl","=","N",";","bl","[","0","]","[","0","]","=","0.0",";","bl","[","0","]","[","1","]","=","0.0",";","bl","[","0","]","[","2","]","=","0.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","bk","=","bj","(","O",",","N",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec2","bm","=","(","a_halo_bb_vertex","*","2.0","-","1.0",")","*","u_halo_size",";","vec3","bn","=","vec3","(","bm","[","0","]",",","0.0",",","bm","[","1","]",")",";","vec3","bo","=","ap","(","bk",",","bn",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","f","=","u_proj_matrix","*","vec4","(","ap","(","bl",",","bo",")",",","1.0",")",";","f",".","z","=","0.99999","*","f",".","w",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["be","=","vec4","(","bo",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","f","=","u_proj_matrix","*","vec4","(","ap","(","N",",","bo",")",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","f",";","}"]}]},exports["lens_flares.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","aQ","=","GLSL_TEXTURE","(","u_sampler",",","A",")",";","aW","(","aQ",".","rgb",")",";","aX","(","aQ",".","rgb",",","aQ",".","a",")",";","GLSL_OUT_FRAG_COLOR","=","aQ",";","}"]}]},exports["lens_flares.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"define",NAME:"LIGHT_INDEX",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","GLSL_IN","float","a_lf_dist",";","GLSL_IN","vec2","a_lf_bb_vertex",";","GLSL_IN","vec2","a_texcoord",";","GLSL_OUT","vec2","A",";","void","main","(",")","{","A","=","a_texcoord",";","vec3","bp","=","normalize","(","u_light_directions","[","LIGHT_INDEX","]",")",";","vec4","f","=","u_proj_matrix","*","vec4","(","_","(","u_view_tsr",",","bp",")",",","0.0",")",";","f",".","x","/=","f",".","w",";","f",".","y","/=","f",".","w",";","f","+=","99999.0","*","step","(","f",".","z",",","0.0",")",";","f","+=","100.0","*","(","step","(","1.0",",","abs","(","f",".","x",")",")","+","step","(","1.0",",","abs","(","f",".","y",")",")",")",";","f",".","x","=","a_lf_dist","*","f",".","x",";","f",".","y","=","a_lf_dist","*","f",".","y",";","float","bq","=","u_proj_matrix","[","1","]","[","1","]","/","u_proj_matrix","[","0","]","[","0","]",";","vec2","bs","=","vec2","(","a_lf_bb_vertex",".","x","/","bq",",","a_lf_bb_vertex",".","y",")",";","if","(","a_lf_dist","<","0.999",")","{","const","float","bt","=","1.9",";","bs","*=","(","1.0","+","bt","*","length","(","f",".","xy",")",")",";","}","gl_Position","=","vec4","(","f",".","xy","+","bs",",","0.999999",",","1.0",")",";","}"]}]},exports["line.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec3","aQ","=","u_diffuse_color",".","xyz",";","float","J","=","u_diffuse_color",".","a",";","aW","(","aQ",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aX","(","aQ",",","J",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aQ",",","J",")",";","}"]}]},exports["line.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec3","a_direction",";","uniform","mat3","u_model_tsr",";","uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","float","u_height",";","uniform","float","u_line_width",";","void","main","(",")","{","mat3","N","=","u_view_tsr",";","mat3","Z","=","u_model_tsr",";","au","aw","=","av","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","normalize","(","a_direction",")",",","Z",")",";","vec4","bu","=","u_proj_matrix","*","vec4","(","ap","(","N",",","aw",".","O",")",",","1.0",")",";","bu",".","xyz","/=","bu",".","w",";","vec4","bv","=","u_proj_matrix","*","vec4","(","ap","(","N",",","aw",".","O","+","aw",".","U",")",",","1.0",")",";","bv",".","xyz","/=","bv",".","w",";","float","bq","=","u_proj_matrix","[","1","]","[","1","]","/","u_proj_matrix","[","0","]","[","0","]",";","vec2","bw","=","(","bv","-","bu",")",".","xy",";","bw",".","x","*=","bq",";","float","bx","=","M_PI","/","2.0",";","mat2","by","=","mat2","(","cos","(","bx",")",",","sin","(","bx",")",",","-","sin","(","bx",")",",","cos","(","bx",")",")",";","bw","=","by","*","bw",";","bw","=","normalize","(","bw",")",";","vec2","bz","=","(","u_line_width","/","u_height",")","*","vec2","(","1.0","/","bq",",","1.0",")",";","gl_Position","=","vec4","(","bu",".","xy","+","bw",".","xy","*","bz","/","2.0",",","bu",".","z",",","1.0",")",";","gl_Position","*=","bu",".","w",";","}"]}]},exports["main.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"NORMAL_TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"PARALLAX",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"CAMERA_TYPE",TOKENS:["CAM_TYPE_PERSP"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"RGBA_SHADOWS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_BSDF_SKY_DIM",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"WETTABLE",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"SSAO_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"var",NAME:"USE_DERIVATIVES_EXT",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TEXTURE_LOD_EXT",TOKENS:["0"]},{TYPE:"var",NAME:"USE_LOD_SMOOTHING",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1","USE_DERIVATIVES_EXT",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1","USE_TEXTURE_LOD_EXT",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_EXT_shader_texture_lod",":","enable"]}]}}]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_LOD_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"coverage.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"caustics.glslf"}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["RGBA_SHADOWS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","vec2","u_texel_size",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1","USE_BSDF_SKY_DIM",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_bsdf_cube_sky_dim",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_sun_quaternion",";","uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_FRESNEL","USE_NODE_LAYER_WEIGHT",{TYPE:"logical_or_expr",PLACES:2},"CAMERA_TYPE","CAM_TYPE_ORTHO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_direction",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_VIEW_TSR",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_LOD_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_lod_coverage",";","uniform","float","u_lod_cmp_logic",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION","REFRACTIVE","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec2","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP","NUM_LAMP_LIGHTS",0,{TYPE:"non_equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_OBJECT_INFO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_obj_info",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";","GLSL_IN","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","B",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","u",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","v",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","m",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"nodes.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bA","=","length","(","i",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bB","=","h",".","z","-","WATER_LEVEL",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","C","=","normalize","(","u_camera_eye_frag","-","h",")",";","vec3","D",";","vec3","E",";","vec3","F",";","vec4","G",";","float","H",";","I","(","C",",","D",",","E",",","F",",","G",",","H",")",";","vec3","aQ","=","D",";","float","J","=","H",";","vec3","U","=","F",";","vec4","bC","=","G",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WETTABLE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aQ","=","max","(","aQ","-","sqrt","(","0.01","*","-","min","(","bB",",","0.0",")",")",",","0.5","*","aQ",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bD","(","aQ",",","bB",",","u_time",",","bC",",","U",",","u_sun_direction",",","u_sun_intensity",",","u_sun_quaternion",",","h",",","bA",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","J","<","0.5",")","discard",";","J","=","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","min","(","1.0",",","J",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_LOD_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","M","(","u_lod_coverage",",","u_lod_cmp_logic",")",")","discard",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bE","(","aQ",",","bA",",","C",",","bB",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bE","(","aQ",",","bA",",","C",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_ONLY","SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bF","=","GLSL_TEXTURE_PROJ","(","u_shadow_mask",",","l",")",".","a",";","aQ","=","vec3","(","bF",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","=","max","(","vec3","(","0.0",")",",","aQ",")",";","aW","(","aQ",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aX","(","aQ",",","J",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aQ",",","J",")",";","}"]}]},exports["main.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN",TOKENS:["0"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"PARALLAX",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"SMAA_JITTER",TOKENS:["0"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"MAC_OS_SHADOW_HACK",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM_MIX_NORMALS_FACTOR",TOKENS:["u_va_frame_factor"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO","USE_NODE_BSDF_BEGIN","USE_NODE_TEX_COORD_RE",{TYPE:"logical_or_expr",PLACES:9}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_next",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_color",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";","GLSL_OUT","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bG",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bH",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","u",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","v",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","m",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","B",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_view_refl_matrix",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_offset",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_v_light_tsr","[","NUM_CAST_LAMPS","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_v_light_ts","[","NUM_CAST_LAMPS","]",";","uniform","vec4","u_v_light_r","[","NUM_CAST_LAMPS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"include",FILE:"dynamic_grass.glslv"},{TYPE:"include",FILE:"shadow.glslv"},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","bI","=","u_view_refl_matrix",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","bI","=","mat4","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","N","=","u_view_tsr",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","Z","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Z","=","aY","(","u_model_tsr",",","Z",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","Z","=","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","O","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_TBN_SHADING","CALC_TBN",{TYPE:"logical_and_expr",PLACES:2},"USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_NO","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:14}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","P",",","Q",";","vec4","S","=","R","(","a_tbn",",","P",",","Q",")",";","vec3","bJ","=","T","(","S",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_NO","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:13}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","U","=","bJ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","U","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","T","(","S",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","W","=","Q","*","cross","(","U",",","V",")",";","vec4","Y","=","X","(","W",",","Q","*","P",")",";","V","=","T","(","Y",",","U",")",";"]}]}},{TYPE:"elif",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","bK","=","ap","(","Z",",","O",")",";","vec3","ac","=","normalize","(","_","(","Z",",","bJ",")",")",";","vec3","C","=","bK","-","u_camera_eye",";","vec3","W","=","cross","(","C",",","ac",")",";","vec3","V","=","cross","(","ac",",","W",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","vec3","(","0.0",")",";","vec3","W","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","normalize","(","_","(","Z",",","bJ",")",")",";","vec3","ad","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","ac",")",";","vec3","ae","=","cross","(","ac",",","ad",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ae","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ae","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","mix","(","O",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"USE_NODE_BSDF_BEGIN","USE_NODE_TEX_COORD_RE","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:10}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","af",",","ah",";","vec4","ai","=","R","(","a_tbn_next",",","af",",","ah",")",";","vec3","aj","=","T","(","ai",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_NORMAL_MAP","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_BSDF_BEGIN","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["U","=","mix","(","U",",","aj",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ak","=","T","(","ai",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","al","=","ah","*","cross","(","aj",",","ak",")",";","vec4","am","=","X","(","al",",","ah","*","af",")",";","ak","=","T","(","am",",","aj",")",";","V","=","mix","(","V",",","ak",",","u_va_frame_factor",")",";","W","=","mix","(","W",",","al",",","u_va_frame_factor",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["an","(","O",",","V",",","W",",","U",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","a_part_ts",".","xyz",";","O","=","ap","(","Z",",","O",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["au","aw","=","aZ","(","O",",","V",",","ae",",","W",",","U",",","ao",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","N",",","Z",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aq","=","ap","(","Z",",","ao",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","(","bI","*","vec4","(","O",",","1.0",")",")",".","xyz",";","ao","=","(","bI","*","vec4","(","ao",",","1.0",")",")",".","xyz",";","aq","=","(","bI","*","vec4","(","aq",",","1.0",")",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["Z","=","as","(","u_camera_eye",",","aq",",","N",",","Z",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","a_","=","aq",";","Z","=","at","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","a_",",","Z",")",";"]}]}}]},{TYPE:"txt",TOKENS:["au","aw","=","av","(","O","-","ao",",","ao",",","V",",","ae",",","W",",","U",",","Z",")",";","aw",".","ao","=","aq",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["au","aw","=","av","(","O",",","ao",",","V",",","ae",",","W",",","U",",","Z",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aA","=","(","dot","(","cross","(","aw",".","U",",","aw",".","V",")",",","aw",".","W",")","<","0.0",")","?","-","1.0",":","1.0",";","k","=","vec4","(","aw",".","V",",","aA",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["B","=","aw",".","aB",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ax","(","aw",".","O",",","aw",".","ao",",","U",",","bI",")",";"]}]}}]},{TYPE:"txt",TOKENS:["h","=","aw",".","O",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO","USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:13}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["j","=","aw",".","U",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bG","=","u_camera_eye","-","aw",".","O",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","az","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bH","=","aw",".","aQ",";"]}]}},{TYPE:"elif",EXPRESSION:["VERTEX_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bH","=","a_color",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bL","=","bI","*","vec4","(","aw",".","O",",","1.0",")",";","bL",".","xyz","=","ap","(","N",",","bL",".","xyz",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bL","=","vec4","(","ap","(","N",",","aw",".","O",")",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","bL",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","f","=","u_proj_matrix","*","bL",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f",".","xy","+=","u_subpixel_jitter","*","f",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","aC","(","f",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bM","(","aw",".","O",",","aw",".","U",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"USE_NODE_B4W_REFRACTION",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","-","bL",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["I","(",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","f",";","}"]}]},exports["main_stack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"TEXTURE_SPEC_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR0_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"TEXTURE_COLOR1_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"PARALLAX",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_PLANE"]},{TYPE:"var",NAME:"RGBA_SHADOWS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_SPEC",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_AS_SPEC",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_STENCIL_ALPHA_MASK",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_STENCIL_ALPHA_MASK_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"NORMAL_TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"DOUBLE_SIDED_LIGHTING",TOKENS:["0"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"WETTABLE",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"PARALLAX_LOD_DIST",TOKENS:["5.0"]},{TYPE:"var",NAME:"PARALLAX_STEPS",TOKENS:["5.0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"var",NAME:"SSAO_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"USE_LOD_SMOOTHING",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_LOD_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"coverage.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"caustics.glslf"}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["RGBA_SHADOWS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_sun_quaternion",";","uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_LOD_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_lod_coverage",";","uniform","float","u_lod_cmp_logic",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC","ALPHA_AS_SPEC",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_specmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_normalmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap1",";","uniform","sampler2D","u_stencil0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec2","u_fresnel_params",";","uniform","float","u_specular_alpha",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_reflect_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_diffuse_color_factor",";","uniform","float","u_alpha_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_specular_color_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_parallax_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_refr_bump",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";","GLSL_IN","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bG",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","B",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bH",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","u",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","v",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","m",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"shadow.glslf"}]}}]},{TYPE:"include",FILE:"mirror.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"lighting_nodes.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2},"SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"CAUSTICS","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:3},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bA","=","length","(","i",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bB","=","h",".","z","-","WATER_LEVEL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bN","=","A",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","bO","=","normalize","(","j",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing","==","false",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["bO","=","bO",";","else","bO","=","-","bO",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","W","=","cross","(","bO",",","k",".","xyz",")","*","k",".","w",";","mat3","bP","=","mat3","(","k",".","xyz",",","W",",","bO",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","N","=","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bQ","=","normalize","(","_","(","N",",","j",")",")",".","st",";","bQ","=","bQ","*","vec2","(","0.495",")","+","vec2","(","0.5",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"PARALLAX",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","bA","<","PARALLAX_LOD_DIST",")","{","float","bR","=","clamp","(","0.5","*","(","PARALLAX_LOD_DIST","-","bA",")",",","0.0",",","1.0",")",";","float","bS","=","u_parallax_scale","*","bR",";","vec3","bT","=","normalize","(","bG","*","bP",")",";","float","bU","=","1.0","/","PARALLAX_STEPS",";","vec2","bV","=","bT",".","xy","*","bS","/","(","PARALLAX_STEPS","*","bT",".","z",")",";","float","bW","=","1.0",";","float","bX",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bY","=","bQ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bY","=","bN",";"]}]}}]},{TYPE:"txt",TOKENS:["bX","=","GLSL_TEXTURE","(","u_normalmap0",",","bY",")",".","a",";","for","(","float","bZ","=","1.0",";","bZ","<=","PARALLAX_STEPS",";","bZ","++",")","{","if","(","bX","<","bW",")","{","bW","-=","bU",";","bY","-=","bV",";","bX","=","GLSL_TEXTURE","(","u_normalmap0",",","bY",")",".","a",";","}","}","vec2","b_","=","bY","+","bV",";","float","ca","=","GLSL_TEXTURE","(","u_normalmap0",",","b_",")",".","a","-","(","bW","+","bU",")",";","float","cb","=","bX","-","bW",";","float","cc","=","cb","/","(","cb","-","ca",")",";","bY","=","cc","*","b_","+","(","1.0","-","cc",")","*","bY",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bN","+=","bY","-","bQ",";"]}]}}]},{TYPE:"txt",TOKENS:["bQ","=","bY",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bQ","+=","bY","-","bN",";"]}]}}]},{TYPE:"txt",TOKENS:["bN","=","bY",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cd",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cd","=","GLSL_TEXTURE","(","u_normalmap0",",","bQ",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cd","=","GLSL_TEXTURE","(","u_normalmap0",",","bN",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","ce","=","cd",".","rgb","-","0.5",";","ce","=","mix","(","vec3","(","0.0",",","0.0",",","1.0",")",",","ce",",","u_normal_factor",")",";","vec3","U","=","bP","*","ce",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","U","=","bO",";"]}]}}]},{TYPE:"txt",TOKENS:["U","=","normalize","(","U",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bQ","=","normalize","(","_","(","N",",","U",")",")",".","st",";","bQ","=","bQ","*","vec2","(","0.495",")","+","vec2","(","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","C","=","normalize","(","bG",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cf","=","bH",";","cg","(","cf",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_COLOR","DYNAMIC_GRASS",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ch","=","vec4","(","cf",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ch","=","u_diffuse_color",";"]}]}}]},{TYPE:"txt",TOKENS:["float","ci","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cj","=","GLSL_TEXTURE","(","u_colormap0",",","bQ",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cj","=","GLSL_TEXTURE","(","u_colormap0",",","bN",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR0_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cg","(","cj",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ck",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR1_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ck","=","GLSL_TEXTURE","(","u_colormap1",",","bQ",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ck","=","GLSL_TEXTURE","(","u_colormap1",",","bN",")",";"]}]}}]},{TYPE:"txt",TOKENS:["cg","(","ck",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_STENCIL_ALPHA_MASK_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cl","=","GLSL_TEXTURE","(","u_stencil0",",","bQ",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cl","=","GLSL_TEXTURE","(","u_stencil0",",","bN",")",";"]}]}}]},{TYPE:"txt",TOKENS:["cj","=","mix","(","cj",",","ck",",","cl",".","r",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ch",".","rgb","=","mix","(","ch",".","rgb",",","cj",".","rgb",",","u_diffuse_color_factor",")",";","float","L","=","u_alpha_factor","*","cj",".","a",";","L","+=","(","1.0","-","step","(","0.0",",","L",")",")",";","ch",".","a","=","mix","(","L",",","1.0",",","u_diffuse_color",".","a",")",";","ci","=","cj",".","a",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ch",".","rgb","*=","mix","(","vec3","(","1.0",")",",","cj",".","rgb",",","u_diffuse_color_factor",")",";","ch",".","a","=","cj",".","a",";","ci","=","cj",".","a",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aQ","=","ch",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cm","=","u_diffuse_intensity","*","ch",".","rgb",";","vec3","co","=","u_environment_energy","*","cn","(","U",")",";","vec3","cp","=","u_ambient","*","co",";","vec4","bC","=","cq","(","cm",")",";","vec3","cr","=","u_emit","*","ch",".","rgb",";","vec3","cs","=","u_specular_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_AS_SPEC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ct","=","vec3","(","ci",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_SPEC_CO","TEXTURE_COORDS_NORMAL",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ct","=","GLSL_TEXTURE","(","u_specmap0",",","bQ",")",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ct","=","GLSL_TEXTURE","(","u_specmap0",",","bN",")",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["cg","(","ct",".","rgb",")",";","cs","=","mix","(","cs",",","ct",",","u_specular_color_factor",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","cu","=","u_specular_params","[","0","]",";","vec2","cv","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","cw","=","cu","*","cs",";","vec3","aQ",";","vec3","cx",";","cy","(","cr",",","cp",",","cm",",","cw",",","h",",","U",",","C",",","cv",",","u_diffuse_params",",","bC",",","0.0",",","vec4","(","0.0",")",",","aQ",",","cx",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cz","(","aQ",",","C",",","U",",","u_reflect_factor",",","N",")",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cz","(","aQ",",","C",",","U",",","u_reflect_factor",",","mat3","(","0.0",")",")",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cz","(","aQ",",","C",",","U",",","u_mirror_factor",",","mat3","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aQ","+=","cx",";"]}]}}]},{TYPE:"txt",TOKENS:["float","J","=","ch",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WETTABLE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aQ","=","max","(","aQ","-","sqrt","(","0.01","*","-","min","(","bB",",","0.0",")",")",",","0.5","*","aQ",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAUSTICS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bD","(","aQ",",","bB",",","u_time",",","bC",",","U",",","u_sun_direction",",","u_sun_intensity",",","u_sun_quaternion",",","h",",","bA",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","J","<","0.5",")","discard",";","J","=","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","cx",".","r",",","cx",".","g",")",",","cx",".","b",")","*","u_specular_alpha",";","J","=","ch",".","a","*","(","1.0","-","t",")","+","t",";"]}]}}]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_LOD_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","M","(","u_lod_coverage",",","u_lod_cmp_logic",")",")","discard",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","cA","=","-","(","_","(","N",",","U",")",")",".","xy",";","aQ","=","mix","(","cB","(","l",",","cA","*","u_refr_bump",")",",","aQ",",","J",")",";","J","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bE","(","aQ",",","bA",",","C",",","bB",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bE","(","aQ",",","bA",",","C",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_ONLY","SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bF","=","GLSL_TEXTURE_PROJ","(","u_shadow_mask",",","l",")",".","a",";","aQ","=","vec3","(","bF",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aW","(","aQ",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aX","(","aQ",",","J",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aQ",",","J",")",";","}"]}]},exports["node_skybox.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"USE_VIEW_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_TSR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","cC",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"nodes.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_ENVIRONMENT_EQUIRECTANGULAR","USE_NODE_TEXTURE_ENVIRONMENT_MIRROR_BALL","USE_NODE_GEOMETRY_NO","USE_NODE_GEOMETRY_GL","USE_NODE_GEOMETRY_IN","USE_NODE_TEX_COORD_GE","USE_NODE_TEX_COORD_OB","USE_NODE_TEX_COORD_NO","USE_NODE_B4W_REFLECT_WORLD",{TYPE:"logical_or_expr",PLACES:9}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","C","=","-","normalize","(","cC",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","C",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","D",";","vec3","E",";","vec3","F",";","vec4","G",";","float","H",";","I","(","C",",","D",",","E",",","F",",","G",",","H",")",";","D","=","max","(","vec3","(","0.0",")",",","D",")",";","aW","(","D",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","D",",","_1_0",")",";","}"]}]},exports["particle_system.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"NORMAL_TEXCOORD",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_STRENGTH",TOKENS:["0.25"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"CAMERA_TYPE",TOKENS:["CAM_TYPE_PERSP"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"USE_DERIVATIVES_EXT",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TEXTURE_LOD_EXT",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1","USE_DERIVATIVES_EXT",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1","USE_TEXTURE_LOD_EXT",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_EXT_shader_texture_lod",":","enable"]}]}}]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","NODES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","float","u_time",";","uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_FRESNEL","USE_NODE_LAYER_WEIGHT",{TYPE:"logical_or_expr",PLACES:2},"CAMERA_TYPE","CAM_TYPE_ORTHO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_direction",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NORMAL_TEXCOORD","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_VIEW_TSR",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";","uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_OBJECT_INFO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_obj_info",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:7}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","i",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","j",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"particles_nodes.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec3","C","=","normalize","(","u_camera_eye_frag","-","h",")",";","vec3","D",";","vec3","E",";","vec3","F",";","vec4","G",";","float","H",";","I","(","C",",","D",",","E",",","F",",","G",",","H",")",";","vec3","aQ","=","D",";","float","J","=","H",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","J","<","0.5",")","discard",";","J","=","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","min","(","1.0",",","J",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bE","(","aQ",",","length","(","i",")",",","C",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cD","=","-","i",".","z","/","u_view_max_depth",";","vec4","cE","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","l",")",";","float","cG","=","cF","(","cE",")",";","float","cH","=","cG","-","cD",";","float","cI","=","u_view_max_depth","/","SOFT_STRENGTH","*","cH",";","J","=","J","*","min","(","cI",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aW","(","aQ",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aX","(","aQ",",","J",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aQ",",","J",")",";","}"]}]},exports["particle_system.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"BILLBOARD_ALIGN",TOKENS:["BILLBOARD_ALIGN_VIEW"]},{TYPE:"var",NAME:"TEXTURE_NORM_CO",TOKENS:["TEXTURE_COORDS_NONE"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"HALO_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"PARTICLES_SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"COLOR_RAMP_LENGTH",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"WORLD_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_COLOR_RAMP",TOKENS:["0"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn",";","GLSL_IN","vec3","a_p_data",";","GLSL_IN","vec4","a_p_vels",";","GLSL_IN","vec2","a_p_bb_vertex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","cJ",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bH",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","k",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","HALO_PARTICLES","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bG",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","bf",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_p_color_ramp","[","COLOR_RAMP_LENGTH","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_p_time",";","uniform","float","u_p_length",";","uniform","int","u_p_cyclic",";","uniform","float","u_p_fade_in",";","uniform","float","u_p_fade_out",";","uniform","float","u_p_nfactor",";","uniform","float","u_p_gravity",";","uniform","float","u_p_mass",";","uniform","float","u_p_wind_fac",";","uniform","float","u_p_max_lifetime",";","uniform","float","u_p_tilt",";","uniform","float","u_p_tilt_rand",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_view_refl_matrix",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_wind",";","uniform","float","u_p_size",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WORLD_SPACE",{TYPE:"logic_negative_expr",PLACES:1},"NODES","HALO_PARTICLES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_COLOR_RAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color_ramp_tex",";"]}]}}]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"particles.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"particles_nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["float","cM","(","vec2","cK",",","vec2","cL",")","{","return","(","atan","(","cL",".","y",",","cL",".","x",")","-","atan","(","cK",".","y",",","cK",".","x",")",")",";","}","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","bI","=","u_view_refl_matrix",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","bI","=","mat4","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["mat3","N","=","u_view_tsr",";","cN","pp",";","pp","=","cO","(",")",";","float","cP",";","mat3","bk","=","cQ","(",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cR","=","(","bI","*","vec4","(","pp",".","O",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cR","=","pp",".","O",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","U","=","vec3","(","0.0",",","-","1.0",",","0.0",")",";","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_VIEW",")","{","cP","=","pp",".","bx",";","bk","=","bj","(","cR",",","N",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_XY",")","{","cP","=","cM","(","vec2","(","EPSILON",",","1.0",")",",","vec2","(","U",".","x",",","-","U",".","y",")",")","+","pp",".","bx",";","bk","[","0","]","=","cR",";","vec4","cS","=","X","(","RIGHT_VECTOR",",","-","M_PI","/","2.0",")",";","bk","=","cT","(","cS",",","bk",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_YZ",")","{","cP","=","pp",".","bx",";","bk","[","0","]","=","cR",";","vec4","cU","=","X","(","UP_VECTOR",",","M_PI","/","2.0",")",";","bk","=","cT","(","cU",",","bk",")",";","}","else","if","(","BILLBOARD_ALIGN","==","BILLBOARD_ALIGN_ZX",")","{","cP","=","pp",".","bx",";","bk","[","0","]","=","cR",";","}","vec3","bn","=","vec3","(","(","a_p_bb_vertex","[","0","]","*","2.0","-","1.0",")","*","pp",".","cV","*","u_p_size",",","0.0",",","(","a_p_bb_vertex","[","1","]","*","2.0","-","1.0",")","*","pp",".","cV","*","u_p_size",")",";","float","cW","=","a_p_data","[","2","]",";","float","cX","=","u_p_tilt","*","u_p_tilt_rand","*","(","2.0","*","cW","-","1.0",")",";","float","cY","=","(","cX","+","u_p_tilt",")","*","M_PI",";","vec4","cZ","=","X","(","TOWARD_VECTOR",",","cY","+","cP",")",";","vec3","bo","=","ap","(","bk",",","T","(","cZ",",","bn",")",")",";","vec4","bL","=","vec4","(","ap","(","N",",","bo",")",",","1.0",")",";","vec4","f","=","u_proj_matrix","*","bL",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bf","=","cW",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","c_","=","cQ","(",")",";","cZ","=","X","(","TOWARD_VECTOR",",","cP",")",";","c_","=","cT","(","cZ",",","c_",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE","NODES",{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_NORM_CO","TEXTURE_COORDS_UV_ORCO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},"USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","vec3","(","1.0",",","0.0",",","0.0",")",";","vec3","W","=","vec3","(","0.0",",","0.0",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","vec3","(","0.0",")",";","vec3","W","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["au","aw","=","av","(","vec3","(","0.0",")",",","vec3","(","0.0",")",",","V",",","vec3","(","0.0",")",",","W",",","U",",","aY","(","bk",",","c_",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_NORM_CO","TEXTURE_COORDS_NONE",{TYPE:"non_equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_TBN_SHADING",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aA","=","(","dot","(","cross","(","aw",".","U",",","aw",".","V",")",",","aw",".","W",")","<","0.0",")","?","-","1.0",":","1.0",";","k","=","vec4","(","aw",".","V",",","aA",")",";"]}]}}]},{TYPE:"txt",TOKENS:["I","(","pp",".","O",",","pp",".","da",",","pp",".","db",",","pp",".","dc",",","pp",".","cV",",","a_p_bb_vertex",",","a_p_data","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["au","aw","=","av","(","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","U",",","aY","(","bk",",","c_",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","a_p_bb_vertex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","a_p_bb_vertex","*","2.0","-","1.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cJ","=","pp",".","J",";"]}]}}]},{TYPE:"txt",TOKENS:["bH","=","pp",".","aQ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1},"PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},"USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO","USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT",{TYPE:"logical_or_expr",PLACES:11}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["j","=","aw",".","U",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","aC","(","f",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","bL",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","f",";","h","=","bo",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bG","=","u_camera_eye","-","bo",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["particle_system_stack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_STRENGTH",TOKENS:["0.25"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"HALO_PARTICLES",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"PARTICLES_SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","NODES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_diffuse_color_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";","uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_halo_size",";","uniform","vec3","u_halo_rings_color",";","uniform","float","u_halo_hardness",";","uniform","vec3","u_halo_lines_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";","uniform","float","u_halo_stars_blend",";","uniform","float","u_halo_stars_height",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_p_alpha_start",";","uniform","float","u_p_alpha_end",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";","uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR","HALO_PARTICLES","USE_NODE_TEX_COORD_UV","USE_NODE_UV_MERGED","USE_NODE_UVMAP","USE_NODE_GEOMETRY_UV","USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:8}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","cJ",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bH",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bG",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"NODES",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","bf",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","be",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","B",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","j",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"lighting_nodes.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"environment.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"halo_color.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","C","=","normalize","(","bG",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HALO_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","bi","=","bh","(",")",";","vec3","aQ","=","bi",".","rgb","*","bH",";","float","dd","=","0.9","*","length","(","A",")",";","float","de","=","smoothstep","(","u_p_alpha_start",",","u_p_alpha_end",",","dd",")",";","float","J","=","bi",".","a","*","(","1.0","-","de",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ch","=","u_diffuse_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cj","=","GLSL_TEXTURE","(","u_sampler",",","A",")",";","cg","(","cj",".","rgb",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ch",".","rgb","=","mix","(","ch",".","rgb",",","cj",".","rgb",",","u_diffuse_color_factor",")",";"]}]}},{TYPE:"elif",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ch",".","rgb","*=","mix","(","vec3","(","1.0",")",",","cj",".","rgb",",","u_diffuse_color_factor",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ch",".","a","=","cj",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["ch",".","rgb","*=","bH",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PARTICLES_SHADELESS",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","cm","=","u_diffuse_intensity","*","ch",".","rgb",";","vec3","cr","=","u_emit","*","ch",".","rgb",";","vec3","U","=","normalize","(","j",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logic_negative_expr",PLACES:1},"SKY_COLOR",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","co","=","u_environment_energy","*","cn","(","vec3","(","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","co","=","u_environment_energy","*","cn","(","U",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","cp","=","u_ambient","*","co",";","float","cu","=","u_specular_params","[","0","]",";","vec2","cv","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","cw","=","cu","*","u_specular_color",";","vec3","aQ",";","vec3","cx",";","cy","(","cr",",","cp",",","cm",",","cw",",","h",",","U",",","C",",","cv",",","u_diffuse_params",",","vec4","(","1.0",")",",","0.0",",","vec4","(","0.0",")",",","aQ",",","cx",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aQ","=","ch",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["float","J","=","ch",".","a","*","cJ",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA_CLIP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","J","<","0.5",")","discard",";","J","=","1.0",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bE","(","aQ",",","length","(","i",")",",","C",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cD","=","-","i",".","z","/","u_view_max_depth",";","vec4","cE","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","l",")",";","float","cG","=","cF","(","cE",")",";","float","cH","=","cG","-","cD",";","float","cI","=","u_view_max_depth","/","SOFT_STRENGTH","*","cH",";","J","=","J","*","min","(","cI",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aW","(","aQ",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA","ALPHA_CLIP",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aX","(","aQ",",","J",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aQ",",","J",")",";","}"]}]},exports["proc_skybox.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","vec3","u_sky_color",";","uniform","vec3","u_sun_direction",";","uniform","float","u_rayleigh_brightness",";","uniform","float","u_mie_brightness",";","uniform","float","u_spot_brightness",";","uniform","float","u_scatter_strength",";","uniform","float","u_rayleigh_strength",";","uniform","float","u_mie_strength",";","uniform","float","u_rayleigh_collection_power",";","uniform","float","u_mie_collection_power",";","uniform","float","u_mie_distribution",";","GLSL_IN","vec3","cC",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","const","float","df","=","0.99",";","const","float","dg","=","1.8",";","const","int","dh","=","8",";","float","dm","(","vec3","O",",","vec3","bp",")","{","float","a","=","dot","(","bp",",","bp",")",";","float","b","=","2.0","*","dot","(","bp",",","O",")",";","float","di","=","dot","(","O",",","O",")","-","1.0",";","float","dj","=","b","*","b","-","4.0","*","a","*","di",";","float","dk","=","sqrt","(","dj",")",";","float","q","=","(","-","b","-","dk",")","/","2.0",";","float","dl","=","di","/","q",";","return","dl",";","}","float","dp","(","float","J",",","float","g",")","{","float","a","=","3.0","*","(","1.0","-","g","*","g",")",";","float","b","=","2.0","*","(","2.0","+","g","*","g",")",";","float","di","=","1.0","+","J","*","J",";","float","dn","=","pow","(","1.0","+","g","*","g","-","2.0","*","g","*","J",",","1.5",")",";","dn","=","max","(","dn",",","0.00001",")",";","return","(","a","/","b",")","*","(","di","/","dn",")",";","}","float","du","(","vec3","O",",","vec3","bp",",","float","dq",")","{","float","dr","=","dot","(","bp",",","-","O",")",";","if","(","dr","<","0.0",")","{","return","1.0",";","}","vec3","ds","=","O","+","dr","*","bp",";","if","(","length","(","ds",")","<","dq",")","{","return","0.0",";","}","else","if","(","length","(","ds",")",">=","dq",")","{","vec3","cL","=","normalize","(","ds",")","*","dq","-","O",";","float","dt","=","acos","(","dot","(","normalize","(","cL",")",",","bp",")",")",";","return","smoothstep","(","0.0",",","1.0",",","pow","(","dt","*","2.0",",","3.0",")",")",";","}","else","return","1.0",";","}","vec3","dv","(","float","aM",",","vec3","aQ",",","float","aL",")","{","return","aQ","-","aQ","*","pow","(","u_sky_color",",","vec3","(","aL","/","aM",")",")",";","}","void","main","(",")","{","vec3","dw","=","normalize","(","cC",")",";","vec3","dx","=","u_sun_direction",";","float","J","=","dot","(","dw",",","dx",")",";","float","dy","=","dp","(","J",",","-","0.01",")","*","u_rayleigh_brightness","*","dx",".","z",";","float","dz","=","dp","(","J","-","0.5",",","u_mie_distribution",")","*","u_mie_brightness","*","(","1.0","-","dx",".","z",")",";","float","dA","=","smoothstep","(","0.0",",","100.0",",","dp","(","J",",","0.9995",")",")","*","u_spot_brightness",";","vec3","dB","=","vec3","(","0.0",",","0.0",",","df",")",";","float","dC","=","dm","(","dB",",","dw",")",";","float","dD","=","dC","/","float","(","dh",")",";","float","dE","=","du","(","dB",",","dw",",","df","-","0.3",")",";","vec3","dF","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","dG","=","vec3","(","0.0",",","0.0",",","0.0",")",";","for","(","int","bZ","=","0",";","bZ","<","dh",";","bZ","++",")","{","float","dH","=","dD","*","float","(","bZ",")",";","vec3","O","=","dB","+","dw","*","dH",";","float","dI","=","du","(","O",",","dx",",","df","-","0.2",")",";","float","dJ","=","dm","(","O",",","dx",")",";","vec3","dK","=","dv","(","dJ",",","vec3","(","dg",")",",","u_scatter_strength",")","*","dI",";","dF","+=","dv","(","sqrt","(","dH",")",",","u_sky_color","*","dK",",","u_rayleigh_strength",")",";","dG","+=","dv","(","dH",",","dK",",","u_mie_strength",")",";","}","dF","=","dF","*","dE","*","pow","(","dC",",","u_rayleigh_collection_power",")","/","float","(","dh",")",";","dG","=","(","dG","*","dE","*","pow","(","dC",",","u_mie_collection_power",")",")","/","float","(","dh",")",";","vec3","aQ","=","vec3","(","dA","*","dG","+","dz","*","dG","+","dy","*","dF",")",";","aW","(","aQ",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aQ",",","1.0",")",";","}"]}]},exports["shadow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"SHADELESS",TOKENS:["0"]},{TYPE:"var",NAME:"RGBA_SHADOWS",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR_INVERSE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_VIEW_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_MODEL_TSR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"CAMERA_TYPE",TOKENS:["CAM_TYPE_PERSP"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LAMP_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_BLEND_TYPE",TOKENS:["TEXTURE_BLEND_TYPE_MIX"]},{TYPE:"var",NAME:"NUM_VALUES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_RGBS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"var",NAME:"USE_DERIVATIVES_EXT",TOKENS:["0"]},{TYPE:"var",NAME:"CAMERA_TYPE",TOKENS:["CAM_TYPE_PERSP"]},{TYPE:"var",NAME:"USE_LOD_SMOOTHING",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1","USE_DERIVATIVES_EXT",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["RGBA_SHADOWS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_LOD_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"coverage.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_FRESNEL","USE_NODE_LAYER_WEIGHT",{TYPE:"logical_or_expr",PLACES:2},"CAMERA_TYPE","CAM_TYPE_ORTHO",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_direction",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_VIEW_TSR",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_frag",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_VIEW_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_MODEL_TSR_INVERSE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr_inverse",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_cube_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_emit",";","uniform","float","u_ambient",";","uniform","vec2","u_fresnel_params",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_refl_plane",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_LAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_lamp_light_positions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_directions","[","NUM_LAMP_LIGHTS","]",";","uniform","vec3","u_lamp_light_color_intensities","[","NUM_LAMP_LIGHTS","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_VALUE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_node_values","[","NUM_VALUES","]",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_RGB"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_node_rgbs","[","NUM_RGBS","]",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_colormap0",";","uniform","float","u_alpha_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_pcf_blur_radii",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_csm_center_dists",";","uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","GLSL_SMPLR2D_SHDW","u_shadow_map3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shadow_mask",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_CURVE_VEC","USE_NODE_CURVE_RGB","USE_NODE_VALTORGB",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_nodes_texture",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_OBJECT_INFO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_obj_info",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["RGBA_SHADOWS","SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_camera_range",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_LOD_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_lod_coverage",";","uniform","float","u_lod_cmp_logic",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","h",";","GLSL_IN","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","k",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},"RGBA_SHADOWS",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","u",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","v",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","B",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADELESS",{TYPE:"logic_negative_expr",PLACES:1},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"shadow.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","C","=","normalize","(","u_camera_eye_frag","-","h",")",";","vec3","D",";","vec3","E",";","vec3","F",";","vec4","G",";","float","H",";","I","(","C",",","D",",","E",",","F",",","G",",","H",")",";","float","J","=","H",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","(","GLSL_TEXTURE","(","u_colormap0",",","A",")",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_BLEND_TYPE","TEXTURE_BLEND_TYPE_MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","L","=","u_alpha_factor","*","J",";","L","+=","(","1.0","-","step","(","0.0",",","L",")",")",";","J","=","mix","(","L",",","1.0",",","u_diffuse_color",".","a",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","u_diffuse_color",".","a",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["if","(","J","<","0.5",")","discard",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","NO_SHADOWS",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_LOD_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","M","(","u_lod_coverage",",","u_lod_cmp_logic",")",")","discard",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["RGBA_SHADOWS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","dM","=","dL","(","-","i",".","z",",","u_camera_range",")",";","GLSL_OUT_FRAG_COLOR","=","dN","(","dM",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",")",";"]}]}}]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","dO","(","i",".","z",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR",".","a","*=","clamp","(","k",".","r",",","0.999999999",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["shadow.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN",TOKENS:["0"]},{TYPE:"var",NAME:"USE_INSTANCED_PARTCLS",TOKENS:["0"]},{TYPE:"var",NAME:"NODES",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"SMAA_JITTER",TOKENS:["0"]},{TYPE:"var",NAME:"MAC_OS_SHADOW_HACK",TOKENS:["0"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"RGBA_SHADOWS",TOKENS:["0"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"AU_QUALIFIER",TOKENS:["GLSL_IN"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"HAIR_BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_TEX_RES",TOKENS:["2048.0"]},{TYPE:"var",NAME:"VERTEX_ANIM",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"TEXTURE_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"VERTEX_ANIM_MIX_NORMALS_FACTOR",TOKENS:["u_va_frame_factor"]},{TYPE:"var",NAME:"MAX_BONES",TOKENS:["0"]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"scale_texcoord.glslv"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";","GLSL_IN","vec4","a_tbn",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_part_ts",";","GLSL_IN","vec4","a_part_r",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_shade_tangs",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_influence",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["AU_QUALIFIER","vec3","au_center_pos",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_bending_col_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_bending_col_detail",";","AU_QUALIFIER","float","au_detail_bending_amp",";","AU_QUALIFIER","float","au_branch_bending_amp",";","AU_QUALIFIER","float","au_detail_bending_freq",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["AU_QUALIFIER","float","au_wind_bending_amp",";","AU_QUALIFIER","float","au_wind_bending_freq",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_emitter_center",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position_next",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn_next",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","h",";","GLSL_OUT","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","k",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},"RGBA_SHADOWS",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","i",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","n",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","o",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","u",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","v",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","m",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","B",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","mat3","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_subpixel_jitter",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD","SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_shadow_cast_billboard_view_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_grass_map_depth",";","uniform","sampler2D","u_grass_map_color",";","uniform","vec4","u_camera_quat",";","uniform","vec3","u_grass_map_dim",";","uniform","float","u_grass_size",";","uniform","float","u_scale_threshold",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsb","[","MAX_BONES","]",";","uniform","vec4","u_transb","[","MAX_BONES","]",";","uniform","vec4","u_arm_rel_trans",";","uniform","vec4","u_arm_rel_quat",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_quatsa","[","MAX_BONES","]",";","uniform","vec4","u_transa","[","MAX_BONES","]",";","uniform","float","u_frame_factor",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_jitter_amp",";","uniform","float","u_jitter_freq",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_wind",";","uniform","PRECISION","float","u_time",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_va_frame_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logic_negative_expr",PLACES:1},"TEXTURE_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_texture_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_normal_offset",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_v_light_tsr","[","NUM_CAST_LAMPS","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_v_light_ts","[","NUM_CAST_LAMPS","]",";","uniform","vec4","u_v_light_r","[","NUM_CAST_LAMPS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_p_light_matrix3",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"include",FILE:"dynamic_grass.glslv"},{TYPE:"include",FILE:"shadow.glslv"},{TYPE:"include",FILE:"skin.glslv"},{TYPE:"include",FILE:"wind_bending.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"nodes.glslv"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","mat3","N","=","u_view_tsr",";","vec3","O","=","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"CALC_TBN_SPACE","USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_NO","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:13}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","P",",","Q",";","vec4","S","=","R","(","a_tbn",",","P",",","Q",")",";","vec3","bJ","=","T","(","S",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","vec3","U","=","bJ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","U","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA","CALC_TBN_SPACE",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","T","(","S",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","W","=","Q","*","cross","(","U",",","V",")",";","vec4","Y","=","X","(","W",",","Q","*","P",")",";","V","=","T","(","Y",",","U",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","vec3","(","0.0",")",";","vec3","W","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["VERTEX_ANIM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","mix","(","O",",","a_position_next",",","u_va_frame_factor",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","af",",","ah",";","vec4","ai","=","R","(","a_tbn_next",",","af",",","ah",")",";","vec3","aj","=","T","(","ai",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","U","=","mix","(","U",",","aj",",","VERTEX_ANIM_MIX_NORMALS_FACTOR",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ak","=","T","(","ai",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";","vec3","al","=","ah","*","cross","(","aj",",","ak",")",";","vec4","am","=","X","(","al",",","ah","*","af",")",";","ak","=","T","(","am",",","aj",")",";","V","=","mix","(","V",",","ak",",","u_va_frame_factor",")",";","W","=","mix","(","W",",","al",",","u_va_frame_factor",")",";"]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["an","(","O",",","V",",","W",",","U",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_INSTANCED_PARTCLS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","Z","=","mat3","(","a_part_ts","[","0","]",",","a_part_ts","[","1","]",",","a_part_ts","[","2","]",",","a_part_ts","[","3","]",",","a_part_r","[","0","]",",","a_part_r","[","1","]",",","a_part_r","[","2","]",",","a_part_r","[","3","]",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Z","=","aY","(","u_model_tsr",",","Z",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","Z","=","u_model_tsr",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","DYNAMIC_GRASS","BILLBOARD",{TYPE:"logical_or_expr",PLACES:3},"USE_INSTANCED_PARTCLS",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","au_center_pos",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC_GRASS","USE_INSTANCED_PARTCLS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","a_part_ts",".","xyz",";","O","=","ap","(","Z",",","O",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ao","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ac","=","normalize","(","_","(","Z",",","bJ",")",")",";","vec3","ad","=","cross","(","vec3","(","0.0",",","0.0",",","1.0",")",",","ac",")",";","vec3","ae","=","cross","(","ac",",","ad",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ae","=","a_shade_tangs",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ae","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["au","aw","=","aZ","(","O",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","U",",","ao",",","u_grass_map_depth",",","u_grass_map_color",",","u_grass_map_dim",",","u_grass_size",",","u_camera_eye",",","u_camera_quat",",","N",",","Z",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aq","=","ap","(","Z",",","ao",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["HAIR_BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","dP","=","u_shadow_cast_billboard_view_tsr",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","dP","=","N",";"]}]}}]},{TYPE:"txt",TOKENS:["Z","=","as","(","u_camera_eye",",","aq",",","dP",",","Z",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND","BILLBOARD_JITTERED",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Z","=","at","(","u_wind",",","u_time",",","u_jitter_amp",",","u_jitter_freq",",","aq",",","Z",")",";"]}]}}]},{TYPE:"txt",TOKENS:["au","aw","=","av","(","O","-","ao",",","ao",",","V",",","ae",",","W",",","U",",","Z",")",";","aw",".","ao","=","aq",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["au","aw","=","av","(","O",",","ao",",","V",",","ae",",","W",",","U",",","Z",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ay","=","bJ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ay","=","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ax","(","aw",".","O",",","aw",".","ao",",","ay",",","mat4","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["h","=","aw",".","O",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","USE_NODE_NORMAL_MAP","CAUSTICS","CALC_TBN_SPACE","WIND_BEND","MAIN_BEND_COL","DETAIL_BEND",{TYPE:"logical_and_expr",PLACES:3},"USE_NODE_TEX_COORD_NO","USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:12}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["j","=","aw",".","U",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","aA","=","(","dot","(","cross","(","aw",".","U",",","aw",".","V",")",",","aw",".","W",")","<","0.0",")","?","-","1.0",":","1.0",";","k","=","vec4","(","aw",".","V",",","aA",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["B","=","aw",".","aB",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec4","bL","=","vec4","(","ap","(","N",",","aw",".","O",")",",","1.0",")",";","vec4","f","=","u_proj_matrix","*","bL",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_JITTER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["f",".","xy","+=","u_subpixel_jitter","*","f",".","w",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["l","=","aC","(","f",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","REFRACTIVE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","-","bL",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["I","(",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["TEXTURE_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","az","(","a_texcoord",",","u_texture_scale",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["bM","(","aw",".","O",",","aw",".","U",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"NODES","ALPHA",{TYPE:"logical_and_expr",PLACES:2},"SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2},"RGBA_SHADOWS",{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["i","=","bL",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","dQ","=","(","u_proj_matrix","*","vec4","(","N","[","0","]",",","1.0",")",")",".","xy",";","float","dR","=","SHADOW_TEX_RES","/","2.0",";","dQ","=","floor","(","dQ","*","dR","+","0.5",")","/","dR","-","dQ",";","f",".","xy","+=","dQ",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","f",";","}"]}]},exports["sky.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYREAL",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"var",NAME:"PROCEDURAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYPAPER",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_camera_eye_frag",";","uniform","vec4","u_underwater_fog_color_density",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND","WO_SKYPAPER",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_sky_tex_fac",";","uniform","vec3","u_sky_tex_color",";","uniform","float","u_sky_tex_dvar",";","uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND","WO_SKYPAPER","WO_SKYTEX",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"sky_blending.glslf"}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","cC",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec3","dS",";","vec3","dw","=","normalize","(","cC",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND","WO_SKYPAPER",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","dT","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dT","=","abs","(","A",".","y",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dT","=","(","A",".","y","+","1.0",")","*","0.5",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","dU","=","u_horizon_color",";","vec3","dV","=","u_zenith_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dW","=","vec3","(","A",",","0.0",")",";","vec4","dX","=","GLSL_TEXTURE_CUBE","(","u_sky",",","dw",")",";","cg","(","dX",".","rgb",")",";","dS","=","dY","(","dU",",","dV",",","dX",",","dT",",","dW",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dS","=","mix","(","dU",",","dV",",","dT",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dS","=","GLSL_TEXTURE_CUBE","(","u_sky",",","dw",")",".","rgb",";","cg","(","dS",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","dZ","=","WATER_LEVEL","-","u_camera_eye_frag",".","z",";","vec3","d_","=","vec3","(","0.0",")",";","vec3","ea","=","mix","(","u_underwater_fog_color_density",".","rgb",",","d_",",","min","(","-","dw",".","z",",","1.0",")",")",";","ea","*=","min","(","1.0","-","min","(","0.03","*","dZ",",","0.8",")",",","1.0",")",";","float","aL","=","clamp","(","sign","(","0.01","*","dZ","-","dw",".","z",")",",","0.0",",","1.0",")",";","dS","=","mix","(","dS",",","ea",",","aL",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aW","(","dS",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","dS",",","1.0",")",";","}"]}]},exports["sky.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PROCEDURAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","mat4","u_sky_vp_inverse",";","GLSL_IN","vec3","a_position",";","GLSL_OUT","vec3","cC",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec4","O","=","vec4","(","a_position",".","xy",",","0.9999999",",","1.0",")",";","vec4","dw","=","u_sky_vp_inverse","*","O",";","cC","=","dw",".","xyz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","a_position",".","xy",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","O",";","}"]}]},exports["skybox.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PROCEDURAL_SKYDOME",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_view_matrix",";","GLSL_IN","vec3","a_position",";","GLSL_OUT","vec3","cC",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec4","O","=","vec4","(","a_position",".","xy",",","0.999999",",","1.0",")",";","vec4","dw","=","u_cube_view_matrix","*","O",";","cC","=","dw",".","xyz",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_SKYDOME",{TYPE:"logic_negative_expr",PLACES:1},"WO_SKYTEX","WO_SKYBLEND",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","a_position",".","xy",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","O",";","}"]}]},exports["tex_skybox.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"WO_SKYTEX",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYREAL",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYPAPER",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","GLSL_IN","vec3","cC",";","GLSL_IN","vec2","A",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_sky_tex_fac",";","uniform","vec3","u_sky_tex_color",";","uniform","float","u_sky_tex_dvar",";","uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"sky_blending.glslf"}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","vec3","dw","=","normalize","(","cC",")",";","vec3","dS",";","float","dT","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYPAPER"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dS","=","GLSL_TEXTURE_CUBE","(","u_sky_texture",",","dw",")",".","xyz",";","cg","(","dS",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dS","=","vec3","(","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","acos","(","dw",".","z",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dT","=","abs","(","J","*","INV_PI","-","0.5",")","*","2.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dT","=","1.0","-","J","*","INV_PI",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec3","dU","=","u_horizon_color",";","vec3","dV","=","u_zenith_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYTEX"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","dX","=","GLSL_TEXTURE_CUBE","(","u_sky_texture",",","dw",")",";","cg","(","dX",".","rgb",")",";","vec3","dW","=","vec3","(","cC",".","xy",",","0.0",")",";","dS","=","dY","(","dU",",","dV",",","dX",",","dT",",","dW",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dS","=","mix","(","dU",",","dV",",","dT",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dS","=","dU",";"]}]}}]}]}}]}]}}]},{TYPE:"txt",TOKENS:["aW","(","dS",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","dS",",","1.0",")",";","}"]}]},exports["water.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_WIREFRAME",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_NORMALMAPS",TOKENS:["0"]},{TYPE:"var",NAME:"FOAM",TOKENS:["0"]},{TYPE:"var",NAME:"SHORE_PARAMS",TOKENS:["0"]},{TYPE:"var",NAME:"GENERATED_MESH",TOKENS:["0"]},{TYPE:"var",NAME:"ABSORB",TOKENS:["6.0"]},{TYPE:"var",NAME:"SSS_STRENGTH",TOKENS:["1.0"]},{TYPE:"var",NAME:"SSS_WIDTH",TOKENS:["0.45"]},{TYPE:"var",NAME:"ALPHA",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"WAVES_HEIGHT",TOKENS:["1.0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"var",NAME:"SHORE_SMOOTHING",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC",TOKENS:["0"]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"REFL_BUMP",TOKENS:["0.002"]},{TYPE:"txt",TOKENS:["uniform","float","u_time",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_TEXTURE",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_sky_texture",";"]}]}},{TYPE:"elif",EXPRESSION:["USE_ENVIRONMENT_LIGHT","SKY_COLOR",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec3","u_horizon_color",";","uniform","vec3","u_zenith_color",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_environment_energy",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_light_positions","[","NUM_LIGHTS","]",";","uniform","vec3","u_light_directions","[","NUM_LIGHTS","]",";","uniform","vec4","u_light_color_intensities","[","NUM_LIGHTS","]",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec3","u_sun_intensity",";","uniform","vec3","u_sun_direction",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHORE_SMOOTHING","WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_color_density",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_underwater_fog_color_density",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat4","u_cube_fog",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_fog_params",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_normalmap0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_refractmap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_plane_reflection",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","samplerCube","u_mirrormap",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","sampler2D","u_scene_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_foam",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec4","u_diffuse_color",";","uniform","vec2","u_diffuse_params",";","uniform","float","u_diffuse_intensity",";","uniform","float","u_ambient",";","uniform","vec2","u_fresnel_params",";","uniform","vec3","u_specular_color",";","uniform","vec3","u_specular_params",";","uniform","vec3","u_shallow_water_col",";","uniform","vec3","u_shore_water_col",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_water_norm_uv_velocity",";","uniform","vec2","u_normalmap0_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap1_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap2_scale",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_normalmap3_scale",";"]}]}}]}]}}]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_mirror_factor",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_reflect_factor",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_water_shallow_col_fac",";","uniform","float","u_water_shore_col_fac",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_foam_factor",";","uniform","vec2","u_foam_uv_freq",";","uniform","vec2","u_foam_mag",";","uniform","vec2","u_foam_scale",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_refr_bump",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","aE","=","1.0",";","uniform","vec3","u_wireframe_edge_color",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","bG",";","GLSL_IN","vec3","h",";","GLSL_IN","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","k",";","GLSL_IN","vec3","eb",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH","DYNAMIC",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","ec",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","ed",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","m",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","aD",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","B",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"include",FILE:"environment.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE","SHORE_SMOOTHING","USE_REFRACTION_CORRECTION",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"fog.glslf"}]}}]},{TYPE:"txt",TOKENS:["vec3","el","(","in","vec2","ee",",","in","vec3","U",",","in","vec3","ef",",","in","vec3","eg",",","out","float","eh",",","in","float","ei",")","{","eh","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ej","=","ee",".","xy","+","U",".","xy","*","REFL_BUMP","/","m",";","eh","=","u_reflect_factor",";","vec3","ek",";","if","(","u_cam_water_depth","<","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},"WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ek","=","u_underwater_fog_color_density",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ek","=","u_diffuse_color",".","rgb",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","{","ek","=","GLSL_TEXTURE","(","u_plane_reflection",",","ej",")",".","rgb",";","cg","(","ek",")",";","}"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eh","=","u_mirror_factor",";","vec3","ek","=","eg","*","GLSL_TEXTURE_CUBE","(","u_mirrormap",",","ef",")",".","rgb",";","cg","(","ek",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eh","=","u_reflect_factor",";","vec3","ek","=","eg","*","vec3","(","0.3",",","0.5",",","1.0",")",";","cg","(","ek",")",";"]}]}}]},{TYPE:"txt",TOKENS:["eh","=","min","(","eh","*","ei",",","1.0",")",";","return","ek",";","}"]},{TYPE:"include",FILE:"lighting_nodes.glslf"},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","bP","=","mat3","(","k",",","eb",",","j",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","U","=","normalize","(","j",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC","FOAM",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bB","=","h",".","z","-","WATER_LEVEL",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bB","=","h",".","z",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bN","=","vec2","(","ec",".","x",",","-","ec",".","y",")","+","0.5",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bN","=","vec2","(","h",".","x",",","-","h",".","y",")","+","0.5",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bN","=","A",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","em","=","vec3","(","0.0",")",";","em","+=","GLSL_TEXTURE","(","u_normalmap0",",","bN","*","u_normalmap0_scale","+","vec2","(","0.3",",","0.5",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["em","+=","GLSL_TEXTURE","(","u_normalmap0",",","bN","*","u_normalmap1_scale","+","vec2","(","-","0.3",",","0.7",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["em","+=","GLSL_TEXTURE","(","u_normalmap0",",","bN","*","u_normalmap2_scale","+","vec2","(","0.0",",","1.1",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["em","+=","GLSL_TEXTURE","(","u_normalmap0",",","bN","*","u_normalmap3_scale","+","vec2","(","-","0.66",",","-","0.3",")","*","u_water_norm_uv_velocity","*","u_time",")",".","xyz","-","0.5",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["U","=","mix","(","U",",","normalize","(","bP","*","em",")",",","0.3",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["U","=","mix","(","U",",","normalize","(","bP","*","em",")",",","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["U","=","normalize","(","U",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","C","=","normalize","(","bG",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ee","=","l",".","xy","/","l",".","z",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ee","=","vec2","(","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","en","=","ee","+","U",".","xy","*","u_refr_bump","/","m",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","u_diffuse_color",".","a",";","vec4","cE","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","l",")",";","float","cG","=","cF","(","cE",")",";","float","cH","=","max","(","cG","-","m",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ep","=","eo","(","cG",",","en",",","ee",")",";","float","eq","=","max","(","ep","-","m",",","0.0",")",";","float","er","=","u_view_max_depth","/","ABSORB","*","eq",";","float","es","=","min","(","J","*","er",",","1.0",")",";","J","=","min","(","15.0","*","J","*","u_view_max_depth","*","cH",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","cI","=","u_view_max_depth","/","ABSORB","*","cH",";","if","(","u_cam_water_depth",">","0.0",")","J","=","min","(","J","*","cI",",","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","J","=","u_diffuse_color",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","es","=","J",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_cam_water_depth","<","0.0",")","es","=","0.0",";","vec3","et","=","GLSL_TEXTURE","(","u_refractmap",",","en",")",".","rgb",";","cg","(","et",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eu","=","pow","(","min","(","ed",".","b","/","u_water_shallow_col_fac",",","1.0",")",",","0.3",")",";","vec3","ch","=","mix","(","u_shallow_water_col",",","u_diffuse_color",".","rgb",",","eu",")",";","eu","=","pow","(","min","(","ed",".","b","/","u_water_shore_col_fac",",","1.0",")",",","0.3",")",";","ch","=","mix","(","u_shore_water_col",",","ch",",","eu",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ch","=","u_diffuse_color",".","rgb",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ev","=","max","(","1.0","-","u_view_max_depth","*","cH",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ev","=","1.0","-","J",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ew","=","max","(","bB","/","WAVES_HEIGHT","+","0.1",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ex","=","normalize","(","vec3","(","ed",".","rg",",","0.0",")",")",";","vec3","ey","=","normalize","(","mix","(","UP_VECTOR",",","ex",",","0.8",")",")",";","float","ez","=","1.25","*","max","(","dot","(","U",",","ey",")","-","0.2",",","0.0",")",";","ez","+=","max","(","dot","(","U",",","-","UP_VECTOR",")",",","0.0",")",";","ev","+=","ez","*","(","1.0","-","ed",".","b",")",";","ew","*=","(","1.0","-","0.95","*","pow","(","ed",".","b",",","0.1",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["ev","+=","ew",";","ev","=","min","(","u_foam_factor","*","ev",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","eA","=","GLSL_TEXTURE","(","u_foam",",","u_foam_mag","*","sin","(","u_foam_uv_freq","*","u_time",")","+","bN","*","u_foam_scale",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","cu","=","u_specular_params","[","0","]",";","vec2","cv","=","vec2","(","u_specular_params","[","1","]",",","u_specular_params","[","2","]",")",";","vec3","cw","=","cu","*","u_specular_color",";","vec3","co","=","u_environment_energy","*","cn","(","U",")",";","vec3","cp","=","u_ambient","*","co",";","vec3","eg","=","cp","+","u_sun_intensity",";","float","eh",";","vec3","ef","=","reflect","(","-","C",",","U",")",";","vec3","eB","=","normalize","(","ef","+","C",")",";","float","eC","=","1.0","-","dot","(","C",",","eB",")",";","float","eD","=","u_fresnel_params","[","0","]",";","float","eE","=","u_fresnel_params","[","1","]",";","float","eF","=","eE","+","(","1.0","-","eE",")","*","pow","(","eC",",","eD",")",";","vec3","ek","=","el","(","ee",",","U",",","ef",",","eg",",","eh",",","eF",")",";","vec3","cm","=","u_diffuse_intensity","*","ch",";","vec3","aQ",";","vec3","cx",";","cy","(","vec3","(","0.0",")",",","vec3","(","0.0",")",",","cm",",","cw",",","h",",","U",",","C",",","cv",",","u_diffuse_params",",","vec4","(","1.0",")",",","0.0",",","vec4","(","0.0",")",",","aQ",",","cx",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eG","=","max","(","dot","(","u_sun_direction",",","-","j",")","+","SSS_WIDTH",",","0.0",")","*","max","(","dot","(","-","C",",","u_sun_direction",")","-","0.5",",","0.0",")","*","max","(","0.0",",","length","(","u_sun_intensity",")","-","0.1",")",";","eG","=","clamp","(","SSS_STRENGTH","*","eG",",","0.0",",","1.0",")",";","aQ","=","mix","(","aQ",",","u_shallow_water_col",",","eG",")",";","aQ","=","mix","(","aQ",",","u_shore_water_col",",","eG",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aQ","=","mix","(","et",",","aQ",",","es",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","=","mix","(","aQ",",","ek",",","eh",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eH","=","mix","(","eA",".","g",",","eA",".","r",",","max","(","4.0","*","(","ev","-","0.75",")",",","0.0",")",")",";","eH","=","mix","(","eA",".","b",",","eH",",","max","(","2.0","*","ev","-","1.0",",","0.0",")",")",";","eH","=","mix","(","0.0",",","eH",",","ev",")",";","aQ","=","mix","(","aQ",",","eg",",","eH",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aQ","+=","cx",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eI","=","m","*","u_view_max_depth",";","float","eJ","=","1.0",";","if","(","u_cam_water_depth",">","1.0",")","eJ","=","2.0",";","bE","(","aQ",",","eI",",","C",",","eJ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aW","(","aQ",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","max","(","J",",","cx",".","r",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOAM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","+=","eH",";"]}]}}]}]}},{TYPE:"elif",EXPRESSION:["SHORE_SMOOTHING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["J","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aX","(","aQ",",","J",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"extension",TOKENS:["GL_OES_standard_derivatives",":","enable"]}]}}]},{TYPE:"txt",TOKENS:["vec3","aN","=","fwidth","(","aD",")",";","vec3","aO","=","smoothstep","(","vec3","(","0.0",")",",","aN","*","aE",",","aD",")",";","float","eK","=","min","(","min","(","aO",".","x",",","aO",".","y",")",",","aO",".","z",")",";","eK","=","clamp","(","eK",",","0.0",",","1.0",")",";","aQ","=","mix","(","u_wireframe_edge_color",",","aQ",",","eK",")",";","J","=","mix","(","1.0",",","J",",","eK",")",";"]}]}},{TYPE:"elif",EXPRESSION:["DEBUG_WIREFRAME",2,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aM","=","sign","(","aD","-","vec3","(","0.02","*","aE",")",")",";","float","eK","=","1.0",";","if","(","aM",".","x","<","0.0","||","aM",".","y","<","0.0","||","aM",".","z","<","0.0",")","eK","=","0.0",";","aQ","=","mix","(","u_wireframe_edge_color",",","aQ",",","eK",")",";","J","=","mix","(","1.0",",","J",",","eK",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aQ",",","J",")",";","}"]}]},exports["water.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"USE_TBN_SHADING",TOKENS:["0"]},{TYPE:"var",NAME:"DEBUG_WIREFRAME",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_NORMALMAPS",TOKENS:["0"]},{TYPE:"var",NAME:"FOAM",TOKENS:["0"]},{TYPE:"var",NAME:"SHORE_PARAMS",TOKENS:["0"]},{TYPE:"var",NAME:"MAX_SHORE_DIST",TOKENS:["100.0"]},{TYPE:"var",NAME:"SHORE_MAP_SIZE_X",TOKENS:["1.0"]},{TYPE:"var",NAME:"SHORE_MAP_SIZE_Y",TOKENS:["1.0"]},{TYPE:"var",NAME:"SHORE_MAP_CENTER_X",TOKENS:["0.0"]},{TYPE:"var",NAME:"SHORE_MAP_CENTER_Y",TOKENS:["0.0"]},{TYPE:"var",NAME:"GENERATED_MESH",TOKENS:["0"]},{TYPE:"var",NAME:"DST_NOISE_SCALE_0",TOKENS:["0.05"]},{TYPE:"var",NAME:"DST_NOISE_SCALE_1",TOKENS:["0.03"]},{TYPE:"var",NAME:"DST_NOISE_FREQ_0",TOKENS:["1.3"]},{TYPE:"var",NAME:"DST_NOISE_FREQ_1",TOKENS:["1.0"]},{TYPE:"var",NAME:"DIR_MIN_SHR_FAC",TOKENS:["0.4"]},{TYPE:"var",NAME:"DIR_FREQ",TOKENS:["0.5"]},{TYPE:"var",NAME:"DIR_NOISE_SCALE",TOKENS:["0.05"]},{TYPE:"var",NAME:"DIR_NOISE_FREQ",TOKENS:["0.07"]},{TYPE:"var",NAME:"DIR_MIN_NOISE_FAC",TOKENS:["0.5"]},{TYPE:"var",NAME:"DST_MIN_FAC",TOKENS:["0.2"]},{TYPE:"var",NAME:"WAVES_HOR_FAC",TOKENS:["5.0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WAVES_HEIGHT",TOKENS:["1.0"]},{TYPE:"var",NAME:"WAVES_LENGTH",TOKENS:["10.0"]},{TYPE:"var",NAME:"WATER_LEVEL",TOKENS:["0.0"]},{TYPE:"var",NAME:"SHORE_SMOOTHING",TOKENS:["0"]},{TYPE:"var",NAME:"DYNAMIC",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},"DYNAMIC",{TYPE:"logic_negative_expr",PLACES:1},"NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","a_tbn",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},"NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_texcoord",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","a_polyindex",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","bG",";","GLSL_OUT","vec3","h",";","GLSL_OUT","vec3","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","k",";","GLSL_OUT","vec3","eb",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2},"GENERATED_MESH","DYNAMIC",{TYPE:"logical_and_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","ec",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","ed",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","l",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","m",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","aD",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_TBN_SHADING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec3","B",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["STATIC_BATCH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","mat3","u_model_tsr","=","mat3","(","0.0",",","0.0",",","0.0",",","1.0",",","0.0",",","0.0",",","0.0",",","1.0",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","mat3","u_model_tsr",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","mat3","u_view_tsr",";","uniform","mat4","u_proj_matrix",";","uniform","vec3","u_camera_eye",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_time",";","uniform","vec3","u_wind",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","PRECISION","float","u_view_max_depth",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_shore_dist_map",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eR","(","in","vec2","eL",")","{","vec2","eM","=","0.5","+","vec2","(","(","eL",".","x","-","SHORE_MAP_CENTER_X",")","/","SHORE_MAP_SIZE_X",",","(","eL",".","y","-","SHORE_MAP_CENTER_Y",")","/","SHORE_MAP_SIZE_Y",")",";","vec4","eN","=","GLSL_TEXTURE","(","u_shore_dist_map",",","eM",")",";","const","vec2","eO","=","vec2","(","1.0","/","255.0",",","1.0",")",";","float","eP","=","dot","(","eN",".","ba",",","eO",")",";","vec2","eQ","=","normalize","(","eN",".","rg","*","2.0","-","1.0",")",";","return","vec3","(","eQ",",","eP",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMALL_WAVES_FAC",TOKENS:["0.2"]},{TYPE:"txt",TOKENS:["void","ff","(","inout","vec3","eL",",","in","float","eS",",","in","vec3","eN",")","{","float","eU","=","eT","(","DST_NOISE_SCALE_0","*","(","eL",".","xy","+","DST_NOISE_FREQ_0","*","eS",")",")","*","eT","(","DST_NOISE_SCALE_1","*","(","eL",".","yx","-","DST_NOISE_FREQ_1","*","eS",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eV","=","WAVES_LENGTH","/","MAX_SHORE_DIST","/","M_PI",";","float","eP","=","eN",".","b",";","float","eW","=","sqrt","(","eP",")",";","float","eX","=","max","(","eP",",","DIR_MIN_SHR_FAC",")","*","sin","(","eW","/","eV","+","DIR_FREQ","*","eS",")",";","float","eY","=","max","(","eT","(","DIR_NOISE_SCALE","*","(","eL",".","xy","+","DIR_NOISE_FREQ","*","eS",")",")",",","DIR_MIN_NOISE_FAC",")",";","eX","*=","eY",";","float","eZ","=","WAVES_HEIGHT","*","mix","(","eX",",","eU",",","max","(","eW",",","DST_MIN_FAC",")",")",";","vec2","eQ","=","eN",".","rg",";","float","e_","=","WAVES_HOR_FAC","*","eX","*","max","(","MAX_SHORE_DIST","/","35.0","*","(","0.05","-","eP",")",",","0.0",")",";","vec2","fa","=","e_","*","eQ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eZ","=","WAVES_HEIGHT","*","eU",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","fb","=","1.0","*","(","eL",".","xy","-","0.3","*","eS",")",";","vec2","fc","=","0.7","*","(","eL",".","yx","+","0.07","*","eS",")",";","float","fe","=","fd","(","fb",")",".","x","+","fd","(","fc",")",".","x","-","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["eL",".","xy","+=","fa",";","fe","*=","eP",";"]}]}}]},{TYPE:"txt",TOKENS:["eZ","+=","SMALL_WAVES_FAC","*","fe",";"]}]}}]},{TYPE:"txt",TOKENS:["eL",".","z","+=","eZ",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEBUG_WIREFRAME"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","a_polyindex","==","0.0",")","aD","=","vec3","(","1.0",",","0.0",",","0.0",")",";","else","if","(","a_polyindex","==","1.0",")","aD","=","vec3","(","0.0",",","0.0",",","1.0",")",";","else","aD","=","vec3","(","0.0",",","1.0",",","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","O","=","a_position",";","float","fg","=","abs","(","O",".","z",")",";","vec2","fh","=","u_camera_eye",".","xy","-","mod","(","u_camera_eye",".","xy",",","fg",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O",".","z","=","WATER_LEVEL",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O",".","z","=","0.0",";"]}]}}]},{TYPE:"txt",TOKENS:["O",".","xy","+=","fh",";","vec3","bK","=","O",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","a_texcoord",";"]}]}}]},{TYPE:"txt",TOKENS:["au","aw","=","av","(","a_position",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","u_model_tsr",")",";","vec3","bK","=","aw",".","O",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ed","=","eR","(","bK",".","xy",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fi","=","length","(","u_wind",")",";","if","(","fi","==","0.0",")","fi","=","1.0",";","float","fj","=","u_time",";","fj","*=","fi",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fk","=","fg",";","vec3","fl","=","bK","+","vec3","(","fk",",","0.0",",","0.0",")",";","vec3","fm","=","bK","+","vec3","(","0.0",",","fk",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2},"FOAM",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ec","=","bK",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","fl","=","bK","+","vec3","(","0.05",",","0.0",",","0.0",")",";","vec3","fm","=","bK","+","vec3","(","0.0",",","0.05",",","0.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_PARAMS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","fn","=","eR","(","fl",".","xy",")",";","vec3","fo","=","eR","(","fm",".","xy",")",";","ff","(","fl",",","fj",",","fn",")",";","ff","(","fm",",","fj",",","fo",")",";","ff","(","bK",",","fj",",","ed",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ff","(","fl",",","fj",",","vec3","(","0.0",")",")",";","ff","(","fm",",","fj",",","vec3","(","0.0",")",")",";","ff","(","bK",",","fj",",","vec3","(","0.0",")",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","a_position",".","z","<","0.0",")","{","bK",".","z","=","WATER_LEVEL","-","1.0",";","fl",".","z","=","bK",".","z",";","fm",".","z","=","bK",".","z",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec3","fp","=","normalize","(","fl","-","bK",")",";","vec3","V","=","normalize","(","fm","-","bK",")",";","j","=","normalize","(","cross","(","fp",",","V",")",")",";","float","fq","=","dot","(","j",",","UP_VECTOR",")",";","float","aL","=","clamp","(","0.8","-","fq",",","0.0",",","1.0",")",";","j","=","mix","(","j",",","UP_VECTOR",",","aL",")",";"]}]}},{TYPE:"elif",EXPRESSION:["GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","S","=","R","(","a_tbn",")",";","j","=","T","(","S",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["j","=","vec3","(","0.0",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_NORMALMAPS",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GENERATED_MESH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","T","(","S",",","vec3","(","1.0",",","0.0",",","0.0",")",")",";"]}]}},{TYPE:"elif",EXPRESSION:["DYNAMIC",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","V","=","vec3","(","1.0",",","0.0",",","0.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["k","=","V",";","eb","=","cross","(","j",",","k",")",";"]}]}}]},{TYPE:"txt",TOKENS:["h","=","bK",";","bG","=","u_camera_eye","-","bK",";","vec4","bL","=","vec4","(","ap","(","u_view_tsr",",","bK",")",",","1.0",")",";","vec4","f","=","u_proj_matrix","*","bL",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fr","=","f",".","x",";","float","fs","=","f",".","y",";","float","ft","=","f",".","w",";","l",".","x","=","(","fr","+","ft",")","/","2.0",";","l",".","y","=","(","fs","+","ft",")","/","2.0",";","l",".","z","=","ft",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHORE_SMOOTHING","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["m","=","-","bL",".","z","/","u_view_max_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","f",";","}"]}]},exports["postprocessing/antialiasing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"AA_METHOD",TOKENS:["AA_METHOD_FXAA_LIGHT"]},{TYPE:"var",NAME:"AA_QUALITY",TOKENS:["AA_QUALITY_LOW"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","vec2","u_texel_size",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_REDUCE_MIN",TOKENS:["(","1.0","/","128.0",")"]},{TYPE:"define",NAME:"FXAA_REDUCE_MUL",TOKENS:["(","1.0","/","8.0",")"]},{TYPE:"define",NAME:"FXAA_SPAN_MAX",TOKENS:["8.0"]},{TYPE:"txt",TOKENS:["vec4","fv","(","float","x",",","float","y",")","{","vec2","fu","=","A","+","vec2","(","x",",","y",")","*","u_texel_size",";","return","GLSL_TEXTURE","(","u_color",",","fu",")",";","}","vec4","fO","(",")","{","vec4","fw","=","fv","(","-","1.0",",","-","1.0",")",";","vec4","fx","=","fv","(","1.0",",","-","1.0",")",";","vec4","fy","=","fv","(","-","1.0",",","1.0",")",";","vec4","fz","=","fv","(","1.0",",","1.0",")",";","vec4","fA","=","fv","(","0.0",",","0.0",")",";","float","fC","=","fB","(","fA",")",";","float","fD","=","fB","(","fw",")",";","float","fE","=","fB","(","fx",")",";","float","fF","=","fB","(","fy",")",";","float","fG","=","fB","(","fz",")",";","float","fH","=","min","(","fC",",","min","(","min","(","fD",",","fE",")",",","min","(","fF",",","fG",")",")",")",";","float","fI","=","max","(","fC",",","max","(","max","(","fD",",","fE",")",",","max","(","fF",",","fG",")",")",")",";","vec2","bp",";","bp",".","x","=","-","(","(","fD","+","fE",")","-","(","fF","+","fG",")",")",";","bp",".","y","=","(","(","fD","+","fF",")","-","(","fE","+","fG",")",")",";","float","fJ","=","max","(","(","fD","+","fE","+","fF","+","fG",")","*","(","0.25","*","FXAA_REDUCE_MUL",")",",","FXAA_REDUCE_MIN",")",";","float","fK","=","1.0","/","(","min","(","abs","(","bp",".","x",")",",","abs","(","bp",".","y",")",")","+","fJ",")",";","bp","=","min","(","vec2","(","FXAA_SPAN_MAX",",","FXAA_SPAN_MAX",")",",","max","(","vec2","(","-","FXAA_SPAN_MAX",",","-","FXAA_SPAN_MAX",")",",","bp","*","fK",")",")","*","u_texel_size",";","vec4","fL","=","0.5","*","(","GLSL_TEXTURE","(","u_color",",","A","+","bp","*","(","1.0","/","3.0","-","0.5",")",")","+","GLSL_TEXTURE","(","u_color",",","A","+","bp","*","(","2.0","/","3.0","-","0.5",")",")",")",";","vec4","fM","=","fL","*","0.5","+","0.25","*","(","GLSL_TEXTURE","(","u_color",",","A","+","bp","*","-","0.5",")","+","GLSL_TEXTURE","(","u_color",",","A","+","bp","*","0.5",")",")",";","float","fN","=","fB","(","fM",")",";","if","(","(","fN","<","fH",")","||","(","fN",">","fI",")",")","return","fL",";","else","return","fM",";","}"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_QUALITY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GREEN_AS_LUMA",TOKENS:["1"]},{TYPE:"include",FILE:"fxaa.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_QUALITY","AA_QUALITY_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["39"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["1.00"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.063"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0312"]}]}},{TYPE:"elif",EXPRESSION:["AA_QUALITY","AA_QUALITY_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["20"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["0.65"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.166"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0625"]}]}},{TYPE:"elif",EXPRESSION:["AA_QUALITY","AA_QUALITY_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_SUBPIX",TOKENS:["0.50"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD",TOKENS:["0.166"]},{TYPE:"define",NAME:"FXAA_QUALITY_EDGE_THRESHOLD_MIN",TOKENS:["0.0833"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","fO","(",")",";"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_FXAA_QUALITY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","fP","=","u_texel_size",";","GLSL_OUT_FRAG_COLOR","=","fQ","(","A",",","u_color",",","fP",",","FXAA_QUALITY_SUBPIX",",","FXAA_QUALITY_EDGE_THRESHOLD",",","FXAA_QUALITY_EDGE_THRESHOLD_MIN",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/bloom_combine.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"var",NAME:"BLUR_PASS_NUM",TOKENS:["BLUR_PASS_5"]},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLUR_PASS_NUM","BLUR_PASS_1",{TYPE:"ge_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_bloom_level_0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLUR_PASS_NUM","BLUR_PASS_2",{TYPE:"ge_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_bloom_level_1",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLUR_PASS_NUM","BLUR_PASS_3",{TYPE:"ge_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_bloom_level_2",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLUR_PASS_NUM","BLUR_PASS_4",{TYPE:"ge_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_bloom_level_3",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLUR_PASS_NUM","BLUR_PASS_5",{TYPE:"ge_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_bloom_level_4",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","fR","=","GLSL_TEXTURE","(","u_main",",","A",")",";","vec4","fS","=","vec4","(","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLUR_PASS_NUM","BLUR_PASS_1",{TYPE:"ge_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["fS","+=","GLSL_TEXTURE","(","u_bloom_level_0",",","A",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLUR_PASS_NUM","BLUR_PASS_2",{TYPE:"ge_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["fS","+=","GLSL_TEXTURE","(","u_bloom_level_1",",","A",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLUR_PASS_NUM","BLUR_PASS_3",{TYPE:"ge_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["fS","+=","GLSL_TEXTURE","(","u_bloom_level_2",",","A",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLUR_PASS_NUM","BLUR_PASS_4",{TYPE:"ge_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["fS","+=","GLSL_TEXTURE","(","u_bloom_level_3",",","A",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLUR_PASS_NUM","BLUR_PASS_5",{TYPE:"ge_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["fS","+=","GLSL_TEXTURE","(","u_bloom_level_4",",","A",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","fR","+","fS",";","}"]}]},exports["postprocessing/coc.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"COC_TYPE",TOKENS:["COC_ALL"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","sampler2D","u_depth",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_coc_fg",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","float","u_view_max_depth",";","uniform","float","u_dof_dist",";","uniform","float","u_dof_front_start",";","uniform","float","u_dof_front_end",";","uniform","float","u_dof_rear_start",";","uniform","float","u_dof_rear_end",";","uniform","vec2","u_camera_range",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","aQ","=","GLSL_TEXTURE","(","u_color",",","A",")",";","if","(","u_dof_dist",">","0.0",")","{","float","dM","=","fT","(","u_depth",",","A",",","u_camera_range",")",";","dM","*=","u_view_max_depth",";","float","fU","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","fV","=","GLSL_TEXTURE","(","u_coc_fg",",","A",")",";","float","fW","=","fV",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","dM","<","u_dof_dist",")","fU","=","(","u_dof_dist","-","dM","-","u_dof_front_start",")","/","(","u_dof_front_end","-","u_dof_front_start",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_FOREGROUND",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","fU","=","(","dM","-","u_dof_dist","-","u_dof_rear_start",")","/","(","u_dof_rear_end","-","u_dof_rear_start",")",";"]}]}}]},{TYPE:"txt",TOKENS:["fU","=","clamp","(","fU",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_COMBINE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["fU","=","max","(","fU",",","fW",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COC_TYPE","COC_FOREGROUND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","fU",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","aQ",".","xyz","*","fU",",","fU",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","GLSL_OUT_FRAG_COLOR","=","vec4","(","aQ",".","xyz",",","0.0",")",";","}"]}]},exports["postprocessing/compositing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","float","u_brightness",";","uniform","float","u_contrast",";","uniform","float","u_exposure",";","uniform","float","u_saturation",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","fX","=","GLSL_TEXTURE","(","u_color",",","A",")",";","vec3","aQ","=","fX",".","rgb",";","if","(","u_brightness","<","0.0",")","aQ","=","aQ","*","(","1.0","+","u_brightness",")",";","else","aQ","=","aQ","+","(","(","1.0","-","aQ",")","*","u_brightness",")",";","aQ","=","(","aQ","-","0.5",")","*","(","tan","(","(","u_contrast","+","1.0",")","*","M_PI_4",")",")","+","0.5",";","aQ","*=","u_exposure",";","float","dg","=","fB","(","vec4","(","aQ",",","0.0",")",")",";","aQ","=","mix","(","vec3","(","dg",")",",","aQ",",","u_saturation",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aQ",",","fX",".","a",")",";","}"]}]},exports["postprocessing/depth_pack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","vec2","u_camera_range",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","GLSL_OUT_FRAG_COLOR","=","dN","(","clamp","(","fT","(","u_depth",",","A",",","u_camera_range",")",",","0.0",",","0.999999",")",")",";","}"]}]},exports["postprocessing/dof.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"DOF_TYPE",TOKENS:["DOF_SIMPLE"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOF_TYPE","DOF_BOKEH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","highp","sampler2D","u_sharp",";","uniform","highp","sampler2D","u_blurred1",";","uniform","highp","sampler2D","u_blurred2",";","uniform","float","u_dof_dist",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sharp",";","uniform","sampler2D","u_blurred",";","uniform","sampler2D","u_depth",";","uniform","float","u_view_max_depth",";","uniform","float","u_dof_dist",";","uniform","float","u_dof_front_end",";","uniform","float","u_dof_rear_end",";","uniform","vec2","u_camera_range",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","fY","=","GLSL_TEXTURE","(","u_sharp",",","A",")",";","if","(","u_dof_dist",">","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOF_TYPE","DOF_BOKEH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fU",";","vec4","fZ","=","GLSL_TEXTURE","(","u_blurred1",",","A",")",";","vec4","f_","=","GLSL_TEXTURE","(","u_blurred2",",","A",")",";","vec4","gc","=","min","(","fZ",".","rgba",",","f_",".","rgba",")",";","fU","=","gc",".","a",";","if","(","fU",">","0.0",")","{","gc","=","vec4","(","gc",".","rgb","/","fU",",","fY",".","a",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","fY",",","gc",",","min","(","fU","*","5.0",",","1.0",")",")",";","}","else","GLSL_OUT_FRAG_COLOR","=","fY",";"]}]}},{TYPE:"elif",EXPRESSION:["DOF_TYPE","DOF_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","dM","=","fT","(","u_depth",",","A",",","u_camera_range",")",";","dM","*=","u_view_max_depth",";","float","gd",";","if","(","dM","<","u_dof_dist",")","gd","=","(","u_dof_dist","-","dM",")","/","u_dof_front_end",";","else","gd","=","(","dM","-","u_dof_dist",")","/","u_dof_rear_end",";","gd","=","clamp","(","gd",",","0.0",",","1.0",")",";","vec4","ge","=","GLSL_TEXTURE","(","u_blurred",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","fY",",","ge",",","gd",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","fY",";"]}]}}]},{TYPE:"txt",TOKENS:["}","else","GLSL_OUT_FRAG_COLOR","=","fY",";","}"]}]},exports["postprocessing/glow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_src_color",";","uniform","sampler2D","u_glow_mask_small",";","uniform","sampler2D","u_glow_mask_large",";","uniform","float","u_glow_mask_small_coeff",";","uniform","float","u_glow_mask_large_coeff",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gf","=","GLSL_TEXTURE","(","u_src_color",",","A",")",";","vec4","gh","=","GLSL_TEXTURE","(","u_glow_mask_small",",","A",")",";","vec4","gi","=","GLSL_TEXTURE","(","u_glow_mask_large",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","gf",";","if","(","gi",".","a","!=","0.0",")","{","float","gj","=","u_glow_mask_large_coeff","*","gi",".","a",";","gj","=","clamp","(","gj",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","mix","(","GLSL_OUT_FRAG_COLOR",".","rgb",",","gi",".","rgb","/","gi",".","a",",","gj",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","mix","(","GLSL_OUT_FRAG_COLOR",".","a",",","1.0",",","gj",")",";","}","if","(","gh",".","a","!=","0.0",")","{","float","gk","=","u_glow_mask_small_coeff","*","gh",".","a",";","gk","=","clamp","(","gk",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","mix","(","GLSL_OUT_FRAG_COLOR",".","rgb",",","gh",".","rgb","/","gh",".","a",",","gk",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","mix","(","GLSL_OUT_FRAG_COLOR",".","a",",","1.0",",","gk",")",";","}","}"]}]},exports["postprocessing/god_rays.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"DEPTH_RGBA",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"STEPS_PER_PASS",TOKENS:["10.0"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","float","u_time",";","uniform","float","u_radial_blur_step",";","uniform","sampler2D","u_input",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec2","u_camera_range",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","float","gl",";","GLSL_IN","vec2","gm",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";","GLSL_IN","vec4","gn",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec2","cH","=","(","gn",".","xy","-","A",")",";","float","aM","=","length","(","cH",")",";","vec2","go","=","u_radial_blur_step","*","cH","/","aM",";","float","gp","=","aM","/","u_radial_blur_step",";","go","*=","min","(","gp",",","STEPS_PER_PASS",")","/","STEPS_PER_PASS",";","gp","=","max","(","gp",",","STEPS_PER_PASS",")",";","vec2","gq","=","A",";","float","gs","=","0.0",";","const","int","gt","=","int","(","STEPS_PER_PASS",")",";","int","gu","=","int","(","gp","+","0.5",")",";","for","(","int","bZ","=","0",";","bZ","<","gt",";","bZ","+=","1",")","{","if","(","bZ","<=","gu",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","dM","=","fT","(","u_input",",","gq",",","u_camera_range",")",";","gs","+=","max","(","(","1.0","-","pow","(","aM",",","0.3",")",")","*","step","(","0.9",",","dM",")",",","0.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","gv","=","GLSL_TEXTURE","(","u_input",",","gq",")",";","gs","+=","cF","(","gv",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","gq","+=","go",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","bN","=","A","+","gm",";","float","gw","=","fd","(","vec2","(","2.5","*","(","bN",".","x",")",",","2.5","*","(","bN",".","y",")","+","1.0","*","u_time",")",")",".","x","+","0.75","*","fd","(","vec2","(","5.0","*","(","bN",".","x",")","-","0.66","*","u_time",",","5.0","*","(","bN",".","y",")","+","0.66","*","u_time",")",")",".","x","+","0.5","*","eT","(","vec2","(","7.5","*","(","bN",".","x",")","+","0.33","*","u_time",",","7.5","*","(","bN",".","y",")","-","0.33","*","u_time",")",")",";","gw","*=","clamp","(","1.2","-","sqrt","(","0.2","*","aM",")",",","0.0",",","1.0",")","*","gl",";","gs","=","max","(","gw",",","gs",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","dN","(","gs","/","STEPS_PER_PASS",")",";","}"]}]},exports["postprocessing/god_rays.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"DEPTH_RGBA",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["uniform","mat4","u_view_proj_matrix",";","uniform","vec3","u_sun_direction",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","vec4","u_camera_quat",";","uniform","float","u_cam_water_depth",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_bb_vertex",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","float","gl",";","GLSL_OUT","vec2","gm",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","A",";","GLSL_OUT","vec4","gn",";","void","main","(",")","{","A","=","a_bb_vertex",";","vec3","bp","=","normalize","(","u_sun_direction",")",";","gn","=","u_view_proj_matrix","*","vec4","(","bp",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DEPTH_RGBA","WATER_EFFECTS",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_cam_water_depth","<","0.0",")","{","gl","=","1.0",";","vec3","gx","=","vec3","(","0.0",",","1.0",",","0.0",")",";","vec3","gy","=","T","(","u_camera_quat",",","gx",")",";","gy","=","normalize","(","gy",")",";","float","gz","=","dot","(","gy",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";","float","gA","=","atan","(","gy",".","x",",","gy",".","z",")",";","gm","=","vec2","(","-","gA",",","acos","(","gz",")",")",";","}","else","{","gl","=","0.0",";","}"]}]}}]},{TYPE:"txt",TOKENS:["gn",".","xy","=","0.5","*","(","gn",".","xy","/","gn",".","w","+","1.0",")",";","gn","+=","99999.0","*","step","(","gn",".","z",",","0.0",")",";","gl_Position","=","vec4","(","2.0","*","a_bb_vertex",".","xy","-","1.0",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/god_rays_combine.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SAFARI_CANVAS_ALPHA_HACK",TOKENS:["0"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_god_rays",";","uniform","float","u_god_rays_intensity",";","uniform","vec3","u_sun_intensity",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gB","=","GLSL_TEXTURE","(","u_main",",","A",")",";","vec3","gC","=","clamp","(","u_sun_intensity",",","0.4",",","0.8",")",";","cg","(","gB",".","rgb",")",";","float","gD","=","cF","(","GLSL_TEXTURE","(","u_god_rays",",","A",")",")",";","vec3","gE","=","gB",".","rgb","+","u_god_rays_intensity","*","vec3","(","gD",")","*","gC",";","aW","(","gE",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SAFARI_CANVAS_ALPHA_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","gE",",","max","(","0.01",",","gB",".","a",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","gE",",","gB",".","a",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/luminance.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_input",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","fR","=","GLSL_TEXTURE","(","u_input",",","A",")",";","float","gF","=","dot","(","fR",".","rgb",",","vec3","(","0.2126",",","0.7152",",","0.0722",")",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","vec3","(","gF",")",",","1.0",")",";","}"]}]},exports["postprocessing/luminance_av.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_input",";","uniform","float","u_mipmap_1x1",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","gG","=","max","(","GLSL_TEXTURE","(","u_input",",","A",",","u_mipmap_1x1",")",".","r",",","0.01",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","vec3","(","gG",")",",","1.0",")",";","}"]}]},exports["postprocessing/luminance_truncated.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"var",NAME:"ADAPTIVE_BLOOM",TOKENS:["0"]},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_main",";","uniform","sampler2D","u_luminance",";","uniform","sampler2D","u_average_lum",";","uniform","float","u_bloom_edge_lum",";","uniform","float","u_bloom_key",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ADAPTIVE_BLOOM",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_average_lum_val",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ADAPTIVE_BLOOM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","gG","=","GLSL_TEXTURE","(","u_average_lum",",","vec2","(","0.5",")",")",".","r",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","gG","=","u_average_lum_val",";"]}]}}]},{TYPE:"txt",TOKENS:["float","gH","=","GLSL_TEXTURE","(","u_luminance",",","A",")",".","r",";","vec4","aQ","=","GLSL_TEXTURE","(","u_main",",","A",")",";","float","gI","=","gH","/","gG",";","float","gJ","=","u_bloom_edge_lum",";","GLSL_OUT_FRAG_COLOR","=","aQ","*","u_bloom_key","*","smoothstep","(","gJ",",","gJ","+","1.2",",","gI",")",";","}"]}]},exports["postprocessing/motion_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_mb_tex_curr",";","uniform","sampler2D","u_mb_tex_accum",";","uniform","float","u_motion_blur_exp",";","uniform","float","u_motion_blur_decay_threshold",";","float","gK","=","0.0042",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gL","=","GLSL_TEXTURE","(","u_mb_tex_curr",",","A",")",";","vec4","gM","=","GLSL_TEXTURE","(","u_mb_tex_accum",",","A",")",";","if","(","length","(","gL","-","gM",")",">","u_motion_blur_decay_threshold",")","{","vec4","gN","=","(","1.0","-","u_motion_blur_exp",")","*","gL","+","u_motion_blur_exp","*","gM",";","vec4","gO","=","gN","-","gM",";","vec4","gP","=","gL","-","gM",";","vec4","cH","=","min","(","max","(","abs","(","gO",")",",","vec4","(","gK",")",")",",","abs","(","gP",")",")","*","sign","(","gO",")",";","GLSL_OUT_FRAG_COLOR","=","gM","+","cH",";","}","else","{","GLSL_OUT_FRAG_COLOR","=","gL",";","}","}"]}]},exports["postprocessing/outline.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_outline_src",";","uniform","sampler2D","u_outline_mask",";","uniform","sampler2D","u_outline_mask_blurred",";","uniform","vec3","u_outline_color",";","uniform","float","u_draw_outline",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","gQ","=","GLSL_TEXTURE","(","u_outline_src",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","gQ",";","if","(","u_draw_outline","!=","0.0",")","{","vec4","gR","=","GLSL_TEXTURE","(","u_outline_mask",",","A",")",";","vec4","gS","=","GLSL_TEXTURE","(","u_outline_mask_blurred",",","A",")",";","float","gT","=","gS",".","a","-","gR",".","a",";","if","(","gT","!=","0.0",")","{","float","gU","=","smoothstep","(","0.0",",","1.0",",","gS",".","a",")",";","if","(","gR",".","a","==","0.0",")","{","vec3","gV","=","u_outline_color",";","aW","(","gV",")",";","vec4","gW","=","vec4","(","clamp","(","gV",",","0.0",",","1.0",")",",","1.0",")",";","GLSL_OUT_FRAG_COLOR","=","mix","(","gQ",",","gW",",","gU",")",";","}","}","}","}"]}]},exports["postprocessing/performance.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","vec4","aQ","=","vec4","(","0.0",")",";","for","(","int","bZ","=","0",";","bZ","<","10",";","bZ","++",")","{","vec2","gX","=","vec2","(","fract","(","A","*","vec2","(","bZ",")","*","vec2","(","1.431",",","3.921",")",")",")",";","aQ","+=","0.01","*","GLSL_TEXTURE","(","u_color",",","gX",")",";","}","GLSL_OUT_FRAG_COLOR","=","aQ",";","}"]}]},exports["postprocessing/postprocessing.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"POST_EFFECT",TOKENS:["POST_EFFECT_NONE"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","uniform","sampler2D","u_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","FLIP_CUBEMAP_COORDS",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_tex_number",";","uniform","vec2","u_delta",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","POST_EFFECT_DOF_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","float","u_dof_bokeh_intensity",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POST_EFFECT","POST_EFFECT_NONE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","A",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_GRAYSCALE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","di","=","GLSL_TEXTURE","(","u_color",",","A",")",";","GLSL_OUT_FRAG_COLOR",".","rgb","=","vec3","(","(","di",".","r","+","di",".","g","+","di",".","b",")","/","3.0",")",";","GLSL_OUT_FRAG_COLOR",".","a","=","1.0",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ff","=","vec2","(","0.0",",","0.0",")",";","vec2","cH","=","u_texel_size",";","vec4","aQ",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","aQ","*","0.2270270270",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","0.1945945946",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","0.1945945946",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","0.1216216216",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","0.1216216216",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","0.0540540541",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","0.0540540541",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","0.0162162162",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","0.0162162162",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_GLOW_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ff","=","vec2","(","0.0",",","0.0",")",";","vec2","cH","=","u_texel_size",";","vec4","aQ",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.152507",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.141763",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.141763",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.113861",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.113861",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.079019",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.079019",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.047383",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.047383",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.024549",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.024549",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.01099",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.01099",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.00425",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.00425",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.00142",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","GLSL_OUT_FRAG_COLOR","+=","aQ","*","(","1.0","-","step","(","0.0",",","-","aQ",".","a",")",")","*","0.00142",";","GLSL_OUT_FRAG_COLOR","=","clamp","(","GLSL_OUT_FRAG_COLOR",",","0.0",",","1.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_DOF_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ff","=","vec2","(","0.0",",","0.0",")",";","vec2","cH","=","u_texel_size",";","vec4","aQ",";","vec4","gY",";","vec4","gZ",";","float","fU",";","float","g_","=","u_dof_bokeh_intensity",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A",")",";","gY","=","aQ",";","gZ","=","aQ",";","fU","=","aQ",".","a",";","cH","=","fU","*","cH",";","for","(","int","bZ","=","0",";","bZ","<","12",";","bZ","+=","2",")","{","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","gY","+=","aQ",";","gZ","=","max","(","gZ",",","aQ",")",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","gY","+=","aQ",";","gZ","=","max","(","gZ",",","aQ",")",";","}","gY","/=","13.0",";","GLSL_OUT_FRAG_COLOR","=","mix","(","gY",",","gZ",",","g_",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_ALPHA_BLUR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ff","=","vec2","(","0.0",",","0.0",")",";","vec2","cH","=","u_texel_size",";","vec4","aQ",";","vec4","gY",";","vec4","gZ",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A",")",";","gZ","=","max","(","gZ",",","aQ",")",";","gY","=","aQ",";","gY",".","a","=","aQ",".","a","*","0.2270270270",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","gZ",".","a","=","max","(","gZ",".","a",",","aQ",".","a",")",";","gY",".","a","+=","aQ",".","a","*","0.1945945946",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","gZ",".","a","=","max","(","gZ",".","a",",","aQ",".","a",")",";","gY",".","a","+=","aQ",".","a","*","0.1945945946",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","gZ",".","a","=","max","(","gZ",".","a",",","aQ",".","a",")",";","gY",".","a","+=","aQ",".","a","*","0.1216216216",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","gZ",".","a","=","max","(","gZ",".","a",",","aQ",".","a",")",";","gY",".","a","+=","aQ",".","a","*","0.1216216216",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","gZ",".","a","=","max","(","gZ",".","a",",","aQ",".","a",")",";","gY",".","a","+=","aQ",".","a","*","0.0540540541",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","gZ",".","a","=","max","(","gZ",".","a",",","aQ",".","a",")",";","gY",".","a","+=","aQ",".","a","*","0.0540540541",";","ff","+=","cH",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","ff",")",";","gZ",".","a","=","max","(","gZ",".","a",",","aQ",".","a",")",";","gY",".","a","+=","aQ",".","a","*","0.0162162162",";","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","ff",")",";","gZ",".","a","=","max","(","gZ",".","a",",","aQ",".","a",")",";","gY",".","a","+=","aQ",".","a","*","0.0162162162",";","GLSL_OUT_FRAG_COLOR","=","mix","(","gY",",","gZ",",","0.5",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","POST_EFFECT_EXTEND",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","cH","=","u_texel_size",";","vec4","aQ","=","GLSL_TEXTURE","(","u_color",",","A",")",";","GLSL_OUT_FRAG_COLOR","=","aQ",";","if","(","aQ",".","a","==","0.0",")","{","aQ","=","GLSL_TEXTURE","(","u_color",",","A","+","cH",")",";","if","(","aQ",".","a",">","0.0",")","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","aQ",".","a",")",";","else","{","aQ","=","GLSL_TEXTURE","(","u_color",",","A","-","cH",")",";","if","(","aQ",".","a",">","0.0",")","GLSL_OUT_FRAG_COLOR","=","vec4","(","1.0",",","1.0",",","1.0",",","aQ",".","a",")",";","}","}"]}]}},{TYPE:"elif",EXPRESSION:["POST_EFFECT","FLIP_CUBEMAP_COORDS",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ha","=","u_delta","[","0","]",";","float","hb","=","u_delta","[","1","]",";","float","hc","=","1.0","/","3.0",";","float","hd","=","0.5",";","vec2","he","=","vec2","(","hc",",","hd",")",";","if","(","u_tex_number","==","0",")","{","vec2","bN","=","mat2","(","0.0",",","-","1.0",",","1.0",",","0.0",")","*","A","*","he","+","vec2","(","2.0","*","hc",",","hd",")",";","bN","[","0","]","=","max","(","bN","[","0","]",",","2.0","*","hc","+","ha",")",";","bN","[","1","]","=","max","(","bN","[","1","]",",","hb",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bN","[","0","]",",","hd","-","bN","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","1",")","{","vec2","bN","=","mat2","(","0.0",",","-","1.0",",","1.0",",","0.0",")","*","A","*","he","+","vec2","(","0.0",",","hd",")",";","bN","[","0","]","=","max","(","bN","[","0","]",",","ha",")",";","bN","[","1","]","=","min","(","bN","[","1","]",",","hd","-","hb",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","hc","-","bN","[","0","]",",","bN","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","2",")","{","vec2","bN","=","A","*","he","+","vec2","(","2.0","*","hc",",","hd",")",";","bN","[","0","]","=","max","(","bN","[","0","]",",","2.0","*","hc","+","ha",")",";","bN","[","1","]","=","min","(","bN","[","1","]",",","1.0","-","hb",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bN","[","0","]",",","1.5","-","bN","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","3",")","{","vec2","bN","=","A","*","he","+","vec2","(","hc",",","0.0",")",";","bN","[","0","]","=","max","(","bN","[","0","]",",","hc","+","ha",")",";","bN","[","0","]","=","min","(","bN","[","0","]",",","2.0","*","hc","-","ha",")",";","bN","[","1","]","=","min","(","bN","[","1","]",",","hd","-","hb",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","1.0","-","bN","[","0","]",",","bN","[","1","]",")",")",";","}","else","if","(","u_tex_number","==","4",")","{","vec2","bN","=","A","*","he","+","vec2","(","hc",",","hd",")",";","bN","[","0","]","=","max","(","bN","[","0","]",",","hc","+","ha",")",";","bN","[","0","]","=","min","(","bN","[","0","]",",","2.0","*","hc","-","ha",")",";","bN","[","1","]","=","min","(","bN","[","1","]",",","1.0","-","hb",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","bN","[","0","]",",","3.0","*","hd","-","bN","[","1","]",")",")",";","}","else","{","vec2","bN","=","A","*","he","+","vec2","(","0.0",",","hd",")",";","bN","[","0","]","=","max","(","bN","[","0","]",",","ha",")",";","bN","[","1","]","=","min","(","bN","[","1","]",",","1.0","-","hb",")",";","bN","[","1","]","=","max","(","bN","[","1","]",",","hd","+","hb",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_color",",","vec2","(","hc","-","bN","[","0","]",",","bN","[","1","]",")",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/postprocessing.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","A",";","void","main","(",")","{","A","=","2.0","*","a_position",";","gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/smaa.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"SMAA_PASS",TOKENS:["SMAA_RESOLVE"]},{TYPE:"var",NAME:"SMAA_REPROJECTION",TOKENS:["0"]},{TYPE:"var",NAME:"SMAA_PREDICATION",TOKENS:["0"]},{TYPE:"var",NAME:"SMAA_DISABLE_CORNER_DETECTION",TOKENS:["0"]},{TYPE:"var",NAME:"AA_METHOD",TOKENS:["AA_METHOD_SMAA_ULTRA"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color_prev",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_blend",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_velocity_tex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2},"SMAA_PREDICATION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_predication_tex",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_search_tex",";","uniform","sampler2D","u_area_tex",";","uniform","vec4","u_subsample_indices",";"]}]}}]},{TYPE:"txt",TOKENS:["uniform","vec2","u_texel_size",";","GLSL_IN","vec2","A",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","hf",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec4","hg",";","GLSL_IN","vec4","hh",";","GLSL_IN","vec4","hi",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec2","hj",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.15"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_DISABLE_CORNER_DETECTION",TOKENS:["1"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["1"]},{TYPE:"define",NAME:"SMAA_DISABLE_CORNER_DETECTION",TOKENS:["1"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["0"]},{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["8"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_ULTRA",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.05"]},{TYPE:"define",NAME:"SMAA_DISABLE_DIAG_DETECTION",TOKENS:["0"]},{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["16"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_THRESHOLD",TOKENS:["0.1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_DEPTH_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_DEPTH_THRESHOLD",TOKENS:["(","0.1","*","SMAA_THRESHOLD",")"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS_DIAG",TOKENS:["8"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_CORNER_ROUNDING",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING",TOKENS:["25"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR",TOKENS:["2.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_THRESHOLD",TOKENS:["0.01"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_SCALE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_SCALE",TOKENS:["2.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_PREDICATION_STRENGTH",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_PREDICATION_STRENGTH",TOKENS:["0.4"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_REPROJECTION",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_REPROJECTION",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_REPROJECTION_WEIGHT_SCALE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_REPROJECTION_WEIGHT_SCALE",TOKENS:["30.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}}]},{TYPE:"define",NAME:"SMAA_AREATEX_MAX_DISTANCE",TOKENS:["16"]},{TYPE:"define",NAME:"SMAA_AREATEX_MAX_DISTANCE_DIAG",TOKENS:["20"]},{TYPE:"define",NAME:"SMAA_AREATEX_PIXEL_SIZE",TOKENS:["(","1.0","/","vec2","(","160.0",",","560.0",")",")"]},{TYPE:"define",NAME:"SMAA_AREATEX_SUBTEX_SIZE",TOKENS:["(","1.0","/","7.0",")"]},{TYPE:"define",NAME:"SMAA_SEARCHTEX_SIZE",TOKENS:["vec2","(","66.0",",","33.0",")"]},{TYPE:"define",NAME:"SMAA_SEARCHTEX_PACKED_SIZE",TOKENS:["vec2","(","64.0",",","16.0",")"]},{TYPE:"define",NAME:"SMAA_CORNER_ROUNDING_NORM",TOKENS:["(","float","(","SMAA_CORNER_ROUNDING",")","/","100.0",")"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","hn","(","vec2","bN",",","sampler2D","hk",")","{","float","p","=","GLSL_TEXTURE","(","hk",",","bN",")",".","r",";","float","hl","=","GLSL_TEXTURE","(","hk",",","hg",".","xy",")",".","r",";","float","hm","=","GLSL_TEXTURE","(","hk",",","hg",".","zw",")",".","r",";","return","vec3","(","p",",","hl",",","hm",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hr","(","vec2","bN",",","sampler2D","ho",")","{","vec3","hp","=","hn","(","bN",",","ho",")",";","vec2","cH","=","abs","(","hp",".","xx","-","hp",".","yz",")",";","vec2","hq","=","step","(","SMAA_PREDICATION_THRESHOLD",",","cH",")",";","return","SMAA_PREDICATION_SCALE","*","SMAA_THRESHOLD","*","(","1.0","-","SMAA_PREDICATION_STRENGTH","*","hq",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","hv","(","bvec2","hs",",","inout","vec2","ht",",","vec2","hu",")","{","if","(","hs",".","x",")","ht",".","x","=","hu",".","x",";","if","(","hs",".","y",")","ht",".","y","=","hu",".","y",";","}","void","hv","(","bvec4","hs",",","inout","vec4","ht",",","vec4","hu",")","{","hv","(","hs",".","xy",",","ht",".","xy",",","hu",".","xy",")",";","hv","(","hs",".","zw",",","ht",".","zw",",","hu",".","zw",")",";","}","vec2","hw","(","vec2","x",")","{","return","sign","(","x",")","*","floor","(","abs","(","x",")","+",".5",")",";","}","vec4","hw","(","vec4","x",")","{","return","sign","(","x",")","*","floor","(","abs","(","x",")","+",".5",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hJ","(","vec2","bN",",","sampler2D","hx"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","ho"]}]}}]},{TYPE:"txt",TOKENS:[")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hy","=","hr","(","bN",",","ho",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hy","=","vec2","(","SMAA_THRESHOLD",",","SMAA_THRESHOLD",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","hz","=","vec3","(","0.2126",",","0.7152",",","0.0722",")",";","float","hA","=","dot","(","GLSL_TEXTURE","(","hx",",","bN",")",".","rgb",",","hz",")",";","float","hB","=","dot","(","GLSL_TEXTURE","(","hx",",","hg",".","xy",")",".","rgb",",","hz",")",";","float","hC","=","dot","(","GLSL_TEXTURE","(","hx",",","hg",".","zw",")",".","rgb",",","hz",")",";","vec4","cH",";","cH",".","xy","=","abs","(","hA","-","vec2","(","hB",",","hC",")",")",";","vec2","hq","=","step","(","hy",",","cH",".","xy",")",";","if","(","dot","(","hq",",","vec2","(","1.0",",","1.0",")",")","==","0.0",")","discard",";","float","hD","=","dot","(","GLSL_TEXTURE","(","hx",",","hh",".","xy",")",".","rgb",",","hz",")",";","float","hE","=","dot","(","GLSL_TEXTURE","(","hx",",","hh",".","zw",")",".","rgb",",","hz",")",";","cH",".","zw","=","abs","(","hA","-","vec2","(","hD",",","hE",")",")",";","vec2","hF","=","max","(","cH",".","xy",",","cH",".","zw",")",";","float","hG","=","dot","(","GLSL_TEXTURE","(","hx",",","hi",".","xy",")",".","rgb",",","hz",")",";","float","hH","=","dot","(","GLSL_TEXTURE","(","hx",",","hi",".","zw",")",".","rgb",",","hz",")",";","cH",".","zw","=","abs","(","vec2","(","hB",",","hC",")","-","vec2","(","hG",",","hH",")",")",";","hF","=","max","(","hF",".","xy",",","cH",".","zw",")",";","float","hI","=","max","(","hF",".","x",",","hF",".","y",")",";","hq",".","xy","*=","step","(","hI",",","SMAA_LOCAL_CONTRAST_ADAPTATION_FACTOR","*","cH",".","xy",")",";","return","hq",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hL","(","vec2","hK",")","{","hK",".","r","=","hK",".","r","*","abs","(","5.0","*","hK",".","r","-","5.0","*","0.75",")",";","return","hw","(","hK",")",";","}","vec4","hL","(","vec4","hK",")","{","hK",".","rb","=","hK",".","rb","*","abs","(","5.0","*","hK",".","rb","-","5.0","*","0.75",")",";","return","hw","(","hK",")",";","}","vec2","hN","(","sampler2D","hM",",","vec2","bN",",","vec2","bp",",","out","vec2","hK",")","{","vec4","fu","=","vec4","(","bN",",","-","1.0",",","1.0",")",";","vec3","t","=","vec3","(","u_texel_size",",","1.0",")",";","for","(","int","bZ","=","0",";","bZ","<","SMAA_MAX_SEARCH_STEPS_DIAG",";","bZ","++",")","{","if","(","fu",".","z","<","float","(","SMAA_MAX_SEARCH_STEPS_DIAG","-","1",")","&&","fu",".","w",">","0.9",")","{","fu",".","xyz","+=","t","*","vec3","(","bp",",","1.0",")",";","hK","=","GLSL_TEXTURE","(","hM",",","fu",".","xy",",","0.0",")",".","rg",";","fu",".","w","=","dot","(","hK",",","vec2","(","0.5",",","0.5",")",")",";","}","}","return","fu",".","zw",";","}","vec2","hO","(","sampler2D","hM",",","vec2","bN",",","vec2","bp",",","out","vec2","hK",")","{","vec4","fu","=","vec4","(","bN",",","-","1.0",",","1.0",")",";","fu",".","x","+=","0.25","*","u_texel_size",".","x",";","vec3","t","=","vec3","(","u_texel_size",",","1.0",")",";","for","(","int","bZ","=","0",";","bZ","<","SMAA_MAX_SEARCH_STEPS_DIAG",";","bZ","++",")","{","if","(","fu",".","z","<","float","(","SMAA_MAX_SEARCH_STEPS_DIAG","-","1",")","&&","fu",".","w",">","0.9",")","{","fu",".","xyz","=","t","*","vec3","(","bp",",","1.0",")","+","fu",".","xyz",";","hK","=","GLSL_TEXTURE","(","hM",",","fu",".","xy",",","0.0",")",".","rg",";","hK","=","hL","(","hK",")",";","fu",".","w","=","dot","(","hK",",","vec2","(","0.5",",","0.5",")",")",";","}","}","return","fu",".","zw",";","}","vec2","hQ","(","sampler2D","hP",",","vec2","aM",",","vec2","hK",",","float","ff",")","{","vec2","bN","=","vec2","(","SMAA_AREATEX_MAX_DISTANCE_DIAG",",","SMAA_AREATEX_MAX_DISTANCE_DIAG",")","*","hK","+","aM",";","bN","=","SMAA_AREATEX_PIXEL_SIZE","*","bN","+","0.5","*","SMAA_AREATEX_PIXEL_SIZE",";","bN",".","x","+=","0.5",";","bN",".","y","+=","SMAA_AREATEX_SUBTEX_SIZE","*","ff",";","return","GLSL_TEXTURE","(","hP",",","bN",",","0.0",")",".","rg",";","}","vec2","hV","(","sampler2D","hM",",","sampler2D","hP",",","vec2","bN",",","vec2","hK",",","vec4","hR",")","{","vec2","hz","=","vec2","(","0.0",",","0.0",")",";","vec4","dn",";","vec2","hS",";","if","(","hK",".","r",">","0.0",")","{","dn",".","xz","=","hN","(","hM",",","bN",",","vec2","(","-","1.0",",","1.0",")",",","hS",")",";","dn",".","x","+=","float","(","hS",".","y",">","0.9",")",";","}","else","dn",".","xz","=","vec2","(","0.0",",","0.0",")",";","dn",".","yw","=","hN","(","hM",",","bN",",","vec2","(","1.0",",","-","1.0",")",",","hS",")",";","if","(","dn",".","x","+","dn",".","y",">","2.0",")","{","vec4","hT","=","vec4","(","-","dn",".","x","+","0.25",",","dn",".","x",",","dn",".","y",",","-","dn",".","y","-","0.25",")","*","u_texel_size",".","xyxy","+","bN",".","xyxy",";","vec4","di",";","di",".","xy","=","GLSL_TEXTURE","(","hM",",","hT",".","xy","+","u_texel_size","*","vec2","(","-","1",",","0",")",",","0.0",")",".","rg",";","di",".","zw","=","GLSL_TEXTURE","(","hM",",","hT",".","zw","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","rg",";","di",".","yxwz","=","hL","(","di",".","xyzw",")",";","vec2","hU","=","vec2","(","2.0",",","2.0",")","*","di",".","xz","+","di",".","yw",";","hv","(","bvec2","(","step","(","0.9",",","dn",".","zw",")",")",",","hU",",","vec2","(","0.0",",","0.0",")",")",";","hz","+=","hQ","(","hP",",","dn",".","xy",",","hU",",","hR",".","z",")",";","}","dn",".","xz","=","hO","(","hM",",","bN",",","vec2","(","-","1",",","-","1",")",",","hS",")",";","if","(","GLSL_TEXTURE","(","hM",",","bN","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","r",">","0.0",")","{","dn",".","yw","=","hO","(","hM",",","bN",",","vec2","(","1",",","1",")",",","hS",")",";","dn",".","y","+=","float","(","hS",".","y",">","0.9",")",";","}","else","dn",".","yw","=","vec2","(","0.0",",","0.0",")",";","if","(","dn",".","x","+","dn",".","y",">","2.0",")","{","vec4","hT","=","vec4","(","-","dn",".","x",",","-","dn",".","x",",","dn",".","y",",","dn",".","y",")","*","u_texel_size",".","xyxy","+","bN",".","xyxy",";","vec4","di",";","di",".","x","=","GLSL_TEXTURE","(","hM",",","hT",".","xy","+","u_texel_size","*","vec2","(","-","1",",","0",")",",","0.0",")",".","g",";","di",".","y","=","GLSL_TEXTURE","(","hM",",","hT",".","xy","+","u_texel_size","*","vec2","(","0",",","-","1",")",",","0.0",")",".","r",";","di",".","zw","=","GLSL_TEXTURE","(","hM",",","hT",".","zw","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","gr",";","vec2","hU","=","vec2","(","2.0",",","2.0",")","*","di",".","xz","+","di",".","yw",";","hv","(","bvec2","(","step","(","0.9",",","dn",".","zw",")",")",",","hU",",","vec2","(","0",",","0",")",")",";","hz","+=","hQ","(","hP",",","dn",".","xy",",","hU",",","hR",".","w",")",".","gr",";","}","return","hz",";","}"]}]}}]},{TYPE:"txt",TOKENS:["float","hY","(","sampler2D","hW",",","vec2","hK",",","float","ff",")","{","vec2","he","=","SMAA_SEARCHTEX_SIZE","*","vec2","(","0.5",",","-","1.0",")",";","vec2","hX","=","SMAA_SEARCHTEX_SIZE","*","vec2","(","ff",",","1.0",")",";","he","+=","vec2","(","-","1.0",",","1.0",")",";","hX","+=","vec2","(","0.5",",","-","0.5",")",";","he","*=","1.0","/","SMAA_SEARCHTEX_PACKED_SIZE",";","hX","*=","1.0","/","SMAA_SEARCHTEX_PACKED_SIZE",";","return","GLSL_TEXTURE","(","hW",",","he","*","hK","+","hX",",","0.0",")",".","r",";","}","float","hZ","(","sampler2D","hM",",","sampler2D","hW",",","vec2","bN",",","float","hS",")","{","vec2","hK","=","vec2","(","0.0",",","1.0",")",";","for","(","int","bZ","=","0",";","bZ","<","SMAA_MAX_SEARCH_STEPS",";","bZ","++",")","{","if","(","bN",".","x",">","hS","&&","hK",".","g",">","0.8281","&&","hK",".","r","==","0.0",")","{","hK","=","GLSL_TEXTURE","(","hM",",","bN",",","0.0",")",".","rg",";","bN","=","-","vec2","(","2.0",",","0.0",")","*","u_texel_size","+","bN",";","}","}","float","ff","=","-","(","255.0","/","127.0",")","*","hY","(","hW",",","hK",",","0.0",")","+","3.25",";","return","u_texel_size",".","x","*","ff","+","bN",".","x",";","}","float","h_","(","sampler2D","hM",",","sampler2D","hW",",","vec2","bN",",","float","hS",")","{","vec2","hK","=","vec2","(","0.0",",","1.0",")",";","for","(","int","bZ","=","0",";","bZ","<","SMAA_MAX_SEARCH_STEPS",";","bZ","++",")","{","if","(","bN",".","x","<","hS","&&","hK",".","g",">","0.8281","&&","hK",".","r","==","0.0",")","{","hK","=","GLSL_TEXTURE","(","hM",",","bN",",","0.0",")",".","rg",";","bN","=","vec2","(","2.0",",","0.0",")","*","u_texel_size","+","bN",";","}","}","float","ff","=","-","(","255.0","/","127.0",")","*","hY","(","hW",",","hK",",","0.5",")","+","3.25",";","return","-","u_texel_size",".","x","*","ff","+","bN",".","x",";","}","float","ia","(","sampler2D","hM",",","sampler2D","hW",",","vec2","bN",",","float","hS",")","{","vec2","hK","=","vec2","(","1.0",",","0.0",")",";","for","(","int","bZ","=","0",";","bZ","<","SMAA_MAX_SEARCH_STEPS",";","bZ","++",")","{","if","(","bN",".","y",">","hS","&&","hK",".","r",">","0.8281","&&","hK",".","g","==","0.0",")","{","hK","=","GLSL_TEXTURE","(","hM",",","bN",",","0.0",")",".","rg",";","bN","=","-","vec2","(","0.0",",","2.0",")","*","u_texel_size","+","bN",";","}","}","float","ff","=","-","(","255.0","/","127.0",")","*","hY","(","hW",",","hK",".","gr",",","0.0",")","+","3.25",";","return","u_texel_size",".","y","*","ff","+","bN",".","y",";","}","float","ib","(","sampler2D","hM",",","sampler2D","hW",",","vec2","bN",",","float","hS",")","{","vec2","hK","=","vec2","(","1.0",",","0.0",")",";","for","(","int","bZ","=","0",";","bZ","<","SMAA_MAX_SEARCH_STEPS",";","bZ","++",")","{","if","(","bN",".","y","<","hS","&&","hK",".","r",">","0.8281","&&","hK",".","g","==","0.0",")","{","hK","=","GLSL_TEXTURE","(","hM",",","bN",",","0.0",")",".","rg",";","bN","=","vec2","(","0.0",",","2.0",")","*","u_texel_size","+","bN",";","}","}","float","ff","=","-","(","255.0","/","127.0",")","*","hY","(","hW",",","hK",".","gr",",","0.5",")","+","3.25",";","return","-","u_texel_size",".","y","*","ff","+","bN",".","y",";","}","vec2","ie","(","sampler2D","hP",",","vec2","aM",",","float","ic",",","float","id",",","float","ff",")","{","vec2","bN","=","vec2","(","SMAA_AREATEX_MAX_DISTANCE",",","SMAA_AREATEX_MAX_DISTANCE",")","*","hw","(","4.0","*","vec2","(","ic",",","id",")",")","+","aM",";","bN","=","SMAA_AREATEX_PIXEL_SIZE","*","bN","+","0.5","*","SMAA_AREATEX_PIXEL_SIZE",";","bN",".","y","=","SMAA_AREATEX_SUBTEX_SIZE","*","ff","+","bN",".","y",";","return","GLSL_TEXTURE","(","hP",",","bN",",","0.0",")",".","rg",";","}","void","ii","(","sampler2D","hM",",","inout","vec2","hz",",","vec4","bN",",","vec2","dn",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_CORNER_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ig","=","step","(","dn",".","xy",",","dn",".","yx",")",";","vec2","ih","=","(","1.0","-","SMAA_CORNER_ROUNDING_NORM",")","*","ig",";","ih","/=","ig",".","x","+","ig",".","y",";","vec2","aL","=","vec2","(","1.0",",","1.0",")",";","aL",".","x","-=","ih",".","x","*","GLSL_TEXTURE","(","hM",",","bN",".","xy","+","u_texel_size","*","vec2","(","0",",","1",")",",","0.0",")",".","r",";","aL",".","x","-=","ih",".","y","*","GLSL_TEXTURE","(","hM",",","bN",".","zw","+","u_texel_size","*","vec2","(","1",",","1",")",",","0.0",")",".","r",";","aL",".","y","-=","ih",".","x","*","GLSL_TEXTURE","(","hM",",","bN",".","xy","+","u_texel_size","*","vec2","(","0",",","-","2",")",",","0.0",")",".","r",";","aL",".","y","-=","ih",".","y","*","GLSL_TEXTURE","(","hM",",","bN",".","zw","+","u_texel_size","*","vec2","(","1",",","-","2",")",",","0.0",")",".","r",";","hz","*=","clamp","(","aL",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","ij","(","sampler2D","hM",",","inout","vec2","hz",",","vec4","bN",",","vec2","dn",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_CORNER_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","ig","=","step","(","dn",".","xy",",","dn",".","yx",")",";","vec2","ih","=","(","1.0","-","SMAA_CORNER_ROUNDING_NORM",")","*","ig",";","ih","/=","ig",".","x","+","ig",".","y",";","vec2","aL","=","vec2","(","1.0",",","1.0",")",";","aL",".","x","-=","ih",".","x","*","GLSL_TEXTURE","(","hM",",","bN",".","xy","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","g",";","aL",".","x","-=","ih",".","y","*","GLSL_TEXTURE","(","hM",",","bN",".","zw","+","u_texel_size","*","vec2","(","1",",","1",")",",","0.0",")",".","g",";","aL",".","y","-=","ih",".","x","*","GLSL_TEXTURE","(","hM",",","bN",".","xy","+","u_texel_size","*","vec2","(","-","2",",","0",")",",","0.0",")",".","g",";","aL",".","y","-=","ih",".","y","*","GLSL_TEXTURE","(","hM",",","bN",".","zw","+","u_texel_size","*","vec2","(","-","2",",","1",")",",","0.0",")",".","g",";","hz","*=","clamp","(","aL",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","im","(","vec2","bN",",","vec2","ik",",","sampler2D","hM",",","sampler2D","hP",",","sampler2D","hW",",","vec4","hR",")","{","vec4","hz","=","vec4","(","0.0",",","0.0",",","0.0",",","0.0",")",";","vec2","hK","=","GLSL_TEXTURE","(","hM",",","bN",")",".","rg",";","if","(","hK",".","g",">","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["hz",".","rg","=","hV","(","hM",",","hP",",","bN",",","hK",",","hR",")",";","if","(","hz",".","r","==","-","hz",".","g",")","{"]}]}}]},{TYPE:"txt",TOKENS:["vec2","dn",";","vec3","hT",";","hT",".","x","=","hZ","(","hM",",","hW",",","hg",".","xy",",","hi",".","x",")",";","hT",".","y","=","hh",".","y",";","dn",".","x","=","hT",".","x",";","float","ic","=","GLSL_TEXTURE","(","hM",",","hT",".","xy",",","0.0",")",".","r",";","hT",".","z","=","h_","(","hM",",","hW",",","hg",".","zw",",","hi",".","y",")",";","dn",".","y","=","hT",".","z",";","dn","=","abs","(","hw","(","dn","/","u_texel_size",".","xx","-","ik",".","xx",")",")",";","vec2","il","=","sqrt","(","dn",")",";","float","id","=","GLSL_TEXTURE","(","hM",",","hT",".","zy","+","u_texel_size","*","vec2","(","1",",","0",")",",","0.0",")",".","r",";","hz",".","rg","=","ie","(","hP",",","il",",","ic",",","id",",","hR",".","y",")",";","hT",".","y","=","bN",".","y",";","ii","(","hM",",","hz",".","rg",",","hT",".","xyzy",",","dn",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_DISABLE_DIAG_DETECTION",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["}","else","hK",".","r","=","0.0",";"]}]}}]},{TYPE:"txt",TOKENS:["}","if","(","hK",".","r",">","0.0",")","{","vec2","dn",";","vec3","hT",";","hT",".","y","=","ia","(","hM",",","hW",",","hh",".","xy",",","hi",".","z",")",";","hT",".","x","=","hg",".","x",";","dn",".","x","=","hT",".","y",";","float","ic","=","GLSL_TEXTURE","(","hM",",","hT",".","xy",",","0.0",")",".","g",";","hT",".","z","=","ib","(","hM",",","hW",",","hh",".","zw",",","hi",".","w",")",";","dn",".","y","=","hT",".","z",";","dn","=","abs","(","hw","(","dn","/","u_texel_size",".","yy","-","ik",".","yy",")",")",";","vec2","il","=","sqrt","(","dn",")",";","float","id","=","GLSL_TEXTURE","(","hM",",","hT",".","xz","+","u_texel_size","*","vec2","(","0",",","1",")",",","0.0",")",".","g",";","hz",".","ba","=","ie","(","hP",",","il",",","ic",",","id",",","hR",".","x",")",";","hT",".","x","=","bN",".","x",";","ij","(","hM",",","hz",".","ba",",","hT",".","xyxz",",","dn",")",";","}","return","hz",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iw","(","vec2","bN",",","sampler2D","hx",",","sampler2D","io"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","ip"]}]}}]},{TYPE:"txt",TOKENS:[")","{","vec4","a",";","a",".","x","=","GLSL_TEXTURE","(","io",",","hf",".","xy",")",".","a",";","a",".","y","=","GLSL_TEXTURE","(","io",",","hf",".","zw",")",".","g",";","a",".","wz","=","GLSL_TEXTURE","(","io",",","bN",")",".","xz",";","if","(","dot","(","a",",","vec4","(","1.0",",","1.0",",","1.0",",","1.0",")",")","<","1e-5",")","{","vec4","aQ","=","GLSL_TEXTURE","(","hx",",","bN",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iq","=","GLSL_TEXTURE","(","ip",",","A",")",";","vec2","da","=","2.0","*","ir","(","iq",")","-","1.0",";","aQ",".","a","=","sqrt","(","2.0","*","length","(","da",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aQ",";","}","else","{","bool","bX","=","max","(","a",".","x",",","a",".","z",")",">","max","(","a",".","y",",","a",".","w",")",";","vec4","is","=","vec4","(","0.0",",","a",".","y",",","0.0",",","a",".","w",")",";","vec2","it","=","a",".","yw",";","hv","(","bvec4","(","bX",",","bX",",","bX",",","bX",")",",","is",",","vec4","(","a",".","x",",","0.0",",","a",".","z",",","0.0",")",")",";","hv","(","bvec2","(","bX",",","bX",")",",","it",",","a",".","xz",")",";","it","/=","dot","(","it",",","vec2","(","1.0",",","1.0",")",")",";","vec4","iu","=","is","*","vec4","(","u_texel_size",",","-","u_texel_size",")","+","bN",".","xyxy",";","vec4","aQ","=","it",".","x","*","GLSL_TEXTURE","(","hx",",","iu",".","xy",",","0.0",")",";","aQ","+=","it",".","y","*","GLSL_TEXTURE","(","hx",",","iu",".","zw",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iq","=","GLSL_TEXTURE","(","ip",",","iu",".","xy",")",";","vec2","iv","=","2.0","*","ir","(","iq",")","-","1.0",";","vec2","da","=","it",".","x","*","iv",";","iq","=","GLSL_TEXTURE","(","ip",",","iu",".","zw",")",";","iv","=","2.0","*","ir","(","iq",")","-","1.0",";","da","+=","it",".","y","*","iv",";","aQ",".","a","=","sqrt","(","2.0","*","length","(","da",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aQ",";","}","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iB","(","vec2","bN",",","sampler2D","ix",",","sampler2D","iy"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","sampler2D","ip"]}]}}]},{TYPE:"txt",TOKENS:[")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iq","=","GLSL_TEXTURE","(","ip",",","A",")",";","vec2","da",";","da","=","2.0","*","ir","(","iq",")","-","1.0",";","vec4","iz","=","GLSL_TEXTURE","(","ix",",","bN",")",";","vec4","iA","=","GLSL_TEXTURE","(","iy",",","bN","-","da",")",";","float","cH","=","abs","(","iz",".","a","*","iz",".","a","-","iA",".","a","*","iA",".","a",")","/","2.0",";","float","cc","=","0.5","*","clamp","(","1.0","-","sqrt","(","cH",")","*","SMAA_REPROJECTION_WEIGHT_SCALE",",","0.0",",","1.0",")",";","vec4","aQ","=","mix","(","iz",",","iA",",","cc",")",";","aQ",".","a","=","1.0",";","return","aQ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","iz","=","GLSL_TEXTURE","(","ix",",","bN",")",";","vec4","iA","=","GLSL_TEXTURE","(","iy",",","bN",")",";","return","mix","(","iz",",","iA",",","0.5",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aQ","=","vec4","(","hJ","(","A",",","u_color"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PREDICATION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_predication_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",",","0.0",",","0.0",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aQ","=","im","(","A",",","hj",",","u_color",",","u_area_tex",",","u_search_tex",",","u_subsample_indices",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aQ","=","iw","(","A",",","u_color",",","u_blend"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_velocity_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_RESOLVE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aQ","=","vec4","(","iB","(","A",",","u_color",",","u_color_prev"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_REPROJECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[",","u_velocity_tex"]}]}}]},{TYPE:"txt",TOKENS:[")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","aQ","=","GLSL_TEXTURE","(","u_color",",","A",")",";"]}]}}]},{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","aQ",";","}"]}]},exports["postprocessing/smaa.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SMAA_PASS",TOKENS:["SMAA_RESOLVE"]},{TYPE:"var",NAME:"AA_METHOD",TOKENS:["AA_METHOD_SMAA_LOW"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["uniform","PRECISION","vec2","u_texel_size",";","GLSL_IN","vec2","a_position",";","GLSL_OUT","vec2","A",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","hf",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec4","hg",";","GLSL_OUT","vec4","hh",";","GLSL_OUT","vec4","hi",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT","vec2","hj",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_LOW",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["4"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_MEDIUM",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["8"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_HIGH",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}},{TYPE:"elif",EXPRESSION:["AA_METHOD","AA_METHOD_SMAA_ULTRA",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["32"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SMAA_MAX_SEARCH_STEPS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SMAA_MAX_SEARCH_STEPS",TOKENS:["16"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","iC","(","vec2","bN",")","{","hg","=","u_texel_size",".","xyxy","*","vec4","(","-","1.0",",","0.0",",","0.0",",","-","1.0",")","+","bN",".","xyxy",";","hh","=","u_texel_size",".","xyxy","*","vec4","(","1.0",",","0.0",",","0.0",",","1.0",")","+","bN",".","xyxy",";","hi","=","u_texel_size",".","xyxy","*","vec4","(","-","2.0",",","0.0",",","0.0",",","-","2.0",")","+","bN",".","xyxy",";","}"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","iD","(","vec2","bN",",","out","vec2","ik",")","{","ik","=","bN","/","u_texel_size",";","hg","=","u_texel_size",".","xyxy","*","vec4","(","-","0.25",",","-","0.125",",","1.25",",","-","0.125",")","+","bN",".","xyxy",";","hh","=","u_texel_size",".","xyxy","*","vec4","(","-","0.125",",","-","0.25",",","-","0.125",",","1.25",")","+","bN",".","xyxy",";","hi","=","u_texel_size",".","xxyy","*","vec4","(","-","2.0",",","2.0",",","-","2.0",",","2.0",")","*","float","(","SMAA_MAX_SEARCH_STEPS",")","+","vec4","(","hg",".","xz",",","hh",".","yw",")",";","}"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","iE","(","vec2","bN",")","{","hf","=","u_texel_size",".","xyxy","*","vec4","(","1.0",",","0.0",",","0.0",",","1.0",")","+","bN",".","xyxy",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","A","=","2.0","*","a_position",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SMAA_PASS","SMAA_EDGE_DETECTION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iC","(","A",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_BLENDING_WEIGHT_CALCULATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iD","(","A",",","hj",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SMAA_PASS","SMAA_NEIGHBORHOOD_BLENDING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iE","(","A",")",";"]}]}}]},{TYPE:"txt",TOKENS:["gl_Position","=","vec4","(","4.0","*","(","a_position",".","xy","-","0.25",")",",","0.0",",","1.0",")",";","}"]}]},exports["postprocessing/ssao.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SSAO_WHITE",TOKENS:["0"]},{TYPE:"var",NAME:"SSAO_QUALITY",TOKENS:["SSAO_QUALITY_8"]},{TYPE:"var",NAME:"SSAO_HEMISPHERE",TOKENS:["0"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"depth_fetch.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_color",";","uniform","sampler2D","u_depth",";","uniform","sampler2D","u_ssao_special_tex",";","uniform","vec2","u_camera_range",";","uniform","vec2","u_texel_size",";","uniform","float","u_ssao_radius_increase",";","uniform","float","u_ssao_influence",";","uniform","float","u_ssao_dist_factor",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","float","iF","(","in","vec2","fu",")","{","return","fT","(","u_depth",",","fu",",","u_camera_range",")",";","}","void","main","(",")","{","vec3","fX","=","GLSL_TEXTURE","(","u_color",",","A",")",".","rgb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_WHITE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","fX",",","1.0",")",";","return",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","iG","=","normalize","(","2.0","*","GLSL_TEXTURE","(","u_ssao_special_tex",",","A","*","0.25","/","u_texel_size",")",".","rgb","-","1.0",")",";","float","dM","=","iF","(","A",")",";","float","iH","=","dM","*","(","u_camera_range",".","y","-","u_camera_range",".","x",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_8",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","iI","=","8.0",";","const","int","iJ","=","1",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_16",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","iI","=","16.0",";","const","int","iJ","=","2",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_24",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","iI","=","24.0",";","const","int","iJ","=","3",";"]}]}},{TYPE:"elif",EXPRESSION:["SSAO_QUALITY","SSAO_QUALITY_32",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","iI","=","32.0",";","const","int","iJ","=","4",";"]}]}}]},{TYPE:"txt",TOKENS:["float","iK","=","u_ssao_radius_increase","*","0.001",";","const","float","iL","=","1.0","+","2.4","/","iI",";","float","iM","=","0.0",";","for","(","int","bZ","=","0",";","bZ","<","iJ",";","bZ","++",")","for","(","int","x","=","-","1",";","x","<=","1",";","x","+=","2",")","for","(","int","y","=","-","1",";","y","<=","1",";","y","+=","2",")","for","(","int","z","=","-","1",";","z","<=","1",";","z","+=","2",")","{","vec3","iN","=","reflect","(","normalize","(","vec3","(","x",",","y",",","z",")",")",",","iG",")","*","(","iK","*=","iL",")",";","vec3","iO","=","vec3","(","A",",","iH",")",";","iO","+=","vec3","(","iN",".","xy",",","iN",".","z","*","iH","*","2.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iO",".","z","-=","1.4","*","(","iO",".","z","-","iH",")","*","step","(","iH",",","iO",".","z",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","iP","=","iF","(","iO",".","xy",")","*","(","u_camera_range",".","y","-","u_camera_range",".","x",")",";","float","iQ","=","clamp","(","(","iH","-","iP",")","/","iP",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iM","+=","mix","(","1.0",",","iQ",",","step","(","iP",",","iO",".","z",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iM","+=","mix","(","step","(","iO",".","z",",","iP",")",",","0.5",",","iQ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","iM","=","iM","/","iI",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_HEMISPHERE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iM","=","clamp","(","iM","*","iM","+","0.6","*","iM",",","0.0",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iM","=","clamp","(","iM","*","iM","+","iM",",","0.0",",","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","iR","=","u_ssao_influence","*","(","1.0","-","u_ssao_dist_factor","*","dM",")",";","iM","=","mix","(","1.0",",","iM",",","iR",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","fX",",","iM",")",";","}"]}]},exports["postprocessing/ssao_blur.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SSAO_BLUR_DEPTH",TOKENS:["0"]},{TYPE:"txt",TOKENS:["precision","PRECISION","sampler2D",";"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"depth_fetch.glslf"}]}}]},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_ssao_mask",";","uniform","vec2","u_texel_size",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","vec2","u_camera_range",";","uniform","float","u_ssao_blur_discard_value",";","float","iF","(","in","vec2","fu",")","{","return","fT","(","u_depth",",","fu",",","u_camera_range",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{","float","iS","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","iT","=","iF","(","A",")",";","float","cc","=","0.0",";","float","iU","=","u_ssao_blur_discard_value","*","100.0",";"]}]}}]},{TYPE:"txt",TOKENS:["vec2","iV","=","vec2","(","-","2.0",")",";","for","(","int","bZ","=","0",";","bZ","<","4",";","++","bZ",")","{","for","(","int","iW","=","0",";","iW","<","4",";","++","iW",")","{","vec2","ff","=","(","iV","+","vec2","(","float","(","bZ",")",",","float","(","iW",")",")",")","*","u_texel_size",";","float","iX","=","GLSL_TEXTURE","(","u_ssao_mask",",","A","+","ff",")",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","iY","=","iF","(","A","+","ff",")",";","float","iZ","=","1.0","-","clamp","(","abs","(","iY","-","iT",")","*","iU",",","0.0",",","1.0",")",";","iS","+=","iX","*","iZ",";","cc","+=","iZ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iS","+=","iX",";"]}]}}]},{TYPE:"txt",TOKENS:["}","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SSAO_BLUR_DEPTH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","GLSL_TEXTURE","(","u_ssao_mask",",","A",")",".","rgb",",","iS","/","cc",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_OUT_FRAG_COLOR","=","vec4","(","GLSL_TEXTURE","(","u_ssao_mask",",","A",")",".","rgb",",","iS","/","16.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/stereo.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"var",NAME:"ANAGLYPH",TOKENS:["0"]},{TYPE:"var",NAME:"EPSILON",TOKENS:["0.000001"]},{TYPE:"var",NAME:"DISTOR_SCALE",TOKENS:["0.8"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_sampler_left",";","uniform","sampler2D","u_sampler_right",";","uniform","vec2","u_texel_size",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ANAGLYPH",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["uniform","int","u_enable_hmd_stereo",";","uniform","vec4","u_distortion_params",";","uniform","vec4","u_chromatic_aberration_coefs",";","void","ji","(","vec2","bN",",","vec2","ao",",","float","cV",",","sampler2D","i_",")","{","vec2","ja","=","(","bN","-","ao",")","*","4.0","*","u_texel_size","[","0","]","/","u_texel_size","[","1","]","/","cV",";","float","jb","=","ja",".","x","*","ja",".","x","+","ja",".","y","*","ja",".","y",";","vec2","jc","=","ja","*","(","1.0","+","u_distortion_params","[","0","]","*","jb","+","u_distortion_params","[","1","]","*","jb","*","jb",")",";","vec2","jd","=","jc","*","0.5","/","(","1.0","+","u_distortion_params","[","0","]","+","u_distortion_params","[","1","]",")",";","if","(","length","(","u_chromatic_aberration_coefs",")",">","0.0",")","{","vec2","je","=","jd","*","(","1.0","+","u_chromatic_aberration_coefs","[","0","]","+","jb","*","u_chromatic_aberration_coefs","[","1","]",")","+","0.5",";","vec2","jf","=","jd","+","0.5",";","vec2","jg","=","jd","*","(","1.0","+","u_chromatic_aberration_coefs","[","2","]","+","jb","*","u_chromatic_aberration_coefs","[","3","]",")","+","0.5",";","if","(","clamp","(","jg",",","0.0",",","1.0",")","!=","jg",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","0.0",")",";","}","else","{","vec4","jh","=","GLSL_TEXTURE","(","i_",",","jf",")",";","GLSL_OUT_FRAG_COLOR","[","0","]","=","GLSL_TEXTURE","(","i_",",","je",")",".","x",";","GLSL_OUT_FRAG_COLOR","[","1","]","=","jh",".","y",";","GLSL_OUT_FRAG_COLOR","[","2","]","=","GLSL_TEXTURE","(","i_",",","jg",")",".","z",";","GLSL_OUT_FRAG_COLOR","[","3","]","=","jh",".","w",";","}","}","else","{","jd","+=","0.5",";","if","(","clamp","(","jd",",","0.0",",","1.0",")","!=","jd",")","{","GLSL_OUT_FRAG_COLOR","=","vec4","(","0.0",")",";","}","else","{","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","i_",",","jd",")",";","}","}","}"]}]}}]},{TYPE:"txt",TOKENS:["void","main","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["ANAGLYPH"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","jj","=","GLSL_TEXTURE","(","u_sampler_left",",","A",")",";","vec4","jk","=","GLSL_TEXTURE","(","u_sampler_right",",","A",")",";","vec3","jl","=","vec3","(","jj","[","0","]",",","jj","[","1","]",",","jj","[","2","]",")",";","cg","(","jl",")",";","vec3","jm","=","vec3","(","jk","[","0","]",",","jk","[","1","]",",","jk","[","2","]",")",";","cg","(","jm",")",";","mat3","jn","=","mat3","(","0.437",",","-","0.062",",","-","0.048",",","0.449",",","-","0.062",",","-","0.050",",","0.164",",","-","0.024",",","-","0.017",")",";","mat3","jo","=","mat3","(","-","0.011",",","0.377",",","-","0.026",",","-","0.032",",","0.761",",","-","0.093",",","-","0.007",",","0.009",",","1.234",")",";","vec3","aQ","=","clamp","(","jn","*","jl",",","0.0",",","1.0",")","+","clamp","(","jo","*","jm",",","0.0",",","1.0",")",";","aW","(","aQ",")",";","GLSL_OUT_FRAG_COLOR","=","vec4","(","aQ",",","jj","[","3","]","+","jk","[","3","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","u_enable_hmd_stereo","!=","0",")","{","if","(","abs","(","u_distortion_params","[","0","]",")",">","EPSILON","||","abs","(","u_distortion_params","[","1","]",")",">","EPSILON",")","if","(","A","[","0","]","<","0.5",")","{","vec2","bN","=","vec2","(","2.0","*","A","[","0","]",",","A","[","1","]",")",";","vec2","ao","=","vec2","(","0.5","-","(","u_distortion_params","[","3","]","-","0.5",")","/","2.0",",","u_distortion_params","[","2","]",")",";","float","cV","=","2.0","*","u_distortion_params","[","3","]","*","DISTOR_SCALE",";","ji","(","bN",",","ao",",","cV",",","u_sampler_left",")",";","}","else","{","vec2","bN","=","vec2","(","2.0","*","(","A","[","0","]","-","0.5",")",",","A","[","1","]",")",";","vec2","ao","=","vec2","(","0.5","+","(","u_distortion_params","[","3","]","-","0.5",")","/","2.0",",","u_distortion_params","[","2","]",")",";","float","cV","=","2.0","*","u_distortion_params","[","3","]","*","DISTOR_SCALE",";","ji","(","bN",",","ao",",","cV",",","u_sampler_right",")",";","}","else","if","(","A","[","0","]","<","0.5",")","{","vec2","bN","=","vec2","(","2.0","*","A","[","0","]",",","A","[","1","]",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_sampler_left",",","bN",")",";","}","else","{","vec2","bN","=","vec2","(","2.0","*","(","A","[","0","]","-","0.5",")",",","A","[","1","]",")",";","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_sampler_right",",","bN",")",";","}","}","else","{","GLSL_OUT_FRAG_COLOR","=","GLSL_TEXTURE","(","u_sampler_left",",","A",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]},exports["postprocessing/velocity.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"version",TOKENS:["GLSL_VERSION"]},{TYPE:"include",FILE:"precision_statement.glslf"},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"pack.glslf"},{TYPE:"txt",TOKENS:["uniform","sampler2D","u_depth",";","uniform","mat4","u_view_proj_inverse",";","uniform","mat4","u_view_proj_prev",";","GLSL_IN","vec2","A",";","GLSL_OUT","vec4","GLSL_OUT_FRAG_COLOR",";","void","main","(",")","{","float","dM","=","GLSL_TEXTURE","(","u_depth",",","A",")",".","x",";","vec4","jp","=","vec4","(","A","*","2.0","-","1.0",",","2.0","*","dM","-","1.0",",","1.0",")",";","vec4","cm","=","u_view_proj_inverse","*","jp",";","vec4","jq","=","cm","/","cm",".","w",";","vec4","jr","=","u_view_proj_prev","*","jq",";","jr","/=","jr",".","w",";","vec2","da","=","(","jp",".","xy","-","jr",".","xy",")","/","4.0","+","0.5",";","da","=","clamp","(","da",",","0.0",",","1.0",")",";","GLSL_OUT_FRAG_COLOR","=","dN","(","da",")",";","}"]}]},exports["include/blending.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"BLENDING_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"BLENDING_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec3","jt","(","vec3","rgb",")","{","vec4","js","=","vec4","(","_0_0",",","-","_1_0","/","3.0",",","2.0","/","3.0",",","-","_1_0",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","js",".","wz",")",",","vec4","(","rgb",".","gb",",","js",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","dn","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","hK","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","dn","+","hK",")",")",",","dn","/","(","q",".","x","+","hK",")",",","q",".","x",")",";","}","vec3","jv","(","vec3","ju",")","{","vec4","js","=","vec4","(","_1_0",",","2.0","/","3.0",",","_1_0","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","ju",".","r",",","ju",".","r",",","ju",".","r",")","+","js",".","xyz",")","*","6.0","-","js",".","www",")",";","return","ju",".","b","*","mix","(","js",".","xxx",",","clamp","(","p","-","js",".","xxx",",","_0_0",",","_1_0",")",",","ju",".","g",")",";","}","vec3","jz","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","return","mix","(","jw",",","jx",",","jy",")",";","}","vec3","jA","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","return","jy","*","jw","+","jx",";","}","vec3","jB","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","return","jx","-","jy","*","jw",";","}","vec3","jD","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","float","jC","=","_1_0","-","jy",";","return","(","vec3","(","jC",")","+","jy","*","jw",")","*","jx",";","}","vec3","jE","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","vec3","jC","=","vec3","(","_1_0","-","jy",")",";","return","vec3","(","_1_0",")","-","(","jC","+","jy","*","(","vec3","(","_1_0",")","-","jw",")",")","*","(","vec3","(","_1_0",")","-","jx",")",";","}","vec3","jF","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","vec3","jC","=","vec3","(","_1_0","-","jy",")",";","return","mix","(","jx","*","(","jC","+","2.0","*","jy","*","jw",")",",","vec3","(","_1_0",")","-","(","jC","+","2.0","*","jy","*","(","vec3","(","_1_0",")","-","jw",")",")","*","(","vec3","(","_1_0",")","-","jx",")",",","step","(","0.5",",","jx",")",")",";","}","vec3","jG","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","return","mix","(","jx",",","abs","(","jw","-","jx",")",",","jy",")",";","}","vec3","jH","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","return","mix","(","jx",",","jx","/","(","jw","+","step","(","jw",",","vec3","(","_0_0",")",")",")",",","jy",")",";","}","vec3","jI","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","return","mix","(","jx",",","min","(","jw",",","jx",")",",","jy",")",";","}","vec3","jJ","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","return","max","(","jy","*","jw",",","jx",")",";","}","vec3","jN","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","vec3","jK","=","jt","(","jx",")",";","if","(","jK",".","y","!=","_0_0",")","{","vec3","jL","=","jt","(","jw",")",";","vec3","jM","=","jv","(","vec3","(","jK",".","x",",","jL",".","yz",")",")",";","return","mix","(","jw",",","jM",",","jy",")",";","}","return","jw",";","}","vec3","jO","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","vec3","jK","=","jt","(","jw",")",";","if","(","jK",".","y","!=","_0_0",")","{","vec3","jL","=","jt","(","jx",")",";","return","jv","(","vec3","(","jK",".","x",",","mix","(","jK",".","y",",","jL",".","y",",","jy",")",",","jK",".","z",")",")",";","}","return","jw",";","}","vec3","jP","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","vec3","jK","=","jt","(","jw",")",";","vec3","jL","=","jt","(","jx",")",";","return","jv","(","vec3","(","jK",".","xy",",","mix","(","jK",".","z",",","jL",".","z",",","jy",")",")",")",";","}","vec3","jQ","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","vec3","jK","=","jt","(","jx",")",";","if","(","jK",".","y","!=","_0_0",")","{","vec3","jL","=","jt","(","jw",")",";","vec3","jM","=","jv","(","vec3","(","jK",".","xy",",","jL",".","z",")",")",";","return","mix","(","jw",",","jM",",","jy",")",";","}","return","jw",";","}","vec3","jS","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","vec3","jR","=","vec3","(","_1_0",")","-","(","vec3","(","_1_0",")","-","jx",")","*","(","vec3","(","_1_0",")","-","jw",")",";","return","mix","(","jw",",","(","(","vec3","(","_1_0",")","-","jw",")","*","jx","*","jw",")","+","jw","*","jR",",","jy",")",";","}","vec3","jT","(","vec3","jw",",","vec3","jx",",","float","jy",")","{","return","jw","+","jy","*","(","2.0","*","jx","-","_1_0",")",";","}","float","jX","(","float","jU",",","float","jV",",","float","jy",",","float","jW",")","{","float","jC","=","_1_0","-","jW",";","return","(","jC","+","jy","*","jU",")","*","jV",";","}","float","jY","(","float","jU",",","float","jV",",","float","jy",",","float","jW",")","{","float","jC","=","_1_0","-","jW",";","return","_1_0","-","(","jC","+","jy","*","(","_1_0","-","jU",")",")","*","(","_1_0","-","jV",")",";","}","float","jZ","(","float","jU",",","float","jV",",","float","jy",",","float","jW",")","{","float","jC","=","_1_0","-","jW",";","return","mix","(","jV","*","(","jC","+","2.0","*","jy","*","jU",")",",","_1_0","-","(","jC","+","2.0","*","jy","*","(","_1_0","-","jU",")",")","*","(","_1_0","-","jV",")",",","step","(","0.5",",","jV",")",")",";","}"]}]}}]}]},exports["include/caustics.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"CAUSTICS_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"CAUSTICS_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"SUN_NUM",TOKENS:["0"]},{TYPE:"var",NAME:"CAUST_SCALE",TOKENS:["0.25"]},{TYPE:"var",NAME:"CAUST_SPEED",TOKENS:["vec2","(","0.0",")"]},{TYPE:"var",NAME:"CAUST_BRIGHT",TOKENS:["0.5"]},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"CAUSTICS_VIEW_DISTANCE",TOKENS:["100.0"]},{TYPE:"txt",TOKENS:["void","bD","(","inout","vec3","aQ",",","float","j_",",","float","eS",",","vec4","bC",",","vec3","U",",","vec3","ka",",","vec3","kb",",","vec4","kc",",","vec3","bo",",","float","bA",")","{","if","(","bA",">","CAUSTICS_VIEW_DISTANCE",")","return",";","vec3","kd","=","bo","+","U",";","kd",".","xz","=","10.0","*","sin","(","0.1","*","kd",".","xz",")",";","vec3","kf","=","T","(","ke","(","kc",")",",","kd",")",";","vec2","bN","=","kf",".","xz",";","vec3","kg","=","ka",";","float","kh","=","max","(","dot","(","U",",","kg",")",",","0.0",")",";","float","ki","=","0.025",";","vec2","kj","=","CAUST_SPEED","*","eS",";","bN",".","s","+=","0.25","*","sin","(","dot","(","bo","+","eS",",","vec3","(","1.0",")",")",")",";","bN",".","t","+=","0.35","*","(","-","sin","(","dot","(","bo","-","eS",",","vec3","(","-","0.7",")",")",")",")",";","bN",".","st","+=","0.15","*","cos","(","4.0","*","j_","-","kj",".","x",")","+","1.5","*","sin","(","j_","-","0.3","*","kj",".","y",")",";","float","he","=","CAUST_SCALE","*","(","1.0","+","max","(","0.1","*","j_",",","0.0",")",")",";","vec3","kl","=","kk","(","(","bN","/","he",")",",","ki",")",";","kl","*=","CAUST_BRIGHT",";","kl","*=","kl",";","float","km","=","min","(","0.25","*","j_",",","-","j_",")","+","1.0",";","km","=","max","(","km",",","0.0",")",";","float","kn","=","bC","[","SUN_NUM","]","*","kh",";","float","ko","=","max","(","sign","(","j_",")",",","0.0",")",";","kn","=","kn","+","max","(","0.5","*","sign","(","-","U",".","y",")","*","ko",",","0.0",")",";","kn","=","min","(","kn",",","1.0",")",";","aQ","+=","kb","*","kl","*","km","*","kn",";","}"]}]}}]}]},exports["include/color_util.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"COLOR_UTIL_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"COLOR_UTIL_GLSLF",TOKENS:[""]},{TYPE:"define",NAME:"PREMULTIPLY_ALPHA",TOKENS:["1"]},{TYPE:"var",NAME:"SRGB",TOKENS:["SRGB_NONE"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["void","cg","(","inout","float","aQ",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SRGB","SRGB_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aQ","=","pow","(","aQ",",","2.2",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SRGB","SRGB_PROPER",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","aQ","<","0.04045",")","aQ","=","aQ","/","12.92",";","else","aQ","=","pow","(","aQ","*","(","1.0","/","1.055",")","+","0.0521327",",","2.4",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","aW","(","inout","float","aQ",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SRGB","SRGB_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aQ","=","pow","(","aQ",",","1.0","/","2.2",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SRGB","SRGB_PROPER",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","aQ","<","0.0031308",")","aQ","=","aQ","*","12.92",";","else","aQ","=","1.055","*","pow","(","aQ",",","1.0","/","2.4",")","-","0.055",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","cg","(","inout","vec3","aQ",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SRGB","SRGB_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aQ","=","pow","(","aQ",",","vec3","(","2.2",")",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SRGB","SRGB_PROPER",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cg","(","aQ",".","r",")",";","cg","(","aQ",".","g",")",";","cg","(","aQ",".","b",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","aW","(","inout","vec3","aQ",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SRGB","SRGB_SIMPLE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aQ","=","pow","(","aQ",",","vec3","(","1.0","/","2.2",")",")",";"]}]}},{TYPE:"elif",EXPRESSION:["SRGB","SRGB_PROPER",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aW","(","aQ",".","r",")",";","aW","(","aQ",".","g",")",";","aW","(","aQ",".","b",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","void","aX","(","inout","vec3","aQ",",","in","float","J",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PREMULTIPLY_ALPHA"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aQ","=","aQ","*","J",";"]}]}}]},{TYPE:"txt",TOKENS:["}","float","fB","(","vec4","aQ",")","{","vec3","kp","=","vec3","(","0.299",",","0.587",",","0.114",")",";","float","kq","=","dot","(","aQ",".","rgb",",","kp",")",";","return","kq",";","}"]}]}}]}]},exports["include/coverage.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"COVERAGE_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"COVERAGE_GLSLF",TOKENS:[""]},{TYPE:"include",FILE:"procedural.glslf"},{TYPE:"txt",TOKENS:["const","float","kr","=","1000.0",";","bool","M","(","float","J",",","float","ks",")","{","if","(","ks","<","0.0",")","J","=","1.0","-","J",";","float","kt","=","floor","(","J","*","kr",")",";","float","kv","=","floor","(","ku","(","gl_FragCoord",".","xy",")","*","kr",")",";","if","(","ks",">","0.0",")","return","kv","<","kt",";","else","return","kv",">=","kt",";","}"]}]}}]}]},exports["include/depth_fetch.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"DEPTH_FETCH_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"DEPTH_FETCH_GLSLF",TOKENS:[""]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"CAMERA_TYPE",TOKENS:["CAM_TYPE_PERSP"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_CASTING",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","dL","(","in","float","kw",",","in","vec2","kx",")","{","float","ds","=","kx",".","x",";","float","ky","=","kx",".","y",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CAMERA_TYPE","CAM_TYPE_PERSP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","ky","*","(","1.0","-","ds","/","kw",")","/","(","ky","-","ds",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","(","kw","-","ds",")","/","(","ky","-","ds",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fT","(","in","sampler2D","kz",",","in","vec2","fu",",","in","vec2","kx",")","{","float","dM","=","GLSL_TEXTURE","(","kz",",","fu",")",".","r",";","float","ds","=","kx",".","x",";","float","ky","=","kx",".","y",";","float","kw","=","2.0","*","ds","/","(","ds","+","ky","-","(","2.0","*","dM","-","1.0",")","*","(","ky","-","ds",")",")",";","return","kw",";","}"]}]}}]}]}}]}]},exports["include/dynamic_grass.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"DYNAMIC_GRASS_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"DYNAMIC_GRASS_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"DYNAMIC_GRASS",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"GRASS_TEXTURE_SIZE",TOKENS:["1024.0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DYNAMIC_GRASS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"},{TYPE:"include",FILE:"to_world.glslv"},{TYPE:"txt",TOKENS:["vec2","kD","(","vec3","O",",","float","kA",",","vec2","kB",")","{","vec2","kC","=","vec2","(","(","O",".","x","-","kB",".","x",")","/","kA",",","(","O",".","y","-","kB",".","y",")","/","kA",")",";","return","fract","(","kC",")",";","}","vec2","kE","(","vec2","gq",",","float","kA",",","vec2","kB",")","{","return","vec2","(","gq",".","x","*","kA",",","gq",".","y","*","kA",")","+","kB",";","}","au","kF","(",")","{","return","au","(","vec3","(","-","10000.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",",","vec3","(","0.0",")",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","kP","(","sampler2D","kG",",","vec2","kH",")","{","float","kI","=","1.0","/","GRASS_TEXTURE_SIZE",";","vec4","kJ","=","GLSL_TEXTURE","(","kG",",","kH",")",";","vec4","kK","=","GLSL_TEXTURE","(","kG",",","kH","+","vec2","(","kI",",","0.0",")",")",";","vec4","kL","=","GLSL_TEXTURE","(","kG",",","kH","+","vec2","(","0.0",",","kI",")",")",";","vec4","kM","=","GLSL_TEXTURE","(","kG",",","kH","+","vec2","(","kI",",","kI",")",")",";","float","a","=","fract","(","kH",".","x","*","GRASS_TEXTURE_SIZE",")",";","vec4","kN","=","mix","(","kJ",",","kK",",","a",")",";","vec4","kO","=","mix","(","kL",",","kM",",","a",")",";","float","b","=","fract","(","kH",".","y","*","GRASS_TEXTURE_SIZE",")",";","return","mix","(","kN",",","kO",",","b",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["au","aZ","(","vec3","O",",","vec3","V",",","vec3","kQ",",","vec3","W",",","vec3","U",",","vec3","ao",",","PRECISION","sampler2D","kR",",","sampler2D","kS",",","vec3","kT",",","float","kU",",","vec3","kV",",","vec4","kW",",","mat3","N",",","mat3","Z",")","{","vec3","kX","=","T","(","kW",",","vec3","(","0.0",",","0.0",",","-","1.0",")",")",";","float","kY","=","-","kX",".","x",";","float","kZ","=","kX",".","y",";","vec2","kB","=","vec2","(","kV",".","x","-","kU","*","(","1.0","+","kY",")","/","2.0",",","kV",".","y","-","kU","*","(","1.0","-","kZ",")","/","2.0",")",";","vec2","k_","=","kD","(","ao",",","kU",",","kB",")",";","float","la","=","kU","/","2.0",";","vec2","lb","=","abs","(","kE","(","k_","-","vec2","(","0.5",")",",","kU",",","vec2","(","0.0",")",")",")",";","float","lc","=","la","*","(","1.0","+","sqrt","(","2.0",")",")","/","2.0",";","if","(","length","(","lb",")",">","lc",")","return","kF","(",")",";","float","ld","=","kU","/","kT",".","z",";","vec2","le","=","(","k_","-","vec2","(","0.5",")",")","*","ld","+","vec2","(","0.5",")",";","vec3","lf","=","kX","*","(","kU","/","kT",".","z","-","1.0",")","/","2.0",";","le",".","x","+=","lf",".","x",";","le",".","y","+=","lf",".","y",";","vec4","lg","=","GLSL_TEXTURE","(","kS",",","le",")",";","float","he","=","lg",".","r",";","if","(","he","<","u_scale_threshold",")","return","kF","(",")",";","float","lh","=","kT",".","y","-","kT",".","x",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bW","=","kT",".","y","-","(","kP","(","kR",",","le",")",")",".","r","*","lh",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","bW","=","kT",".","y","-","(","GLSL_TEXTURE","(","kR",",","le",")",")",".","r","*","lh",";"]}]}}]},{TYPE:"txt",TOKENS:["vec2","li","=","O",".","xy","-","ao",".","xy",";","ao",".","xy","=","kE","(","k_",",","kU",",","kB",")",";","ao",".","z","=","bW",";","O",".","xy","=","ao",".","xy","+","li",";","O",".","z","*=","he",";","O",".","z","+=","bW",";","vec3","aQ","=","lg",".","gba",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","-=","ao",";","mat3","lj","=","as","(","kV",",","ao",",","N",",","Z",")",";","au","aw","=","av","(","O",",","ao",",","V",",","kQ",",","W",",","U",",","lj",")",";","aw",".","ao","=","ao",";","aw",".","aQ","=","aQ",";","return","lk","(","aw",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","lk","(","au","(","O",",","ao",",","V",",","kQ",",","W",",","U",",","aQ",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]}}]}]},exports["include/environment.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"ENVIRONMENT_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"ENVIRONMENT_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"USE_ENVIRONMENT_LIGHT",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_COLOR",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_TEXTURE",TOKENS:["0"]},{TYPE:"txt",TOKENS:["vec3","cn","(","vec3","U",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_ENVIRONMENT_LIGHT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_TEXTURE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","GLSL_TEXTURE_CUBE","(","u_sky_texture",",","U",")",".","rgb",";"]}]}},{TYPE:"elif",EXPRESSION:["SKY_COLOR"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ll","=","0.5","*","U",".","z","+","0.5",";","return","mix","(","u_horizon_color",",","u_zenith_color",",","ll",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec3","(","1.0",")",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec3","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/fog.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FOG_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FOG_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"USE_FOG",TOKENS:["0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"FOG_TYPE",TOKENS:["QUADRATIC"]},{TYPE:"var",NAME:"PROCEDURAL_FOG",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","lq","(","inout","vec3","aQ",",","in","float","lm",",","in","float","bW",",","in","vec4","ln",")","{","float","lo","=","clamp","(","(","lm","-","u_fog_params",".","z",")","/","u_fog_params",".","y",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FOG_TYPE","QUADRATIC",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["lo","*=","lo",";"]}]}},{TYPE:"elif",EXPRESSION:["FOG_TYPE","LINEAR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"elif",EXPRESSION:["FOG_TYPE","INVERSE_QUADRATIC",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["lo","=","sqrt","(","lo",")",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","u_fog_params",".","w",">","0.0",")","{","if","(","bW",">","u_fog_params",".","w",")","lo","=","0.0",";","else","{","float","lp","=","(","u_fog_params",".","w","-","max","(","bW",",","0.0",")",")","/","u_fog_params",".","w",";","lo","*=","lp","*","lp",";","}","}","ln",".","a","=","1.0","-","(","1.0","-","lo",")","*","(","1.0","-","u_fog_params",".","x",")",";","aQ","=","mix","(","aQ",",","ln",".","rgb",",","ln",".","a",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","lv","(","in","mat4","lr",",","in","vec3","C",")","{","vec3","ls","=","mix","(","lr","[","0","]",".","rgb",",","lr","[","1","]",".","rgb",",","(","C",".","x","+","1.0",")","/","2.0",")",";","vec3","lt","=","mix","(","lr","[","2","]",".","rgb",",","lr","[","3","]",".","rgb",",","(","C",".","y","+","1.0",")","/","2.0",")",";","vec3","lu","=","vec3","(","lr","[","0","]",".","a",",","lr","[","1","]",".","a",",","lr","[","2","]",".","a",")",";","vec3","aQ","=","mix","(","ls",",","lt",",","abs","(","C",".","y",")",")",";","aQ","=","mix","(","aQ",",","lu",",","abs","(","C",".","z",")",")",";","cg","(","aQ",")",";","return","aQ",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","lx","(","inout","float","lw",")","{","lw","-=","0.5",";","lw","=","4.0","*","(","lw","*","lw","*","lw",")","+","0.5",";","}","void","lD","(","inout","vec3","aQ",",","in","float","lm",",","in","vec3","C",",","in","float","dZ",",","in","vec4","ly",",","in","float","eJ",")","{","float","lz","=","max","(","C",".","z",",","0.0",")",";","float","lA","=","max","(","lm","-","max","(","dZ","/","lz",",","0.0",")",",","0.0",")",";","float","lB","=","ly",".","w","*","lA",";","vec3","d_","=","vec3","(","0.0",",","0.02",",","0.05",")",";","vec3","lC","=","ly",".","rgb",";","lB","=","min","(","lB",",","1.0",")",";","lx","(","lB",")",";","lB","*=","clamp","(","2.0","-","eJ",",","0.0",",","1.0",")",";","vec3","ea","=","mix","(","lC",",","d_",",","min","(","lz",",","1.0",")",")",";","dZ","=","clamp","(","-","dZ","*","0.03",",","0.0",",","0.8",")",";","ea","*=","1.0","-","dZ",";","aQ","=","mix","(","aQ",",","ea",",","lB",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","bE","(","inout","vec3","aQ",",","float","lm",",","vec3","C",",","float","bB",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["PROCEDURAL_FOG"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","lr","=","lv","(","u_cube_fog",",","C",")",";","vec4","ea","=","vec4","(","lr",",","u_fog_color_density",".","a",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","ea","=","u_fog_color_density",";"]}]}}]},{TYPE:"txt",TOKENS:["lq","(","aQ",",","lm",",","h",".","z",",","ea",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["lD","(","aQ",",","lm",",","C",",","u_cam_water_depth",",","u_underwater_fog_color_density",",","bB",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/fxaa.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"FXAA_BLEND4WEB",TOKENS:["1"]},{TYPE:"var",NAME:"FXAA_QUALITY_P12",TOKENS:["0.0"]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PS3",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PS3",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_360",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_360",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_360_OPT",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_360_OPT",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PC",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PC",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_PC_CONSOLE",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_PC_CONSOLE",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSL_120",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSL_120",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GLSL_130",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GLSL_130",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_3",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_3",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_4",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_4",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_HLSL_5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_HLSL_5",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GREEN_AS_LUMA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GREEN_AS_LUMA",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_EARLY_EXIT",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_EARLY_EXIT",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_DISCARD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_DISCARD",TOKENS:["0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_FAST_PIXEL_OFFSET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_EXT_gpu_shader4",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_NV_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_ARB_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_FAST_PIXEL_OFFSET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_FAST_PIXEL_OFFSET",TOKENS:["0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GATHER4_ALPHA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_HLSL_5",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_ARB_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifdef",NAME:"GL_NV_gpu_shader5",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["1"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_GATHER4_ALPHA",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_GATHER4_ALPHA",TOKENS:["0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[0],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["4.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[0],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_SHARPNESS",TOKENS:["2.0"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",TOKENS:["0.125"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_CONSOLE_PS3_EDGE_THRESHOLD",TOKENS:["0.25"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"FXAA_QUALITY_PRESET",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PRESET",TOKENS:["12"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",10,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["3"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",11,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["4"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",12,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",13,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["6"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",14,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["7"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",15,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["8"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["12.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",20,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["3"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",21,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["4"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",22,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",23,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["6"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",24,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["7"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["3.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",25,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["8"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",26,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["9"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",27,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["10"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",28,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["11"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",29,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P11",TOKENS:["8.0"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PRESET",39,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"FXAA_QUALITY_PS",TOKENS:["12"]},{TYPE:"define",NAME:"FXAA_QUALITY_P0",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P1",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P2",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P3",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P4",TOKENS:["1.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P5",TOKENS:["1.5"]},{TYPE:"define",NAME:"FXAA_QUALITY_P6",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P7",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P8",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P9",TOKENS:["2.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P10",TOKENS:["4.0"]},{TYPE:"define",NAME:"FXAA_QUALITY_P11",TOKENS:["8.0"]}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"txt",TOKENS:["float","lE","(","float","x",")","{","return","clamp","(","x",",","0.0",",","1.0",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_BLEND4WEB",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","lF","(","sampler2D","t",",","vec2","p",")","{","return","GLSL_TEXTURE","(","t",",","p",")",";","}","vec4","lH","(","sampler2D","t",",","vec2","p",",","vec2","lG",",","vec2","r",")","{","return","GLSL_TEXTURE","(","t",",","p","+","(","lG","*","r",")",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec4","fQ","(","vec2","eL",",","sampler2D","hk",",","vec2","lI",",","float","lJ",",","float","lK",",","float","lL",")","{","vec2","lM",";","lM",".","x","=","eL",".","x",";","lM",".","y","=","eL",".","y",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_GATHER4_ALPHA",1,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","lN","=","lF","(","hk",",","lM",")",";","float","fC","=","fB","(","lN",")",";","float","lO","=","fB","(","lH","(","hk",",","lM",",","vec2","(","0",",","1",")",",","lI",".","xy",")",")",";","float","lP","=","fB","(","lH","(","hk",",","lM",",","vec2","(","1",",","0",")",",","lI",".","xy",")",")",";","float","lQ","=","fB","(","lH","(","hk",",","lM",",","vec2","(","0",",","-","1",")",",","lI",".","xy",")",")",";","float","lR","=","fB","(","lH","(","hk",",","lM",",","vec2","(","-","1",",","0",")",",","lI",".","xy",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","lS","=","max","(","lO",",","fC",")",";","float","lT","=","min","(","lO",",","fC",")",";","float","lU","=","max","(","lP",",","lS",")",";","float","lV","=","min","(","lP",",","lT",")",";","float","lW","=","max","(","lQ",",","lR",")",";","float","lX","=","min","(","lQ",",","lR",")",";","float","lY","=","max","(","lW",",","lU",")",";","float","lZ","=","min","(","lX",",","lV",")",";","float","l_","=","lY","*","lK",";","float","ma","=","lY","-","lZ",";","float","mb","=","max","(","lL",",","l_",")",";","bool","mc","=","ma","<","mb",";","if","(","mc",")","return","lN",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_GATHER4_ALPHA",0,{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","fD","=","fB","(","lH","(","hk",",","lM",",","vec2","(","-","1",",","-","1",")",",","lI",".","xy",")",")",";","float","fG","=","fB","(","lH","(","hk",",","lM",",","vec2","(","1",",","1",")",",","lI",".","xy",")",")",";","float","fE","=","fB","(","lH","(","hk",",","lM",",","vec2","(","1",",","-","1",")",",","lI",".","xy",")",")",";","float","fF","=","fB","(","lH","(","hk",",","lM",",","vec2","(","-","1",",","1",")",",","lI",".","xy",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[]}}]},{TYPE:"txt",TOKENS:["float","md","=","lQ","+","lO",";","float","me","=","lR","+","lP",";","float","mf","=","1.0","/","ma",";","float","mg","=","md","+","me",";","float","mh","=","(","-","2.0","*","fC",")","+","md",";","float","mi","=","(","-","2.0","*","fC",")","+","me",";","float","mj","=","fE","+","fG",";","float","mk","=","fD","+","fE",";","float","ml","=","(","-","2.0","*","lP",")","+","mj",";","float","mm","=","(","-","2.0","*","lQ",")","+","mk",";","float","mn","=","fD","+","fF",";","float","mo","=","fF","+","fG",";","float","mp","=","(","abs","(","mh",")","*","2.0",")","+","abs","(","ml",")",";","float","mq","=","(","abs","(","mi",")","*","2.0",")","+","abs","(","mm",")",";","float","mr","=","(","-","2.0","*","lR",")","+","mn",";","float","ms","=","(","-","2.0","*","lO",")","+","mo",";","float","mt","=","abs","(","mr",")","+","mp",";","float","mu","=","abs","(","ms",")","+","mq",";","float","mv","=","mn","+","mj",";","float","mw","=","lI",".","x",";","bool","mx","=","mt",">=","mu",";","float","my","=","mg","*","2.0","+","mv",";","if","(","!","mx",")","lQ","=","lR",";","if","(","!","mx",")","lO","=","lP",";","if","(","mx",")","mw","=","lI",".","y",";","float","mz","=","(","my","*","(","1.0","/","12.0",")",")","-","fC",";","float","mA","=","lQ","-","fC",";","float","mB","=","lO","-","fC",";","float","mC","=","lQ","+","fC",";","float","mD","=","lO","+","fC",";","bool","mE","=","abs","(","mA",")",">=","abs","(","mB",")",";","float","mF","=","max","(","abs","(","mA",")",",","abs","(","mB",")",")",";","if","(","mE",")","mw","=","-","mw",";","float","mG","=","lE","(","abs","(","mz",")","*","mf",")",";","vec2","mH",";","mH",".","x","=","lM",".","x",";","mH",".","y","=","lM",".","y",";","vec2","mI",";","mI",".","x","=","(","!","mx",")","?","0.0",":","lI",".","x",";","mI",".","y","=","(","mx",")","?","0.0",":","lI",".","y",";","if","(","!","mx",")","mH",".","x","+=","mw","*","0.5",";","if","(","mx",")","mH",".","y","+=","mw","*","0.5",";","vec2","mJ",";","mJ",".","x","=","mH",".","x","-","mI",".","x","*","FXAA_QUALITY_P0",";","mJ",".","y","=","mH",".","y","-","mI",".","y","*","FXAA_QUALITY_P0",";","vec2","mK",";","mK",".","x","=","mH",".","x","+","mI",".","x","*","FXAA_QUALITY_P0",";","mK",".","y","=","mH",".","y","+","mI",".","y","*","FXAA_QUALITY_P0",";","float","mL","=","(","(","-","2.0",")","*","mG",")","+","3.0",";","float","mM","=","fB","(","lF","(","hk",",","mJ",")",")",";","float","mN","=","mG","*","mG",";","float","mO","=","fB","(","lF","(","hk",",","mK",")",")",";","if","(","!","mE",")","mC","=","mD",";","float","mP","=","mF","*","1.0","/","4.0",";","float","mQ","=","fC","-","mC","*","0.5",";","float","mR","=","mL","*","mN",";","bool","mS","=","mQ","<","0.0",";","mM","-=","mC","*","0.5",";","mO","-=","mC","*","0.5",";","bool","mT","=","abs","(","mM",")",">=","mP",";","bool","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P1",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P1",";","bool","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P1",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P1",";","if","(","mV",")","{","if","(","!","mT",")","mM","=","fB","(","lF","(","hk",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","fB","(","lF","(","hk",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P2",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P2",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P2",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P2",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","fB","(","lF","(","hk",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","fB","(","lF","(","hk",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P3",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P3",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P3",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P3",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",4,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","fB","(","lF","(","hk",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","fB","(","lF","(","hk",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P4",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P4",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P4",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P4",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",5,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","fB","(","lF","(","hk",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","fB","(","lF","(","hk",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P5",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P5",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P5",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P5",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",6,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","fB","(","lF","(","hk",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","fB","(","lF","(","hk",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P6",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P6",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P6",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P6",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",7,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","fB","(","lF","(","hk",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","fB","(","lF","(","hk",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P7",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P7",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P7",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P7",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",8,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","fB","(","lF","(","hk",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","fB","(","lF","(","hk",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P8",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P8",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P8",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P8",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",9,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","fB","(","lF","(","hk",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","fB","(","lF","(","hk",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P9",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P9",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P9",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P9",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",10,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","fB","(","lF","(","hk",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","fB","(","lF","(","hk",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P10",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P10",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P10",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P10",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",11,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","fB","(","lF","(","hk",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","fB","(","lF","(","hk",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P11",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P11",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P11",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P11",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_QUALITY_PS",12,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","mV",")","{","if","(","!","mT",")","mM","=","fB","(","lF","(","hk",",","mJ",".","xy",")",")",";","if","(","!","mU",")","mO","=","fB","(","lF","(","hk",",","mK",".","xy",")",")",";","if","(","!","mT",")","mM","=","mM","-","mC","*","0.5",";","if","(","!","mU",")","mO","=","mO","-","mC","*","0.5",";","mT","=","abs","(","mM",")",">=","mP",";","mU","=","abs","(","mO",")",">=","mP",";","if","(","!","mT",")","mJ",".","x","-=","mI",".","x","*","FXAA_QUALITY_P12",";","if","(","!","mT",")","mJ",".","y","-=","mI",".","y","*","FXAA_QUALITY_P12",";","mV","=","(","!","mT",")","||","(","!","mU",")",";","if","(","!","mU",")","mK",".","x","+=","mI",".","x","*","FXAA_QUALITY_P12",";","if","(","!","mU",")","mK",".","y","+=","mI",".","y","*","FXAA_QUALITY_P12",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}","float","mW","=","lM",".","x","-","mJ",".","x",";","float","mX","=","mK",".","x","-","lM",".","x",";","if","(","!","mx",")","mW","=","lM",".","y","-","mJ",".","y",";","if","(","!","mx",")","mX","=","mK",".","y","-","lM",".","y",";","bool","mY","=","(","mM","<","0.0",")","!=","mS",";","float","mZ","=","(","mX","+","mW",")",";","bool","m_","=","(","mO","<","0.0",")","!=","mS",";","float","na","=","1.0","/","mZ",";","bool","nb","=","mW","<","mX",";","float","nc","=","min","(","mW",",","mX",")",";","bool","nd","=","nb","?","mY",":","m_",";","float","ne","=","mR","*","mR",";","float","nf","=","(","nc","*","(","-","na",")",")","+","0.5",";","float","ng","=","ne","*","lJ",";","float","nh","=","nd","?","nf",":","0.0",";","float","ni","=","max","(","nh",",","ng",")",";","if","(","!","mx",")","lM",".","x","+=","ni","*","mw",";","if","(","mx",")","lM",".","y","+=","ni","*","mw",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FXAA_DISCARD",1,{TYPE:"equal_expr",PLACES:2},"FXAA_BLEND4WEB",1,{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","lF","(","hk",",","lM",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec4","(","lF","(","hk",",","lM",")",".","xyz",",","fC",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/halo_color.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"HALO_COLOR_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"HALO_COLOR_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"NUM_RINGS",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LINES",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"SKY_STARS",TOKENS:["0"]},{TYPE:"var",NAME:"WAVES_HEIGHT",TOKENS:["1.0"]},{TYPE:"var",NAME:"WATER_EFFECTS",TOKENS:["0"]},{TYPE:"var",NAME:"DISABLE_FOG",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS","NUM_LINES",{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","int","nj","=","NUM_RINGS",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","int","nj","=","NUM_LINES",";"]}]}}]},{TYPE:"txt",TOKENS:["float","nk","(","float","x",")","{","return","x","-","floor","(","x","*","(","1.0","/","0.01",")",")","*","0.01",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","nr","(","inout","float","nl",",","in","float","nm","[","nj","]",",","in","float","nn",")","{","for","(","int","a","=","0",";","a","<","NUM_RINGS",";","a","++",")","{","float","no","=","40.0","*","nm","[","a","]",";","float","np","=","300.0","*","(","nk","(","no",")","-","0.005",")",";","float","nq","=","no",";","float","lo","=","abs","(","nq","*","(","u_halo_size","*","np","-","nn",")",")",";","nl","+=","1.0","-","min","(","lo",",","1.0",")",";","}","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","nw","(","inout","float","ns",",","in","float","nm","[","nj","]",",","in","float","aM",")","{","for","(","int","a","=","0",";","a","<","NUM_LINES",";","a","++",")","{","float","nt","=","nm","[","a","]",";","float","nu","=","nt",";","float","nv","=","1000.0","*","(","nk","(","nt",")","-","0.005",")",";","float","lo","=","20.0","*","abs","(","nu","*","A",".","x","+","nv","*","A",".","y",")",";","ns","+=","1.0","-","min","(","lo",",","1.0",")",";","}","ns","*=","aM",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","nA","(","inout","float","aM",",","in","vec2","bN",")","{","float","nx",",","bx",";","bx","=","atan","(","bN",".","y",",","bN",".","x",")",";","bx","*=","(","1.0","+","0.25","*","float","(","NUM_STARS",")",")",";","float","ny","=","cos","(","bx",")",";","float","nz","=","sin","(","bx",")",";","bx","=","(","ny","*","bN",".","x","+","nz","*","bN",".","y",")","*","(","ny","*","bN",".","y","-","nz","*","bN",".","x",")",";","nx","=","abs","(","bx",")",";","if","(","nx","<","1.0",")","{","nx","=","(","0.01","*","u_halo_size",")","/","(","nx",")",";","aM","*=","sqrt","(","min","(","nx",",","1.0",")",")",";","}","}","vec4","bh","(",")","{","float","aM","=","(","A",".","x","*","A",".","x","+","A",".","y","*","A",".","y",")",";","float","nn","=","sqrt","(","aM",")",";","aM","=","max","(","1.0","-","aM",",","0.0",")",";","aM","=","pow","(","aM",",","u_halo_hardness",")",";","float","J","=","u_diffuse_color",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS","NUM_LINES",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","nm","[","nj","]",";","for","(","int","bZ","=","0",";","bZ","<","nj",";","bZ","++",")","{","nm","[","bZ","]","=","fract","(","bf","/","float","(","bZ","+","1",")",")","-","1.0",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","nl","=","0.0",";","nr","(","nl",",","nm",",","nn",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","ns","=","0.0",";","nw","(","ns",",","nm",",","aM",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["nA","(","aM",",","A",")",";"]}]}}]},{TYPE:"txt",TOKENS:["aM","*=","J",";","vec3","aQ","=","u_diffuse_color",".","rgb",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_RINGS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["nl","*=","aM",";","aQ","+=","u_halo_rings_color","*","nl",";","aM","+=","nl",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_LINES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["ns","*=","J",";","aQ","+=","u_halo_lines_color","*","ns",";","aM","+=","ns",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKY_STARS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["aM","*=","max","(","1.0","-","2.0","*","u_sun_intensity",".","x",",","0.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WATER_EFFECTS","DISABLE_FOG",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","km","=","u_halo_stars_blend","*","(","be",".","y","-","u_halo_stars_height",")",";","aM","*=","clamp","(","km",",","0.0",",","1.0",")",";","aM","*=","min","(","u_cam_water_depth","+","2.0","*","WAVES_HEIGHT",",","1.0",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec4","nB","=","vec4","(","aQ",",","aM",")",";","return","nB",";","}"]}]}}]}]},exports["include/lighting_nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"LIGHTING_NODES_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"LIGHTING_NODES_GLSLF",TOKENS:[""]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"node",NAME:"LIGHTING_BEGIN",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"nP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"nS",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nT",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nU",QUALIFIER:["vec2"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nV",QUALIFIER:["vec2"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nW",QUALIFIER:["vec4"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nX",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"nY",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["nP","=","nC",";","nQ","=","nD",";","nR","=","nE",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nS"],STATEMENTS:[{TYPE:"txt",TOKENS:["nS","=","nF",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nT"],STATEMENTS:[{TYPE:"txt",TOKENS:["nT","=","nH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nV"],STATEMENTS:[{TYPE:"txt",TOKENS:["nV","=","nJ",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nU"],STATEMENTS:[{TYPE:"txt",TOKENS:["nU","=","nK",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nW"],STATEMENTS:[{TYPE:"txt",TOKENS:["nW","=","nL",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nX"],STATEMENTS:[{TYPE:"txt",TOKENS:["nX","=","nM",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_nY"],STATEMENTS:[{TYPE:"txt",TOKENS:["nY","=","nN",";"]}]}]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"nZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"n_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ob",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ob","=","vec4","(","nZ","+","oa","*","n_",",","_0_0",")",";","oc","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]},{TYPE:"node_var",NAME:"LAMP_SHADOW_MAP_IND",TOKENS:["-","1"]},{TYPE:"node_var",NAME:"LAMP_USE_SPHERE",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"od",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"of",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"og",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["of","=","vec2","(","u_light_positions","[","LAMP_IND","]",".","w",",","u_light_color_intensities","[","LAMP_IND","]",".","w",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["oh","=","_0_5",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oh","=","_0_0",";"]}]}]},{TYPE:"txt",TOKENS:["og","=","u_light_color_intensities","[","LAMP_IND","]",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["og","*=","od","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","u_light_positions","[","LAMP_IND","]",".","xyz",";","oe","=","oi","-","nG",";","float","aM","=","length","(","oe",")",";","float","oj","=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","aM","*","aM",")",";","oe","=","normalize","(","oe",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","u_light_directions","[","LAMP_IND","]",";","float","ol","=","dot","(","oe",",","ok",")",";","ol","*=","smoothstep","(","_0_0",",","_1_0",",","(","ol","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","oj","*=","ol",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_USE_SPHERE"],STATEMENTS:[{TYPE:"txt",TOKENS:["oj","*=","max","(","LAMP_LIGHT_DIST","-","aM",",","_0_0",")","/","LAMP_LIGHT_DIST",";"]}]}]},{TYPE:"txt",TOKENS:["og","*=","oj",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oe","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"om",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"on",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"op",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oq",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"or",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","om",",","B",".","xyz",")",";","oo","=","cross","(","os",",","B",".","xyz",")",";","oo","=","-","normalize","(","oo",")",";"]}]}]},{TYPE:"txt",TOKENS:["or","=","_0_0",";","if","(","on",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","op",")","*","dot","(","oo",",","om",")","+","op",";","if","(","oq","[","0","]","==","_0_0",")","{","or","=","_1_0",";","}","else","{","float","t","=","_1_0","+","abs","(","ot",")",";","t","=","oq","[","1","]","+","(","_1_0","-","oq","[","1","]",")","*","pow","(","t",",","oq","[","0","]",")",";","or","=","clamp","(","t",",","_0_0",",","_1_0",")",";","}","or","=","max","(","or",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ou",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ov",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ow",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ox",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oy",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","ou",",","B",".","xyz",")",";","ow","=","cross","(","os",",","B",".","xyz",")",";","ow","=","-","normalize","(","ow",")",";"]}]}]},{TYPE:"txt",TOKENS:["oy","=","_0_0",";","if","(","ov",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","ox",")","*","dot","(","ow",",","ou",")","+","ox",";","oy","=","max","(","ot",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oD",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oz",",","B",".","xyz",")",";","oB","=","cross","(","os",",","B",".","xyz",")",";","oB","=","-","normalize","(","oB",")",";"]}]}]},{TYPE:"txt",TOKENS:["oE","=","_0_0",";","if","(","oA",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oC",")","*","dot","(","oB",",","oz",")","+","oC",";","if","(","oD","[","0","]",">","_0_0",")","{","float","oF","=","max","(","dot","(","oB",",","nI",")",",","_0_0",")",";","float","oG","=","oD","[","0","]","*","oD","[","0","]",";","float","cp","=","_1_0","-","_0_5","*","(","oG","/","(","oG","+","0.33",")",")",";","vec3","oH","=","oz","-","ot","*","oB",";","vec3","oI","=","nI","-","oF","*","oB",";","if","(","length","(","oH",")","==","_0_0","||","length","(","oI",")","==","_0_0","||","abs","(","ot",")",">","_1_0","||","abs","(","oF",")",">","_1_0",")","oE","=","ot","*","cp",";","else","{","float","oJ","=","acos","(","ot",")",";","float","oK","=","acos","(","oF",")",";","vec3","oL","=","normalize","(","oH",")",";","vec3","oM","=","normalize","(","oI",")",";","float","a",",","b",";","a","=","max","(","oJ",",","oK",")",";","b","=","min","(","oJ",",","oK",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oL",",","oM",")",",","_0_0",")",";","float","oN","=","0.45","*","(","oG","/","(","oG","+","0.09",")",")",";","oE","=","ot","*","(","cp","+","(","oN","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","oE","=","ot",";","oE","=","max","(","oE",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oP",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oS",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oO",",","B",".","xyz",")",";","oQ","=","cross","(","os",",","B",".","xyz",")",";","oQ","=","-","normalize","(","oQ",")",";"]}]}]},{TYPE:"txt",TOKENS:["oT","=","_0_0",";","if","(","oP",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oR",")","*","dot","(","oQ",",","oO",")","+","oR",";","float","oF","=","max","(","dot","(","oQ",",","nI",")",",","_0_0",")",";","if","(","oS","[","0","]","<=","_1_0",")","oT","=","ot","*","pow","(","max","(","oF","*","ot",",","0.1",")",",","oS","[","0","]","-","_1_0",")",";","else","oT","=","ot","*","pow","(","1.0001","-","oF",",","oS","[","0","]","-","_1_0",")",";","oT","=","max","(","oT",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oV",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oY",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oU",",","B",".","xyz",")",";","oW","=","cross","(","os",",","B",".","xyz",")",";","oW","=","-","normalize","(","oW",")",";"]}]}]},{TYPE:"txt",TOKENS:["oZ","=","_0_0",";","if","(","oV",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oX",")","*","dot","(","oW",",","oU",")","+","oX",";","float","o_","=","acos","(","ot",")",";","if","(","o_","<","oY","[","0","]",")","oZ","=","_1_0",";","else","if","(","o_",">","(","oY","[","0","]","+","oY","[","1","]",")","||","oY","[","1","]","==","_0_0",")","oZ","=","_0_0",";","else","oZ","=","_1_0","-","(","(","o_","-","oY","[","0","]",")","/","oY","[","1","]",")",";","oZ","=","max","(","oZ",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pb",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pe",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","_0_0",";","if","(","pb",".","g","!=","_0_0",")","{","vec3","pg","=","normalize","(","pa","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pd","==","_0_0",")","{","pf","=","dot","(","B",".","xyz",",","pg",")",";","pf","=","sqrt","(","_1_0","-","pf","*","pf",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","(","_1_0","-","pd",")","*","max","(","dot","(","pc",",","pg",")",",","_0_0",")","+","pd",";"]}]}]},{TYPE:"txt",TOKENS:["pf","=","pow","(","pf",",","pe","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_COOKTORR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ph",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pi",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","_0_0",";","if","(","pi",".","g","!=","_0_0",")","{","vec3","pg","=","normalize","(","ph","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pk","==","_0_0",")","{","pm","=","dot","(","B",".","xyz",",","pg",")",";","pm","=","sqrt","(","_1_0","-","pm","*","pm",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","max","(","dot","(","pj",",","pg",")",",","_0_0",")",";","pm","=","(","_1_0","-","pk",")","*","pm","+","pk",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","oF","=","max","(","dot","(","B",".","xyz",",","nI",")",",","_0_0",")",";","oF","=","sqrt","(","_1_0","-","oF","*","oF",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","oF","=","max","(","dot","(","pj",",","nI",")",",","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["pm","=","pow","(","pm",",","pl","[","0","]",")",";","pm","=","pm","/","(","0.1","+","oF",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"po",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pv",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pw",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pw","=","_0_0",";","if","(","po",".","g","!=","_0_0",")","{","vec3","pg","=","normalize","(","pn","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","_0_0",";","float","oF","=","_0_0",";","float","py","=","_0_0",";","if","(","pu","==","_0_0",")","{","px","=","dot","(","B",".","xyz",",","pg",")",";","oF","=","dot","(","B",".","xyz",",","nI",")",";","py","=","dot","(","B",".","xyz",",","pn",")",";","px","=","sqrt","(","_1_0","-","px","*","px",")",";","oF","=","sqrt","(","_1_0","-","oF","*","oF",")",";","py","=","sqrt","(","_1_0","-","py","*","py",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","max","(","dot","(","pr",",","pg",")",",","0.01",")",";","float","oF","=","max","(","dot","(","pr",",","nI",")",",","0.01",")",";","float","py","=","max","(","dot","(","pr",",","pn",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","bx","=","tan","(","acos","(","px",")",")",";","float","J","=","max","(","pv","[","0","]",",","0.01",")",";","pw","=","py","*","(","_1_0","/","(","4.0","*","M_PI","*","J","*","J",")",")","*","(","exp","(","-","(","bx","*","bx",")","/","(","J","*","J",")",")","/","(","sqrt","(","oF","*","py",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pD",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pE","=","_0_0",";","if","(","pA",".","g","!=","_0_0",")","{","vec3","bX","=","normalize","(","pz","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pF","=","dot","(","bX",",","B",".","xyz",")",";","float","bx","=","pD","[","0","]","+","pD","[","1","]",";","if","(","pC","==","_0_0",")","bx","=","acos","(","sqrt","(","_1_0","-","pF","*","pF",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","bx","=","acos","(","dot","(","bX",",","pB",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","bx","<","pD","[","0","]",")","pE","=","_1_0",";","else","if","(","bx",">=","pD","[","0","]","+","pD","[","1","]","||","pD","[","1","]","==","_0_0",")","pE","=","_0_0",";","else","pE","=","_1_0","-","(","bx","-","pD","[","0","]",")","/","pD","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pH",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pK",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pM","=","pK","[","0","]",";","float","pN","=","pK","[","1","]",";","pL","=","_0_0",";","if","(","pH",".","g","!=","_0_0",")","{","if","(","pM","<","1.0","||","pN","==","_0_0",")","pL","=","_0_0",";","else","{","if","(","pN","<","100.0",")","pN","=","sqrt","(","1.0","/","pN",")",";","else","pN","=","10.0","/","pN",";","vec3","pg","=","normalize","(","nI","+","pG",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","0.0",";","if","(","pJ","==","_0_0",")","{","float","pO","=","dot","(","B",".","xyz",",","pg",")",";","px","=","sqrt","(","_1_0","-","pO","*","pO",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","(","_1_0","-","pJ",")","*","max","(","dot","(","pI",",","pg",")",",","_0_0",")","+","pJ",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","px","<","_0_0",")","pL","=","_0_0",";","else","{","float","oF","=","max","(","dot","(","pI",",","nI",")",",","0.01",")",";","float","py","=","dot","(","pI",",","pG",")",";","if","(","py","<=","0.01",")","pL","=","_0_0",";","else","{","float","pP","=","max","(","dot","(","nI",",","pg",")",",","0.01",")",";","float","a","=","_1_0",";","float","b","=","(","2.0","*","px","*","oF",")","/","pP",";","float","di","=","(","2.0","*","px","*","py",")","/","pP",";","float","g","=","min","(","min","(","a",",","b",")",",","di",")",";","float","p","=","sqrt","(","pow","(","pM",",","2.0",")","+","pow","(","pP",",","2.0",")","-","_1_0",")",";","float","lw","=","pow","(","p","-","pP",",","2.0",")","/","pow","(","p","+","pP",",","2.0",")","*","(","_1_0","+","pow","(","pP","*","(","p","+","pP",")","-","_1_0",",","2.0",")","/","pow","(","pP","*","(","p","-","pP",")","+","_1_0",",","2.0",")",")",";","float","o_","=","acos","(","px",")",";","pL","=","max","(","lw","*","g","*","exp","(","-","pow","(","o_",",","2.0",")","/","(","2.0","*","pow","(","pN",",","2.0",")",")",")",",","_0_0",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pQ",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pW",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"p_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qa",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["qb","=","pR","+","pZ","*","pY","*","pT",";","qa","=","pQ","+","vec4","(","pZ","*","pX","*","pS",",","pT",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_END",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"qc",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"qd",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","qc",".","rgb",";","nO","=","qd",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","cy","(","vec3","nC",",","vec3","nD",",","vec3","nE",",","vec3","nF",",","vec3","nG",",","vec3","nH",",","vec3","nI",",","vec2","nJ",",","vec2","nK",",","vec4","nL",",","float","nM",",","vec4","nN",",","out","vec3","D",",","out","vec3","nO",")","{"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/math.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"MATH_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"MATH_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"EPSILON",TOKENS:["0.000001"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"USE_POSITION_CLIP",TOKENS:["0"]},{TYPE:"var",NAME:"SOFT_PARTICLES",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"txt",TOKENS:["struct","au","{","vec3","O",";","vec3","ao",";","vec3","V",";","vec3","aB",";","vec3","W",";","vec3","U",";","vec3","aQ",";","}",";","bool","qe","(","vec3","a",",","vec3","b",")","{","return","any","(","lessThan","(","abs","(","a","-","b",")",",","vec3","(","EPSILON",")",")",")",";","}","vec3","T","(","in","vec4","q",",","in","vec3","kd",")","{","return","kd","+","2.0","*","cross","(","q",".","xyz",",","cross","(","q",".","xyz",",","kd",")","+","q",".","w","*","kd",")",";","}","vec4","ke","(","in","vec4","qf",")","{","return","vec4","(","-","qf",".","xyz",",","qf",".","w",")",";","}","vec4","qh","(","in","vec4","a",",","in","vec4","b",")","{","vec4","qg",";","qg",".","x","=","a",".","x","*","b",".","w","+","a",".","w","*","b",".","x","+","a",".","y","*","b",".","z","-","a",".","z","*","b",".","y",";","qg",".","y","=","a",".","y","*","b",".","w","+","a",".","w","*","b",".","y","+","a",".","z","*","b",".","x","-","a",".","x","*","b",".","z",";","qg",".","z","=","a",".","z","*","b",".","w","+","a",".","w","*","b",".","z","+","a",".","x","*","b",".","y","-","a",".","y","*","b",".","x",";","qg",".","w","=","a",".","w","*","b",".","w","-","a",".","x","*","b",".","x","-","a",".","y","*","b",".","y","-","a",".","z","*","b",".","z",";","return","qg",";","}","vec4","X","(","in","vec3","qi",",","in","float","qj",")","{","vec4","qg",";","qj","=","qj","*","0.5",";","float","s","=","sin","(","qj",")",";","qg",".","x","=","s","*","qi","[","0","]",";","qg",".","y","=","s","*","qi","[","1","]",";","qg",".","z","=","s","*","qi","[","2","]",";","qg",".","w","=","cos","(","qj",")",";","return","qg",";","}","vec4","qm","(","in","vec3","bp",",","in","vec3","qk",")","{","vec4","qg",";","float","dn","=","dot","(","qk",",","bp",")",";","vec3","ql","=","cross","(","qk",",","bp",")",";","qg",".","xyz","=","ql",".","xyz",";","qg",".","w","=","1.0","+","dn",";","return","normalize","(","qg",")",";","}","vec3","qr","(","vec4","qn",",","vec4","qf",",","vec3","qo",")","{","vec3","qg","=","qo","*","qn",".","w",";","qg","=","T","(","qf",",","qg",")",";","qg","+=","qn",".","xyz",";","return","qg",";","}","vec3","ap","(","mat3","qu",",","vec3","qo",")","{","vec3","qg","=","qo","*","qu","[","1","]","[","0","]",";","vec4","qf","=","vec4","(","qu","[","1","]","[","1","]",",","qu","[","1","]","[","2","]",",","qu","[","2","]","[","0","]",",","qu","[","2","]","[","1","]",")",";","qg","=","T","(","qf",",","qg",")",";","qg","+=","qu","[","0","]",";","return","qg",";","}","vec3","qv","(","vec4","qn",",","vec4","qf",",","vec3","bp",")","{","vec3","qg","=","bp","*","qn",".","w",";","qg","=","T","(","qf",",","qg",")",";","return","qg",";","}","vec3","_","(","mat3","qu",",","vec3","bp",")","{","vec3","qg","=","bp","*","qu","[","1","]","[","0","]",";","vec4","qf","=","vec4","(","qu","[","1","]","[","1","]",",","qu","[","1","]","[","2","]",",","qu","[","2","]","[","0","]",",","qu","[","2","]","[","1","]",")",";","qg","=","T","(","qf",",","qg",")",";","return","qg",";","}","vec3","qw","(","vec4","qn",",","vec4","qf",",","vec3","qo",")","{","vec3","qg","=","qo","-","qn",".","xyz",";","qg","=","T","(","ke","(","qf",")",",","qg",")",";","qg","/=","qn",".","w",";","return","qg",";","}","vec3","qx","(","vec4","qn",",","vec4","qf",",","vec3","bp",")","{","return","T","(","ke","(","qf",")",",","bp",")","/","qn",".","w",";","}","mat4","qy","(",")","{","return","mat4","(","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","mat4","qz","(","float","bx",")","{","return","mat4","(","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","cos","(","bx",")",",","sin","(","bx",")",",","_0_0",",","_0_0",",","-","sin","(","bx",")",",","cos","(","bx",")",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","mat4","qA","(","float","bx",")","{","return","mat4","(","cos","(","bx",")",",","_0_0",",","-","sin","(","bx",")",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","sin","(","bx",")",",","_0_0",",","cos","(","bx",")",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","mat4","qB","(","float","bx",")","{","return","mat4","(","cos","(","bx",")",",","sin","(","bx",")",",","_0_0",",","_0_0",",","-","sin","(","bx",")",",","cos","(","bx",")",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",")",";","}","au","lk","(","in","au","kd",")","{","return","au","(","kd",".","O",",","kd",".","ao",",","normalize","(","kd",".","V",")",",","normalize","(","kd",".","aB",")",",","normalize","(","kd",".","W",")",",","normalize","(","kd",".","U",")",",","kd",".","aQ",")",";","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SOFT_PARTICLES","REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2},"REFRACTIVE","USE_POSITION_CLIP",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","aC","(","vec4","f",")","{","float","fr","=","f",".","x",";","float","fs","=","f",".","y",";","float","ft","=","f",".","w",";","vec3","qC",";","qC",".","x","=","(","fr","+","ft",")","/","2.0",";","qC",".","y","=","(","fs","+","ft",")","/","2.0",";","qC",".","z","=","ft",";","return","qC",";","}"]}]}}]},{TYPE:"txt",TOKENS:["mat3","cQ","(",")","{","return","mat3","(","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",",","_0_0",",","_0_0",",","_1_0",",","_0_0",")",";","}","mat4","bc","(","mat3","t",")","{","mat4","qD",";","qD","[","0","]","[","0","]","=","(","_1_0","-","(","t","[","1","]","[","2","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","+","t","[","2","]","[","0","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")",")","*","t","[","1","]","[","0","]",";","qD","[","0","]","[","1","]","=","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","+","t","[","2","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")","*","t","[","1","]","[","0","]",";","qD","[","0","]","[","2","]","=","(","t","[","1","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","-","t","[","2","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")","*","t","[","1","]","[","0","]",";","qD","[","0","]","[","3","]","=","_0_0",";","qD","[","1","]","[","0","]","=","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")","-","t","[","2","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")","*","t","[","1","]","[","0","]",";","qD","[","1","]","[","1","]","=","(","_1_0","-","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")","+","t","[","2","]","[","0","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")",")",")","*","t","[","1","]","[","0","]",";","qD","[","1","]","[","2","]","=","(","t","[","1","]","[","2","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","+","t","[","2","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")",")","*","t","[","1","]","[","0","]",";","qD","[","1","]","[","3","]","=","_0_0",";","qD","[","2","]","[","0","]","=","(","t","[","1","]","[","1","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","+","t","[","2","]","[","1","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")","*","t","[","1","]","[","0","]",";","qD","[","2","]","[","1","]","=","(","t","[","1","]","[","2","]","*","(","t","[","2","]","[","0","]","+","t","[","2","]","[","0","]",")","-","t","[","2","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")",")","*","t","[","1","]","[","0","]",";","qD","[","2","]","[","2","]","=","(","_1_0","-","(","t","[","1","]","[","1","]","*","(","t","[","1","]","[","1","]","+","t","[","1","]","[","1","]",")","+","t","[","1","]","[","2","]","*","(","t","[","1","]","[","2","]","+","t","[","1","]","[","2","]",")",")",")","*","t","[","1","]","[","0","]",";","qD","[","2","]","[","3","]","=","_0_0",";","qD","[","3","]","[","0","]","=","t","[","0","]","[","0","]",";","qD","[","3","]","[","1","]","=","t","[","0","]","[","1","]",";","qD","[","3","]","[","2","]","=","t","[","0","]","[","2","]",";","qD","[","3","]","[","3","]","=","1.0",";","return","qD",";","}","mat3","aY","(","in","mat3","qu",",","in","mat3","qE",")","{","mat3","qg",";","vec3","qo","=","qE","[","0","]",";","vec4","qn","=","vec4","(","qu","[","0","]",",","qu","[","1","]","[","0","]",")",";","vec4","qf","=","vec4","(","qu","[","1","]","[","1","]",",","qu","[","1","]","[","2","]",",","qu","[","2","]","[","0","]",",","qu","[","2","]","[","1","]",")",";","qg","[","0","]","=","qr","(","qn",",","qf",",","qo",")",";","qg","[","1","]","[","0","]","=","qu","[","1","]","[","0","]","*","qE","[","1","]","[","0","]",";","qg","[","1","]","[","1","]","=","qu","[","1","]","[","1","]","*","qE","[","2","]","[","1","]","+","qu","[","2","]","[","1","]","*","qE","[","1","]","[","1","]","+","qu","[","1","]","[","2","]","*","qE","[","2","]","[","0","]","-","qu","[","2","]","[","0","]","*","qE","[","1","]","[","2","]",";","qg","[","1","]","[","2","]","=","qu","[","1","]","[","2","]","*","qE","[","2","]","[","1","]","+","qu","[","2","]","[","1","]","*","qE","[","1","]","[","2","]","+","qu","[","2","]","[","0","]","*","qE","[","1","]","[","1","]","-","qu","[","1","]","[","1","]","*","qE","[","2","]","[","0","]",";","qg","[","2","]","[","0","]","=","qu","[","2","]","[","0","]","*","qE","[","2","]","[","1","]","+","qu","[","2","]","[","1","]","*","qE","[","2","]","[","0","]","+","qu","[","1","]","[","1","]","*","qE","[","1","]","[","2","]","-","qu","[","1","]","[","2","]","*","qE","[","1","]","[","1","]",";","qg","[","2","]","[","1","]","=","qu","[","2","]","[","1","]","*","qE","[","2","]","[","1","]","-","qu","[","1","]","[","1","]","*","qE","[","1","]","[","1","]","-","qu","[","1","]","[","2","]","*","qE","[","1","]","[","2","]","-","qu","[","2","]","[","0","]","*","qE","[","2","]","[","0","]",";","return","qg",";","}","mat3","cT","(","in","vec4","qf",",","in","mat3","qu",")","{","mat3","qg",";","qg","[","0","]","=","qu","[","0","]",";","qg","[","1","]","[","0","]","=","qu","[","1","]","[","0","]",";","qg","[","1","]","[","1","]","=","qf","[","0","]",";","qg","[","1","]","[","2","]","=","qf","[","1","]",";","qg","[","2","]","[","0","]","=","qf","[","2","]",";","qg","[","2","]","[","1","]","=","qf","[","3","]",";","return","qg",";","}","vec4","R","(","in","vec4","qF",")","{","return","normalize","(","qF",")",";","}","vec4","R","(","in","vec4","qF",",","out","float","P",",","out","float","Q",")","{","vec4","qf","=","R","(","qF",")",";","P","=","length","(","qF",")","*","M_PI",";","Q","=","sign","(","qF","[","3","]",")",";","return","R","(","qF",")",";","}"]}]}}]}]},exports["include/mirror.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"MIRROR_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"MIRROR_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"USE_BSDF_SKY_DIM",TOKENS:[""]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"REFL_BUMP",TOKENS:["0.1"]},{TYPE:"txt",TOKENS:["float","qG","(","in","vec3","C",",","vec3","ef",",","float","eD",",","float","eE",")","{","vec3","eB","=","normalize","(","ef","+","C",")",";","float","eC","=","1.0","-","dot","(","C",",","eB",")",";","float","r","=","eE","+","(","1.0","-","eE",")","*","pow","(","eC",",","eD",")",";","return","r",";","}","void","cz","(","inout","vec3","qH",",","vec3","C",",","vec3","U",",","float","qI",",","mat3","N",")","{","vec3","ef","=","reflect","(","-","C",",","U",")",";","float","eD","=","u_fresnel_params","[","0","]",";","float","eE","=","u_fresnel_params","[","1","]",";","float","r","=","1.0",";","if","(","eD","!=","0.0",")","r","=","qG","(","C",",","ef",",","eD",",","eE",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ek","=","GLSL_TEXTURE_CUBE","(","u_cube_reflection",",","ef",")",".","xyz",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qJ","=","u_refl_plane",".","xyz","*","dot","(","U",",","u_refl_plane",".","xyz",")",";","vec3","qK","=","U","-","qJ",";","vec2","qL","=","_","(","N",",","qK",")",".","xy",";","vec2","qM","=","l",".","xy","/","l",".","z",";","qM","+=","qL","*","REFL_BUMP",";","vec3","ek","=","GLSL_TEXTURE","(","u_plane_reflection",",","qM",")",".","rgb",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ek","=","vec3","(","1.0",")",";","qI","=","0.0",";"]}]}}]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_MIRRORMAP",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ek","=","GLSL_TEXTURE_CUBE","(","u_mirrormap",",","ef",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["cg","(","ek",".","rgb",")",";","qH","=","mix","(","qH",",","ek",",","qI","*","r",")",";","}","vec3","qW","(","vec3","qH",",","vec3","qN",",","vec3","C",",","vec3","U",",","float","qO",",","float","qP",",","mat3","N",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2},"USE_BSDF_SKY_DIM",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","qQ","=","max","(","dot","(","U",",","C",")",",","_0_0",")",";","float","qR","=","qO","+","(","max","(","_1_0","-","qP",",","qO",")","-","qO",")","*","pow","(","_1_0","-","qQ",",","5.0",")",";","vec3","ef","=","reflect","(","-","C",",","U",")",";","float","qS","=","2.0","/","(","qP","*","qP",")","-","2.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["GLSL1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","qT","=","u_bsdf_cube_sky_dim",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","qT","=","float","(","textureSize","(","u_cube_reflection",",","0",")",".","x",")",";"]}]}}]},{TYPE:"txt",TOKENS:["float","qU","=","log2","(","qT","*","sqrt","(","3.0",")",")","-","_0_5","*","log2","(","qS","+","_1_0",")",";","vec3","ek","=","GLSL_TEXTURE_CUBE_LOD","(","u_cube_reflection",",","ef",",","qU",")",".","xyz",";","cg","(","ek",")",";","ek","*=","qN",";","vec3","qV","=","GLSL_TEXTURE_CUBE_LOD","(","u_cube_reflection",",","U",",","100.0",")",".","xyz",";","cg","(","qV",")",";","qV","*=","qH",";","return","qV","+","qR","*","ek",";"]}]}},{TYPE:"elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2},"REFLECTION_PASS","REFL_PASS_NONE",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","qJ","=","u_refl_plane",".","xyz","*","dot","(","U",",","u_refl_plane",".","xyz",")",";","vec3","qK","=","U","-","qJ",";","vec2","qL","=","_","(","N",",","qK",")",".","xy",";","vec2","qM","=","l",".","xy","/","l",".","z",";","qM","+=","qL","*","REFL_BUMP",";","vec3","ek","=","GLSL_TEXTURE","(","u_plane_reflection",",","qM",")",".","rgb",";","cg","(","ek",")",";","ek","*=","qN",";","return","mix","(","qH",",","ek",",","qO",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ek","=","qN",";","return","mix","(","qH",",","ek",",","qO",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]}}]}]},exports["include/nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"NODES_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"NODES_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"DOUBLE_SIDED_LIGHTING",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"USE_REFRACTION",TOKENS:["0"]},{TYPE:"var",NAME:"HAS_REFRACT_TEXTURE",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_TYPE",TOKENS:["REFL_NONE"]},{TYPE:"var",NAME:"USE_DERIVATIVES_EXT",TOKENS:["0"]},{TYPE:"var",NAME:"CAMERA_TYPE",TOKENS:["CAM_TYPE_PERSP"]},{TYPE:"var",NAME:"IS_WORLD",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_BSDF_BEGIN",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"mirror.glslf"},{TYPE:"include",FILE:"shadow.glslf"},{TYPE:"include",FILE:"environment.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION","USE_REFRACTION",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"refraction.glslf"}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","qX",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_B4W_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","q_","(","in","vec3","qY",",","in","float","qZ",")","{","vec3","et","=","vec3","(","_0_0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["et","=","cB","(","l",",","qY",".","xy","*","qZ",")",";"]}]}},{TYPE:"elif",EXPRESSION:["HAS_REFRACT_TEXTURE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["et","=","GLSL_TEXTURE","(","u_refractmap",",","l",".","xy","/","l",".","z",")",".","rgb",";","cg","(","et",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","et",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_SEPHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","jt","(","vec3","rgb",")","{","vec4","js","=","vec4","(","_0_0",",","-","_1_0","/","3.0",",","2.0","/","3.0",",","-","_1_0",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","js",".","wz",")",",","vec4","(","rgb",".","gb",",","js",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","dn","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","hK","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","dn","+","hK",")",")",",","dn","/","(","q",".","x","+","hK",")",",","q",".","x",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_COMBHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","jv","(","vec3","ju",")","{","vec4","js","=","vec4","(","_1_0",",","2.0","/","3.0",",","_1_0","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","ju",".","r",",","ju",".","r",",","ju",".","r",")","+","js",".","xyz",")","*","6.0","-","js",".","www",")",";","return","ju",".","b","*","mix","(","js",".","xxx",",","clamp","(","p","-","js",".","xxx",",","_0_0",",","_1_0",")",",","ju",".","g",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_UV","USE_NODE_B4W_PARALLAX","USE_NODE_UV_MERGED","USE_NODE_TEX_COORD_UV","USE_NODE_UVMAP",{TYPE:"logical_or_expr",PLACES:5}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rc","(","vec2","gq",")","{","return","vec3","(","gq","*","2.0","-","vec2","(","_1_0",",","_1_0",")",",","_0_0",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_COLOR","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","rd","(","vec3","qo",")","{","return","vec2","(","qo",".","xy","*","_0_5","+","vec2","(","_0_5",",","_0_5",")",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_FRESNEL","USE_NODE_LAYER_WEIGHT",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","rj","(","vec3","re",",","vec3","rf",",","float","rh",")","{","float","di","=","abs","(","dot","(","re",",","rf",")",")",";","float","g","=","rh","*","rh","-","_1_0","+","di","*","di",";","float","ri",";","if","(","g",">","_0_0",")","{","g","=","sqrt","(","g",")",";","float","cp","=","(","g","-","di",")","/","(","g","+","di",")",";","float","oN","=","(","di","*","(","g","+","di",")","-","_1_0",")","/","(","di","*","(","g","-","di",")","+","_1_0",")",";","ri","=","_0_5","*","cp","*","cp","*","(","_1_0","+","oN","*","oN",")",";","}","else","{","ri","=","_1_0",";","}","return","ri",";","}"]}]}}]},{TYPE:"node",NAME:"CAMERA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rJ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rK",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rL",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["rJ","=","normalize","(","rG",".","xyz",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rK"],STATEMENTS:[{TYPE:"txt",TOKENS:["rK","=","abs","(","rG",".","z",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rL"],STATEMENTS:[{TYPE:"txt",TOKENS:["rL","=","length","(","rG",".","xyz",")",";"]}]}]}]},{TYPE:"node",NAME:"COMBRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rP","=","vec3","(","rM",",","rN",",","rO",")",";"]}]},{TYPE:"node",NAME:"COMBHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rT","=","jv","(","vec3","(","rQ",",","rR",",","rS",")",")",";"]}]},{TYPE:"node",NAME:"EMPTY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rU",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rU","=","vec3","(","-","_1_0",",","-","_1_0",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"EMPTY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rV",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rV","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rk",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rW","=","rc","(","rk",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_OR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rX",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rX","=","2.0","*","qX","-","vec3","(","_1_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rl",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rY","=","max","(","vec3","(","_0_0",")",",","rl",")",";","cg","(","rY",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rm",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rZ","=","max","(","_0_0",",","rm",")",";","cg","(","rZ",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"r_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rn",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["r_","=","max","(","_0_0",",","rn","[","0","]",")",";","sa","=","max","(","_0_0",",","rn","[","1","]",")",";","cg","(","r_",")",";","cg","(","sa",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"sb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"ro",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sb","=","max","(","_0_0",",","ro","[","0","]",")",";","sc","=","max","(","_0_0",",","ro","[","1","]",")",";","sd","=","max","(","_0_0",",","ro","[","2","]",")",";","cg","(","sb",")",";","cg","(","sc",")",";","cg","(","sd",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_NO",NODE_VARS:[{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"se",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["sf","=","se",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["sf","=","rz",".","xyz",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_FB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"sg",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["sg","=","(","gl_FrontFacing",")","?","_0_0",":","_1_0",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["sg","=","(","gl_FrontFacing",")","?","_1_0",":","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_BF",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"sh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["sh","=","(","gl_FrontFacing",")","?","_1_0",":","_0_0",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["sh","=","(","gl_FrontFacing",")","?","_0_0",":","_1_0",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_VW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"si",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["si","=","-","_","(","u_view_tsr_frag",",","nI",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_LO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"sj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sj","=","rG",".","xyz",";"]}]},{TYPE:"node",NAME:"GEOMETRY_GL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"sk",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sk","=","nG",";"]}]},{TYPE:"node",NAME:"GEOMETRY_IN",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"sl",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sl","=","nI",";"]}]},{TYPE:"node",NAME:"NEW_GEOMETRY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"sm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"so",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"su",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sx",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sm","=","vec3","(","_0_0",")",";","sn","=","vec3","(","_0_0",")",";","so","=","vec3","(","_0_0",")",";","sr","=","vec3","(","_0_0",")",";","su","=","vec3","(","_0_0",")",";","sv","=","vec3","(","_0_0",")",";","sw","=","_0_0",";","sx","=","_0_0",";"]}]},{TYPE:"node",NAME:"HUE_SAT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ju","=","jt","(","sC",")",";","ju","[","0","]","+=","(","sy","-","_0_5",")",";","if","(","ju","[","0","]",">","_1_0",")","ju","[","0","]","-=","_1_0",";","else","if","(","ju","[","0","]","<","_0_0",")","ju","[","0","]","+=","_1_0",";","ju","*=","vec3","(","_1_0",",","sz",",","sA",")",";","ju","=","mix","(","vec3","(","_1_0",")",",","mix","(","vec3","(","_0_0",")",",","ju",",","step","(","vec3","(","_0_0",")",",","ju",")",")",",","step","(","ju",",","vec3","(","_1_0",")",")",")",";","sD","=","mix","(","sC",",","jv","(","ju",")",",","sB",")",";"]}]},{TYPE:"node",NAME:"INVERT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sG","=","mix","(","sF",",","vec3","(","_1_0",")","-","sF",",","sE",")",";"]}]},{TYPE:"node",NAME:"LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_INDEX",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_USE_SPHERE",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"sH",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"sI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sK",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_INDEX",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sH"],STATEMENTS:[{TYPE:"txt",TOKENS:["sH","=","u_lamp_light_color_intensities","[","LAMP_INDEX","]",";"]}]}]},{TYPE:"txt",TOKENS:["vec3","sL","=","u_lamp_light_directions","[","LAMP_INDEX","]",";","vec3","sM","=","u_lamp_light_positions","[","LAMP_INDEX","]",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["sI","=","h","-","sM",";","sJ","=","length","(","sI",")",";","sI","=","normalize","(","sI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sK"],STATEMENTS:[{TYPE:"txt",TOKENS:["sK","=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","sJ","*","sJ",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","ol","=","dot","(","-","sI",",","sL",")",";","ol","*=","smoothstep","(","_0_0",",","_1_0",",","(","ol","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","sK","*=","ol",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_USE_SPHERE"],STATEMENTS:[{TYPE:"txt",TOKENS:["sK","*=","max","(","LAMP_LIGHT_DIST","-","sJ",",","_0_0",")","/","LAMP_LIGHT_DIST",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sI"],STATEMENTS:[{TYPE:"txt",TOKENS:["sI","=","sL",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["sJ","=","length","(","sM","-","h",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sK"],STATEMENTS:[{TYPE:"txt",TOKENS:["sK","=","_1_0",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sH"],STATEMENTS:[{TYPE:"txt",TOKENS:["sH","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["sI","=","vec3","(","_0_0",")",";","sJ","=","0.0",";"]}]}]}]},{TYPE:"node",NAME:"NORMAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sO",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"sP",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"rp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sO"],STATEMENTS:[{TYPE:"txt",TOKENS:["sO","=","rp",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sP"],STATEMENTS:[{TYPE:"txt",TOKENS:["sP","=","-","dot","(","sN",",","rp",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_VECTOR_VIEW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sR","=","-","_","(","u_view_tsr_frag",",","sQ",")",";"]}]},{TYPE:"node",NAME:"BSDF_BEGIN",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"s_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ta",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"td",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"te",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"th",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ti",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"to",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["te","=","sT",";","tf","=","sV",";","tg","=","sY",";","tj","=","sT",";","tk","=","sV",";","tl","=","sZ",";","tm","=","s_",";","tn","=","ta",";","to","=","tb",";","tc","=","rH","*","te",";","td","=","rI","*","u_environment_energy","*","cn","(","tg",")",";","ti","=","cq","(","te",")",";","G","=","ti",";","th","[","0","]","=","sU",";","th","[","1","]","=","sW",";","th","[","2","]","=","sX",";"]}]},{TYPE:"node",NAME:"BSDF_END",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tr",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tw",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ty",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","tE","=","clamp","(","tw","[","1","]",",","_0_0",",","_1_0",")",";","float","qO","=","tw","[","2","]",";","tD","=","tr",".","rgb",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_TYPE","REFL_CUBE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tD","+=","qW","(","tx",",","ty",",","nI",",","tv",",","qO",",","tE",",","mat3","(","_0_0",")",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["tD","+=","qW","(","tx",",","ty",",","nI",",","tv",",","qO",",","u_view_tsr_frag",")",";"]}]}]},{TYPE:"txt",TOKENS:["tD","+=","tu",";","tD","=","mix","(","tD",",","tz",",","tA",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NODE_BSDF_TRANSPARENT"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","tF","=","GLSL_TEXTURE","(","u_refractmap",",","l",".","xy","/","l",".","z",")",".","rgb",";","cg","(","tF",")",";","tB","=","tB","*","tF",";","tD","+=","tB",";"]}]}]},{TYPE:"txt",TOKENS:["tv",";"]}]},{TYPE:"node",NAME:"BSDF_COMPUTE",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tH",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tK",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","rf","=","tI",";","float","tN","=","clamp","(","tK","[","0","]",",","_0_0",",","_1_0",")",";","float","tE","=","clamp","(","tK","[","1","]",",","_0_0",",","_1_0",")",";","float","qO","=","tK","[","2","]",";","vec3","pg","=","normalize","(","nI","+","tG",")",";","float","ot","=","(","_1_0","-","tJ",")","*","dot","(","rf",",","tG",")","+","tJ",";","float","tO","=","(","_1_0","-","tJ",")","*","max","(","dot","(","tG",",","pg",")",",","_0_0",")","+","tJ",";","float","tP","=","(","_1_0","-","tJ",")","*","max","(","dot","(","tI",",","pg",")",",","_0_0",")","+","tJ",";","tL","=","_0_0",";","if","(","tH",".","r","!=","_0_0",")","{","if","(","tN",">","_0_0",")","{","float","oF","=","max","(","dot","(","rf",",","nI",")",",","_0_0",")",";","float","oG","=","tN","*","tN",";","float","cp","=","_1_0","-","_0_5","*","(","oG","/","(","oG","+","0.33",")",")",";","vec3","oH","=","tG","-","ot","*","rf",";","vec3","oI","=","nI","-","oF","*","rf",";","if","(","length","(","oH",")","==","_0_0","||","length","(","oI",")","==","_0_0","||","abs","(","ot",")",">","_1_0","||","abs","(","oF",")",">","_1_0",")","tL","=","ot","*","cp",";","else","{","float","oJ","=","acos","(","ot",")",";","float","oK","=","acos","(","oF",")",";","vec3","oL","=","normalize","(","oH",")",";","vec3","oM","=","normalize","(","oI",")",";","float","a",",","b",";","a","=","max","(","oJ",",","oK",")",";","b","=","min","(","oJ",",","oK",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oL",",","oM",")",",","_0_0",")",";","float","oN","=","0.45","*","(","oG","/","(","oG","+","0.09",")",")",";","tL","=","ot","*","(","cp","+","(","oN","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","tL","=","ot",";","tL","=","max","(","tL",",","_0_0",")","/","M_PI",";","}","float","J","=","tE",";","float","tQ","=","J","*","J",";","float","tR","=","(","tP","*","tQ","-","tP",")","*","tP","+","_1_0",";","float","cm","=","tQ","/","(","M_PI","*","tR","*","tR",")",";","float","tS",";","float","tT",";","float","tU","=","pow","(","_1_0","-","tO",",","5.0",")",";","tS","=","_1_0",";","tT","=","tU",";","float","js","=","J","/","2.0",";","float","tV","=","js","*","js",";","float","tW","=","_1_0","-","tV",";","float","tX","=","_1_0","/","(","tO","*","tO","*","tW","+","tV",")",";","tS","*=","tX",";","tT","*=","tX",";","float","tY","=","mix","(","0.04",",","_1_0",",","qO",")",";","float","tZ","=","mix","(","tT",",","tS",",","tY",")",";","tM","=","max","(","ot","*","cm","*","tZ",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"BSDF_ANISOTROPIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"t_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ua",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ub",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ud",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ue",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uf","=","t_",";","ua",";","ub",";","uc",";","ud",";","ue",";"]}]},{TYPE:"node",NAME:"BSDF_DIFFUSE",NODE_VARS:[{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ug",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ui",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ul",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"um",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"un",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"up",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ur",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"us",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ut",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uk","=","ug",";","ul","=","uh",";","uo","=","_0_0",";","ur","=","_0_0",";","ut","=","_1_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["up","=","ui",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["up","=","nH",";"]}]}]},{TYPE:"txt",TOKENS:["uj",";","um","=","vec3","(","_0_0",")",";","un","=","_0_0",";","uq","=","vec3","(","_0_0",")",";","us","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"BSDF_GLASS",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ux",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uy",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uy","=","uu",";","uv",";","uw",";","ux",";"]}]},{TYPE:"node",NAME:"BSDF_GLOSSY",NODE_VARS:[{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"uz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uF","=","uz",";","uG","=","uA",";","uH","=","_1_0",";","uK","=","_0_0",";","uM","=","_1_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["uI","=","uB",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["uI","=","nH",";"]}]}]},{TYPE:"txt",TOKENS:["uC",";","uD","=","vec3","(","_0_0",")",";","uE","=","_0_0",";","uJ","=","vec3","(","_0_0",")",";","uL","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"BSDF_HAIR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uR","=","uN",";","uO",";","uP",";","uQ",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSPARENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"u_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"va",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vc",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vb","=","uS",";","uY","=","_0_0",";","va","=","_0_0",";","vc","=","_0_0",";","uZ","=","nH",";","uT",";","uU","=","vec3","(","_0_0",")",";","uV","=","_0_0",";","uW","=","vec3","(","_0_0",")",";","uX","=","_0_0",";","u_","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSLUCENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ve",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vf","=","vd",";","ve",";"]}]},{TYPE:"node",NAME:"BSDF_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vk",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vk","[","0","]","=","vk","[","1","]","=","vk","[","2","]","=","_0_0",";","vg",";","vh",";","vi",";","vj",";"]}]},{TYPE:"node",NAME:"BSDF_TOON",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vp","=","vl",";","vm",";","vn",";","vo",";"]}]},{TYPE:"node",NAME:"BSDF_VELVET",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vt",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vt","=","vq",";","vr",";","vs",";"]}]},{TYPE:"node",NAME:"SUBSURFACE_SCATTERING",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vx",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vA",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vA","[","0","]","=","vA","[","1","]","=","vA","[","2","]","=","_0_0",";","vu",";","vw",";","vx",";","vy",";","vz",";","vv",";"]}]},{TYPE:"node",NAME:"EMISSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vN",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vK","=","vC","*","vB",";","vI","=","_0_0",";","vL","=","_1_0",";","vN","=","_1_0",";","vJ","=","nH",";","vD",";","vE","=","vec3","(","_0_0",")",";","vF","=","_0_0",";","vG","=","vec3","(","_0_0",")",";","vH","=","_0_0",";"]}]},{TYPE:"node",NAME:"AMBIENT_OCCLUSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vP","[","0","]","=","vP","[","1","]","=","vP","[","2","]","=","_0_0",";","vO",";"]}]},{TYPE:"node",NAME:"HOLDOUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vQ","[","0","]","=","vQ","[","1","]","=","vQ","[","2","]","=","_0_0",";"]}]},{TYPE:"node",NAME:"VOLUME_ABSORPTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vT","[","0","]","=","vT","[","1","]","=","vT","[","2","]","=","_0_0",";","vR",";","vS",";"]}]},{TYPE:"node",NAME:"VOLUME_SCATTER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vX",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vX","[","0","]","=","vX","[","1","]","=","vX","[","2","]","=","_0_0",";","vU",";","vV",";","vW",";"]}]},{TYPE:"node",NAME:"BUMP",NODE_VARS:[{TYPE:"node_var",NAME:"INVERT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"vY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"v_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","aM","=","vZ",";","float","gd","=","vY",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["INVERT"],STATEMENTS:[{TYPE:"txt",TOKENS:["aM","=","-","_1_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","U","=","wa",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","U","=","nH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_DERIVATIVES_EXT"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","wc","=","dFdx","(","nG",")",";","vec3","wd","=","dFdy","(","nG",")",";","vec3","we","=","cross","(","wd",",","U",")",";","vec3","wf","=","cross","(","U",",","wc",")",";","float","dj","=","dot","(","wc",",","we",")",";","float","wg","=","abs","(","dj",")",";","vec3","wh","=","dFdx","(","v_",")","*","we","+","dFdy","(","v_",")","*","wf",";","gd","=","max","(","gd",",","_0_0",")",";","wb","=","normalize","(","wg","*","U","-","aM","*","sign","(","dj",")","*","wh",")",";","wb","=","normalize","(","gd","*","wb","+","(","_1_0","-","gd",")","*","U",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wb","=","U",";"]}]}]}]},{TYPE:"node",NAME:"DISPLACEMENT_BUMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","aM","=","0.1",";","vec3","U","=","nH",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_DERIVATIVES_EXT"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","wc","=","dFdx","(","nG",")",";","vec3","wd","=","dFdy","(","nG",")",";","vec3","we","=","cross","(","wd",",","U",")",";","vec3","wf","=","cross","(","U",",","wc",")",";","float","dj","=","dot","(","wc",",","we",")",";","float","wg","=","abs","(","dj",")",";","vec3","wh","=","dFdx","(","wi",")","*","we","+","dFdy","(","wi",")","*","wf",";","wj","=","normalize","(","wg","*","U","-","aM","*","sign","(","dj",")","*","wh",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["wj","=","U",";"]}]}]}]},{TYPE:"node",NAME:"NORMAL_MAP",NODE_VARS:[{TYPE:"node_var",NAME:"SPACE",TOKENS:["NM_TANGENT"]},{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wl",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","wo","=","wm",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","wo","=","rB",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SPACE","NM_TANGENT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","2.0","*","wl",".","xyz","-","_1_0",";","wn","=","rF","*","wn",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_OBJECT",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_OBJECT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","2.0","*","wl",".","xyz","-","_1_0",";","wn",".","yz","*=","-","_1_0",";","wn","=","_","(","u_model_tsr",",","wn",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_WORLD",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_WORLD",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","2.0","*","wl",".","xyz","-","_1_0",";","wn",".","yz","*=","-","_1_0",";"]}]}]},{TYPE:"txt",TOKENS:["float","lo","=","max","(","wk",",","_0_0",")",";","wn","=","normalize","(","mix","(","wo",",","wn",",","lo",")",")",";"]}]},{TYPE:"node",NAME:"VECT_TRANSFORM",NODE_VARS:[{TYPE:"node_var",NAME:"CONVERT_TYPE",TOKENS:["VT_WORLD_TO_OBJECT"]},{TYPE:"node_var",NAME:"VECTOR_TYPE",TOKENS:["VT_VECTOR"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wq",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_WORLD",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_OBJECT_TO_OBJECT",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_CAMERA_TO_CAMERA",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","wp",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_POINT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","ap","(","u_view_tsr_frag",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","ap","(","u_model_tsr_inverse",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","ap","(","u_model_tsr",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","ap","(","u_model_tsr",",","wp",")",";","wq","=","ap","(","u_view_tsr_frag",",","wq",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","ap","(","u_view_tsr_inverse",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","ap","(","u_view_tsr_inverse",",","wp",")",";","wq","=","ap","(","u_model_tsr_inverse",",","wq",")",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","_","(","u_view_tsr_frag",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","_","(","u_model_tsr_inverse",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","_","(","u_model_tsr",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","_","(","u_model_tsr",",","wp",")",";","wq","=","_","(","u_view_tsr_frag",",","wq",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","_","(","u_view_tsr_inverse",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","_","(","u_view_tsr_inverse",",","wp",")",";","wq","=","_","(","u_model_tsr_inverse",",","wq",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_NORMAL",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","normalize","(","wq",")",";"]}]}]}]}]}]},{TYPE:"node",NAME:"BLACKBODY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ws",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ws","[","0","]","=","ws","[","1","]","=","ws","[","2","]","=","_0_0",";","wr",";"]}]},{TYPE:"node",NAME:"WAVELENGTH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wu",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wu","[","0","]","=","wu","[","1","]","=","wu","[","2","]","=","_0_0",";","wt",";"]}]},{TYPE:"node",NAME:"SEPXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wC",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wA","=","wv","[","0","]",";","wB","=","wv","[","1","]",";","wC","=","wv","[","2","]",";"]}]},{TYPE:"node",NAME:"COMBXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wG","[","0","]","=","wD",";","wG","[","1","]","=","wE",";","wG","[","2","]","=","wF",";"]}]},{TYPE:"node",NAME:"BRIGHTCONTRAST",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wK",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","b","=","wI","-","wJ","*","_0_5",";","wK","=","max","(","(","_1_0","+","wJ",")","*","wH","+","b",",","vec3","(","_0_0",")",")",";"]}]},{TYPE:"node",NAME:"LIGHT_FALLOFF",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wN","=","wO","=","wP","=","_0_0",";","wL",";","wM",";"]}]},{TYPE:"node",NAME:"TEX_SKY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wR","[","0","]","=","wR","[","1","]","=","wR","[","2","]","=","_0_0",";","wQ",";"]}]},{TYPE:"node",NAME:"TEX_NOISE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wW","[","0","]","=","wW","[","1","]","=","wW","[","2","]","=","_0_0",";","wX","=","_1_0",";","wS",";","wT",";","wU",";","wV",";"]}]},{TYPE:"node",NAME:"TEX_WAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"w_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xd",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xc","[","0","]","=","xc","[","1","]","=","xc","[","2","]","=","_0_0",";","xd","=","_1_0",";","wY",";","wZ",";","w_",";","xa",";","xb",";"]}]},{TYPE:"node",NAME:"TEX_VORONOI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xg","[","0","]","=","xg","[","1","]","=","xg","[","2","]","=","_0_0",";","xh","=","_1_0",";","xe",";","xf",";"]}]},{TYPE:"node",NAME:"TEX_MUSGRAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xp","[","0","]","=","xp","[","1","]","=","xp","[","2","]","=","_0_0",";","xq","=","_1_0",";","xi",";","xj",";","xk",";","xl",";","xm",";","xn",";","xo",";"]}]},{TYPE:"node",NAME:"TEX_GRADIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xt",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xs","[","0","]","=","xs","[","1","]","=","xs","[","2","]","=","_0_0",";","xt","=","_1_0",";","xr",";"]}]},{TYPE:"node",NAME:"TEX_MAGIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xC",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xB","[","0","]","=","xB","[","1","]","=","xB","[","2","]","=","_0_0",";","xC","=","_1_0",";","xu",";","xv",";","xA",";"]}]},{TYPE:"node",NAME:"TEX_CHECKER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xI",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xH","[","0","]","=","xH","[","1","]","=","xH","[","2","]","=","_0_0",";","xI","=","_1_0",";","xD",";","xE",";","xF",";","xG",";"]}]},{TYPE:"node",NAME:"TEX_BRICK",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xS","[","0","]","=","xS","[","1","]","=","xS","[","2","]","=","_0_0",";","xT","=","_1_0",";","xJ",";","xK",";","xL",";","xM",";","xN",";","xO",";","xP",";","xQ",";","xR",";"]}]},{TYPE:"node",NAME:"ADD_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xW",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xW","=","clamp","(","xU","+","xV",",","vec3","(","_0_0",")",",","vec3","(","_1_0",")",")",";"]}]},{TYPE:"node",NAME:"MIX_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"x_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ya",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ye",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ym",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ys",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yH",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","xX",",","_0_0",",","_1_0",")",";","yu","=","mix","(","x_",",","yj",",","yI",")",";","yv","=","mix","(","ya",",","yk",",","yI",")",";","if","(","yd",">","_0_0",")","{","if","(","yn",">","_0_0",")","{","yA","=","mix","(","yb",",","yl",",","yI",")",";","yB","=","mix","(","yc",",","ym",",","yI",")",";","}","else","{","yA","=","yb",";","yB","=","yc",";","}","}","else","{","yA","=","yl",";","yB","=","ym",";","}","if","(","yg",">","_0_0",")","{","if","(","yq",">","_0_0",")","{","yE","=","mix","(","yf",",","yp",",","yI",")",";","}","else","{","yE","=","yf",";","}","}","else","{","yE","=","yp",";","}","yC","=","mix","(","yd",",","yn",",","yI",")",";","yD","=","mix","(","ye",",","yo",",","yI",")",";","yF","=","mix","(","yg",",","yq",",","yI",")",";","yG","=","mix","(","yh",",","yr",",","yI",")",";","yH","=","mix","(","yi",",","ys",",","yI",")",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rq",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_yJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["yJ","=","rc","(","rq",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_yK"],STATEMENTS:[{TYPE:"txt",TOKENS:["yK","=","vec3","(","rq",",","_0_0",")",";"]}]}]}]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rs",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yL","=","vec3","(","rs",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","nH",";"]}]},{TYPE:"node",NAME:"TEX_COORD_GE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yN",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["IS_WORLD",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["yN","=","qX",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yN","=","ry",";"]}]}]}]},{TYPE:"node",NAME:"TEX_COORD_OB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["IS_WORLD",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","ap","(","u_model_tsr_inverse",",","nG",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yO","=","ry",";"]}]}]}]},{TYPE:"node",NAME:"TEX_COORD_CA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yP",".","xy","=","rG",".","xy",";","yP",".","z","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_WI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yQ",".","xy","=","l",".","xy","/","l",".","z",";","yQ",".","z","=","_0_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_RE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yR","=","reflect","(","-","nI",",","nH",")",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rt",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yS","=","vec3","(","rt",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yT","=","_0_0",";","yU","=","_0_0",";","yV","=","_0_0",";","yW","=","vec3","(","_0_0",")",";","yX","=","_0_0",";","yY","=","yW",";","yZ","=","yW",";"]}]},{TYPE:"node",NAME:"HAIR_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"y_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"za",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["y_","=","_0_0",";","za","=","_0_0",";","zb","=","_0_0",";","zc","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"OBJECT_INFO",NODE_VARS:[{TYPE:"node_var",NAME:"USE_LOCATION_OUT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_OBJ_IND_OUT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MAT_IND_OUT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_RANDOM_OUT",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"zd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ze",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zg",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_LOCATION_OUT"],STATEMENTS:[{TYPE:"txt",TOKENS:["zd","=","u_model_tsr","[","0","]",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OBJ_IND_OUT"],STATEMENTS:[{TYPE:"txt",TOKENS:["ze","=","u_obj_info",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MAT_IND_OUT"],STATEMENTS:[{TYPE:"txt",TOKENS:["zf","=","u_obj_info",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_RANDOM_OUT"],STATEMENTS:[{TYPE:"txt",TOKENS:["zg","=","u_obj_info",".","b",";"]}]}]}]},{TYPE:"node",NAME:"WIREFRAME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zi",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zi","=","zh",";"]}]},{TYPE:"node",NAME:"TANGENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"zj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LAYER_WEIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zn",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ce","=","normalize","(","zl",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ce","=","nH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CAMERA_TYPE","CAM_TYPE_PERSP",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zo","=","normalize","(","nI",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zo","=","u_camera_direction",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zm"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","rh","=","max","(","_1_0","-","zk",",","0.00001",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["rh","=","gl_FrontFacing","==","false","?","rh",":","_1_0","/","rh",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["rh","=","gl_FrontFacing","?","rh",":","_1_0","/","rh",";"]}]}]},{TYPE:"txt",TOKENS:["zm","=","rj","(","zo",",","ce",",","rh",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zm","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_zn"],STATEMENTS:[{TYPE:"txt",TOKENS:["zn","=","abs","(","dot","(","zo",",","ce",")",")",";","float","dT","=","zk",";","if","(","dT","!=","_0_5",")","{","dT","=","clamp","(","dT",",","_0_0",",","0.99999",")",";","dT","=","(","dT","<","_0_5",")","?","2.0","*","dT",":","_0_5","/","(","_1_0","-","dT",")",";","zn","=","pow","(","zn",",","dT",")",";","}","zn","=","_1_0","-","zn",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zn","=","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"LIGHT_PATH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"zp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zs",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zD",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zp","=","zq","=","zr","=","_0_0",";","zs","=","zt","=","zu","=","_0_0",";","zv","=","zD","=","zB","=","zC","=","_0_0",";","zA","=","_0_0",";"]}]},{TYPE:"node",NAME:"ATTRIBUTE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"zE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zG",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zE","=","zF","=","vec3","(","_0_0",")",";","zG","=","_0_0",";"]}]},{TYPE:"node",NAME:"SCRIPT",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[]},{TYPE:"node",NAME:"CURVE_VEC",NODE_VARS:[{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["_0_0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zJ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zJ","=","zI",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["zJ",".","r","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","_0_5","*","zI",".","r","+","_0_5",",","NODE_TEX_ROW",")",")",".","r","-","_0_5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["zJ",".","g","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","_0_5","*","zI",".","g","+","_0_5",",","NODE_TEX_ROW",")",")",".","g","-","_0_5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["zJ",".","b","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","_0_5","*","zI",".","b","+","_0_5",",","NODE_TEX_ROW",")",")",".","b","-","_0_5",")","*","2.0",";"]}]}]},{TYPE:"txt",TOKENS:["zJ","=","mix","(","zI",",","zJ",",","zH",")",";"]}]},{TYPE:"node",NAME:"CURVE_RGB",NODE_VARS:[{TYPE:"node_var",NAME:"READ_A",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["_0_0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_A"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","zL",".","r",",","NODE_TEX_ROW",")",")",".","a",";","float","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","zL",".","g",",","NODE_TEX_ROW",")",")",".","a",";","float","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","zL",".","b",",","NODE_TEX_ROW",")",")",".","a",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","zL",".","r",";","float","g","=","zL",".","g",";","float","b","=","zL",".","b",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["zM",".","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","r",",","NODE_TEX_ROW",")",")",".","r",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zM",".","r","=","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["zM",".","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","g",",","NODE_TEX_ROW",")",")",".","g",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zM",".","g","=","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["zM",".","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","b",",","NODE_TEX_ROW",")",")",".","b",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zM",".","b","=","b",";"]}]}]},{TYPE:"txt",TOKENS:["zM","=","mix","(","zL",",","zM",",","zK",")",";"]}]},{TYPE:"node",NAME:"VALTORGB",NODE_VARS:[{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["_0_0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","zQ","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","zN",",","NODE_TEX_ROW",")",")",";","zO","=","zQ",".","rgb",";","zP","=","zQ",".","a",";"]}]},{TYPE:"node",NAME:"MAPPING",NODE_VARS:[{TYPE:"node_var",NAME:"MAPPING_SCALE_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_SCALE",TOKENS:["vec3","(","_1_0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRANS_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRANS",TOKENS:["vec3","(","_0_0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX",TOKENS:["mat4","(","_1_0",")"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP",TOKENS:["vec3","(","_0_0",")"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP",TOKENS:["vec3","(","_1_0",")"]},{TYPE:"node_var",NAME:"MAPPING_IS_NORMAL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zS",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","zR",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_SCALE_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","zS","*","MAPPING_SCALE",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRANS_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","zS","+","MAPPING_TRANS",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRS_MATRIX_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","(","MAPPING_TRS_MATRIX","*","vec4","(","zS",",","_1_0",")",")",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MIN_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","max","(","zS",",","MAPPING_MIN_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MAX_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","min","(","zS",",","MAPPING_MAX_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_IS_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","normalize","(","zS",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zV",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zV","=","zT","+","zU",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zV","=","clamp","(","zV",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zY","=","zW","-","zX",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zY","=","clamp","(","zY",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"z_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Aa",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Aa","=","zZ","*","z_",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Aa","=","clamp","(","Aa",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ab",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ac",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ad",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ad","=","(","Ac","!=","_0_0",")","?","Ab","/","Ac",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ad","=","clamp","(","Ad",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ae",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Af",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ag",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ag","=","sin","(","Ae",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ag","=","clamp","(","Ag",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["Af",";"]}]},{TYPE:"node",NAME:"MATH_COSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ah",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ai",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Aj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Aj","=","cos","(","Ah",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Aj","=","clamp","(","Aj",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["Ai",";"]}]},{TYPE:"node",NAME:"MATH_TANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ak",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Al",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Am",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Am","=","tan","(","Ak",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Am","=","clamp","(","Am",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["Al",";"]}]},{TYPE:"node",NAME:"MATH_ARCSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"An",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ao",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ap",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ap","=","(","An","<=","_1_0","&&","An",">=","-","_1_0",")","?","asin","(","An",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ap","=","clamp","(","Ap",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["Ao",";"]}]},{TYPE:"node",NAME:"MATH_ARCCOSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Aq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ar",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"As",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["As","=","(","Aq","<=","_1_0","&&","Aq",">=","-","_1_0",")","?","acos","(","Aq",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["As","=","clamp","(","As",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["Ar",";"]}]},{TYPE:"node",NAME:"MATH_ARCTANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"At",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Au",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Av",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Av","=","atan","(","At",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Av","=","clamp","(","Av",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["Au",";"]}]},{TYPE:"node",NAME:"MATH_POWER",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Aw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ax",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ay",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","Aw","<","_0_0","&&","Ax","!=","floor","(","Ax",")",")","Ay","=","_0_0",";","else","if","(","Ax","==","_0_0",")","Ay","=","_1_0",";","else","if","(","Aw","<","_0_0",")","Ay","=","mix","(","_1_0",",","-","_1_0",",","sign","(","mod","(","-","Ax",",","2.0",")",")",")","*","pow","(","-","Aw",",","Ax",")",";","else","if","(","Aw","==","_0_0",")","Ay","=","_0_0",";","else","Ay","=","pow","(","Aw",",","Ax",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ay","=","clamp","(","Ay",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_LOGARITHM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Az",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AB",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AB","=","(","Az",">","_0_0","&&","AA",">","_0_0",")","?","log2","(","Az",")","/","log2","(","AA",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AB","=","clamp","(","AB",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MINIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AE","=","min","(","AC",",","AD",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AE","=","clamp","(","AE",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MAXIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AH",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AH","=","max","(","AF",",","AG",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AH","=","clamp","(","AH",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ROUND",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AK","=","floor","(","AI","+","_0_5",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AK","=","clamp","(","AK",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["AJ",";"]}]},{TYPE:"node",NAME:"MATH_LESS_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AN",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AN","=","(","AL","<","AM",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AN","=","clamp","(","AN",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_GREATER_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AQ","=","(","AO",">","AP",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AQ","=","clamp","(","AQ",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MODULO",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AT","=","abs","(","AS",")",">","0.000001","?","mod","(","AR",",","AS",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AT","=","clamp","(","AT",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ABSOLUTE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AW",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AW","=","abs","(","AU",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AW","=","clamp","(","AW",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["AV",";"]}]},{TYPE:"node",NAME:"MIX_RGB_MIX",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"A_",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","AX",",","_0_0",",","_1_0",")",";","A_","=","mix","(","AY",",","AZ",",","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["A_","=","clamp","(","A_",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ba",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bd",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Ba",",","_0_0",",","_1_0",")",";","Bd","=","mix","(","Bb",",","Bb","+","Bc",",","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bd","=","clamp","(","Bd",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Be",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Be",",","_0_0",",","_1_0",")",";","Bh","=","mix","(","Bf",",","Bf","*","Bg",",","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bh","=","clamp","(","Bh",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Bi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bl",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Bi",",","_0_0",",","_1_0",")",";","Bl","=","mix","(","Bj",",","Bj","-","Bk",",","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bl","=","clamp","(","Bl",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SCREEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Bm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Bm",",","_0_0",",","_1_0",")",";","float","Bq","=","_1_0","-","yI",";","Bp","=","vec3","(","_1_0",")","-","(","vec3","(","Bq",")","+","yI","*","(","vec3","(","_1_0",")","-","Bo",")",")","*","(","vec3","(","_1_0",")","-","Bn",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bp","=","clamp","(","Bp",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Br",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bu",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Br",",","_0_0",",","_1_0",")",";","float","Bq","=","_1_0","-","yI",";","Bt","+=","step","(","Bt",",","vec3","(","_0_0",")",")",";","Bu","=","Bq","*","Bs","+","yI","*","Bs","/","Bt",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bu","=","clamp","(","Bu",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIFFERENCE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Bv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"By",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Bv",",","_0_0",",","_1_0",")",";","By","=","mix","(","Bw",",","abs","(","Bw","-","Bx",")",",","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["By","=","clamp","(","By",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DARKEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Bz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Bz",",","_0_0",",","_1_0",")",";","BC","=","min","(","BA",".","rgb",",","BB",".","rgb","*","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["BC","=","clamp","(","BC",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LIGHTEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","BD",",","_0_0",",","_1_0",")",";","BG","=","max","(","BE",".","rgb",",","BF",".","rgb","*","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["BG","=","clamp","(","BG",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_OVERLAY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BK",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","BH",",","_0_0",",","_1_0",")",";","vec3","BL","=","vec3","(","_1_0","-","yI",")",";","BK","=","mix","(","BI","*","(","BL","+","2.0","*","yI","*","BJ",")",",","vec3","(","_1_0",")","-","(","BL","+","2.0","*","yI","*","(","vec3","(","_1_0",")","-","BJ",")",")","*","(","vec3","(","_1_0",")","-","BI",")",",","step","(","_0_5",",","BI",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["BK","=","clamp","(","BK",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DODGE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","BM",",","_0_0",",","_1_0",")",";","vec3","BQ","=","vec3","(","_1_0",")","-","yI","*","BO",";","vec3","BR","=","clamp","(","BN","/","BQ",",","_0_0",",","_1_0",")",";","BP","=","mix","(","mix","(","BR",",","vec3","(","_1_0",")",",","step","(","BQ",",","vec3","(","_0_0",")",")",")",",","BN",",","step","(","BN",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["BP","=","clamp","(","BP",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_BURN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BV",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","BS",",","_0_0",",","_1_0",")",";","vec3","jC","=","vec3","(","_1_0","-","yI",")",";","vec3","BQ","=","jC","+","yI","*","BU",";","vec3","BR","=","clamp","(","vec3","(","_1_0",")","-","(","vec3","(","_1_0",")","-","BT",")","/","BQ",",","_0_0",",","_1_0",")",";","BV","=","mix","(","BR",",","vec3","(","_0_0",")",",","step","(","BQ",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["BV","=","clamp","(","BV",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_HUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","BW",",","_0_0",",","_1_0",")",";","vec3","ju",",","B_",",","BQ",";","BZ","=","BX",";","B_","=","jt","(","BY",")",";","if","(","B_",".","y","!=","_0_0",")","{","ju","=","jt","(","BZ",")",";","ju",".","x","=","B_",".","x",";","BQ","=","jv","(","ju",")",";","BZ","=","mix","(","BZ",",","BQ",",","yI",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["BZ","=","clamp","(","BZ",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SATURATION",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ca",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cd",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Ca",",","_0_0",",","_1_0",")",";","float","Bq","=","_1_0","-","yI",";","Cd","=","Cb",";","vec3","ju",",","B_",";","ju","=","jt","(","Cd",")",";","if","(","ju",".","y","!=","_0_0",")","{","B_","=","jt","(","Cc",")",";","ju",".","y","=","Bq","*","ju",".","y","+","yI","*","B_",".","y",";","Cd","=","jv","(","ju",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cd","=","clamp","(","Cd",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ce",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ch",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Ce",",","_0_0",",","_1_0",")",";","float","Bq","=","_1_0","-","yI",";","vec3","ju",",","B_",";","ju","=","jt","(","Cf",")",";","B_","=","jt","(","Cg",")",";","ju",".","z","=","Bq","*","ju",".","z","+","yI","*","B_",".","z",";","Ch","=","jv","(","ju",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ch","=","clamp","(","Ch",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ci",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ck",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cl",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Ci",",","_0_0",",","_1_0",")",";","vec3","ju",",","B_",",","BQ",";","Cl","=","Cj",";","B_","=","jt","(","Ck",")",";","if","(","B_",".","y","!=","_0_0",")","{","ju","=","jt","(","Cl",")",";","ju",".","x","=","B_",".","x",";","ju",".","y","=","B_",".","y",";","BQ","=","jv","(","ju",")",";","Cl","=","mix","(","Cl",",","BQ",",","yI",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cl","=","clamp","(","Cl",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SOFT_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Cm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Co",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Cm",",","_0_0",",","_1_0",")",";","float","Bq","=","_1_0","-","yI",";","vec3","Cq","=","Co","+","Cn","-","Co","*","Cn",";","Cp","=","Cn","*","(","vec3","(","Bq",")","+","vec3","(","yI",")","*","(","(","vec3","(","_1_0",")","-","Cn",")","*","Co","+","Cq",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cp","=","clamp","(","Cp",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LINEAR_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Cr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ct",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cu",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Cr",",","_0_0",",","_1_0",")",";","Cu","=","Cs","+","yI","*","(","2.0","*","Ct","-","vec3","(","_1_0",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cu","=","clamp","(","Cu",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_WORLD_RGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cy",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Cv",",","_0_0",",","_1_0",")",";","Cy","=","mix","(","Cw",",","Cx",",","yI",")",";"]}]},{TYPE:"node",NAME:"ADD_WORLD_RGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Cz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Cz",",","_0_0",",","_1_0",")",";","CC","=","mix","(","CA",",","CA","+","CB",",","yI",")",";"]}]},{TYPE:"node",NAME:"OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"CD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","CD",";","H","=","CE",";"]}]},{TYPE:"node",NAME:"OUTPUT_SURFACE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"CF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","CF",";","H","=","_1_0",";"]}]},{TYPE:"node",NAME:"OUTPUT_WORLD_SURFACE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"CG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","CG",";","H","=","_1_0",";"]}]},{TYPE:"node",NAME:"MATERIAL_BEGIN",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_NORMAL",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"SHADELESS_MAT",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"CH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CK",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CL",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CR",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CS",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CT",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"ru",QUALIFIER:["const","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rv",QUALIFIER:["const","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["CO","=","clamp","(","CH",",","_0_0",",","_1_0",")",";","CP","=","rv","[","0","]","*","clamp","(","CI",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["CQ","=","normalize","(","CK",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["CQ","=","nH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SHADELESS_MAT",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"txt",TOKENS:["CM","=","CL","*","CO",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["CM","=","rH","*","CO",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["CO","*=","CJ",";"]}]}]},{TYPE:"txt",TOKENS:["CN","=","rI","*","u_environment_energy","*","cn","(","CQ",")",";","CT","=","cq","(","CO",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["CR","=","vec2","(","ru","[","0","]",",","ru","[","1","]",")",";","CS","=","vec2","(","rv","[","1","]",",","rv","[","2","]",")",";"]}]}]},{TYPE:"txt",TOKENS:["G","=","CT",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["CM","=","vec3","(","_0_0",")",";","CN","=","vec3","(","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATERIAL_END",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_SPECULAR",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"CU",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CX",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CY",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CZ",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"C_",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Da",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Db",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dc",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dd",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"rw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rx",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_C_"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["C_","=","CU",".","rgb",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["C_","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT","REFLECTION_TYPE","REFL_NONE",{TYPE:"non_equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_TYPE","REFL_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["cz","(","C_",",","nI",",","CW",",","CX",",","u_view_tsr_frag",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["cz","(","C_",",","nI",",","CW",",","CX",",","mat3","(","_0_0",")",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["C_","+=","CV",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Db"],STATEMENTS:[{TYPE:"txt",TOKENS:["Db","=","CW",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dc"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dc","=","CU",".","rgb",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dd"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dd","=","CV",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Da"],STATEMENTS:[{TYPE:"txt",TOKENS:["Da","=","clamp","(","CZ",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","CV",".","r",",","CV",".","g",")",",","CV",".","b",")","*","CY",";","Da","=","clamp","(","CZ","*","(","_1_0","-","t",")","+","t",",","_0_0",",","_1_0",")",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Da"],STATEMENTS:[{TYPE:"txt",TOKENS:["Da","=","clamp","(","rw",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","CV",".","r",",","CV",".","g",")",",","CV",".","b",")","*","rx",";","Da","=","rw","*","(","_1_0","-","t",")","+","t",";"]}]}]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["E","=","CV",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["E","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["F","=","CW",";"]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"nZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"n_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ob",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ob","=","vec4","(","nZ","+","oa","*","n_",",","_0_0",")",";","oc","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]},{TYPE:"node_var",NAME:"LAMP_SHADOW_MAP_IND",TOKENS:["-","1"]},{TYPE:"node_var",NAME:"LAMP_USE_SPHERE",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"od",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"of",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"og",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["of","=","vec2","(","u_light_positions","[","LAMP_IND","]",".","w",",","u_light_color_intensities","[","LAMP_IND","]",".","w",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["oh","=","_0_5",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oh","=","_0_0",";"]}]}]},{TYPE:"txt",TOKENS:["og","=","u_light_color_intensities","[","LAMP_IND","]",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["og","*=","od","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","u_light_positions","[","LAMP_IND","]",".","xyz",";","oe","=","oi","-","nG",";","float","aM","=","length","(","oe",")",";","og","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","aM","*","aM",")",";","oe","=","normalize","(","oe",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","u_light_directions","[","LAMP_IND","]",";","float","ol","=","dot","(","oe",",","ok",")",";","ol","*=","smoothstep","(","_0_0",",","_1_0",",","(","ol","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","og","*=","ol",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_USE_SPHERE"],STATEMENTS:[{TYPE:"txt",TOKENS:["og","*=","max","(","LAMP_LIGHT_DIST","-","aM",",","_0_0",")","/","LAMP_LIGHT_DIST",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oe","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"om",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"on",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"op",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oq",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"or",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","rf","=","oo",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","om",",","B",".","xyz",")",";","rf","=","cross","(","os",",","B",".","xyz",")",";","rf","=","-","normalize","(","rf",")",";"]}]}]},{TYPE:"txt",TOKENS:["or","=","_0_0",";","if","(","on",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","op",")","*","dot","(","rf",",","om",")","+","op",";","if","(","oq","[","0","]","==","_0_0",")","{","or","=","_1_0",";","}","else","{","float","t","=","_1_0","+","abs","(","ot",")",";","t","=","oq","[","1","]","+","(","_1_0","-","oq","[","1","]",")","*","pow","(","t",",","oq","[","0","]",")",";","or","=","clamp","(","t",",","_0_0",",","_1_0",")",";","}","or","=","max","(","or",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ou",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ov",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ow",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ox",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oy",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","rf","=","ow",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","ou",",","B",".","xyz",")",";","rf","=","cross","(","os",",","B",".","xyz",")",";","rf","=","-","normalize","(","rf",")",";"]}]}]},{TYPE:"txt",TOKENS:["oy","=","_0_0",";","if","(","ov",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","ox",")","*","dot","(","rf",",","ou",")","+","ox",";","oy","=","max","(","ot",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oD",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","rf","=","oB",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oz",",","B",".","xyz",")",";","rf","=","cross","(","os",",","B",".","xyz",")",";","rf","=","-","normalize","(","rf",")",";"]}]}]},{TYPE:"txt",TOKENS:["oE","=","_0_0",";","if","(","oA",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oC",")","*","dot","(","rf",",","oz",")","+","oC",";","if","(","oD","[","0","]",">","_0_0",")","{","float","oF","=","max","(","dot","(","rf",",","nI",")",",","_0_0",")",";","float","oG","=","oD","[","0","]","*","oD","[","0","]",";","float","cp","=","_1_0","-","_0_5","*","(","oG","/","(","oG","+","0.33",")",")",";","vec3","oH","=","oz","-","ot","*","rf",";","vec3","oI","=","nI","-","oF","*","rf",";","if","(","length","(","oH",")","==","_0_0","||","length","(","oI",")","==","_0_0","||","abs","(","ot",")",">","_1_0","||","abs","(","oF",")",">","_1_0",")","oE","=","ot","*","cp",";","else","{","float","oJ","=","acos","(","ot",")",";","float","oK","=","acos","(","oF",")",";","vec3","oL","=","normalize","(","oH",")",";","vec3","oM","=","normalize","(","oI",")",";","float","a",",","b",";","a","=","max","(","oJ",",","oK",")",";","b","=","min","(","oJ",",","oK",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oL",",","oM",")",",","_0_0",")",";","float","oN","=","0.45","*","(","oG","/","(","oG","+","0.09",")",")",";","oE","=","ot","*","(","cp","+","(","oN","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","oE","=","ot",";","oE","=","max","(","oE",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oP",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oS",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","rf","=","oQ",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oO",",","B",".","xyz",")",";","rf","=","cross","(","os",",","B",".","xyz",")",";","rf","=","-","normalize","(","rf",")",";"]}]}]},{TYPE:"txt",TOKENS:["oT","=","_0_0",";","if","(","oP",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oR",")","*","dot","(","rf",",","oO",")","+","oR",";","float","oF","=","max","(","dot","(","rf",",","nI",")",",","_0_0",")",";","if","(","oS","[","0","]","<=","_1_0",")","oT","=","ot","*","pow","(","max","(","oF","*","ot",",","0.1",")",",","oS","[","0","]","-","_1_0",")",";","else","oT","=","ot","*","pow","(","1.0001","-","oF",",","oS","[","0","]","-","_1_0",")",";","oT","=","max","(","oT",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oV",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oY",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","rf","=","oW",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oU",",","B",".","xyz",")",";","rf","=","cross","(","os",",","B",".","xyz",")",";","rf","=","-","normalize","(","rf",")",";"]}]}]},{TYPE:"txt",TOKENS:["oZ","=","_0_0",";","if","(","oV",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oX",")","*","dot","(","rf",",","oU",")","+","oX",";","float","o_","=","acos","(","ot",")",";","if","(","o_","<","oY","[","0","]",")","oZ","=","_1_0",";","else","if","(","o_",">","(","oY","[","0","]","+","oY","[","1","]",")","||","oY","[","1","]","==","_0_0",")","oZ","=","_0_0",";","else","oZ","=","_1_0","-","(","(","o_","-","oY","[","0","]",")","/","oY","[","1","]",")",";","oZ","=","max","(","oZ",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pb",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pe",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","_0_0",";","if","(","pb",".","g","==","_1_0",")","{","vec3","pg","=","normalize","(","pa","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pd","==","_0_0",")","{","pf","=","dot","(","B",".","xyz",",","pg",")",";","pf","=","sqrt","(","_1_0","-","pf","*","pf",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","(","_1_0","-","pd",")","*","max","(","dot","(","pc",",","pg",")",",","_0_0",")","+","pd",";"]}]}]},{TYPE:"txt",TOKENS:["pf","=","pow","(","pf",",","pe","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_COOKTORR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ph",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pi",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","_0_0",";","if","(","pi",".","g","!=","_0_0",")","{","vec3","pg","=","normalize","(","ph","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pk","==","_0_0",")","{","pm","=","dot","(","B",".","xyz",",","pg",")",";","pm","=","sqrt","(","_1_0","-","pm","*","pm",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","max","(","dot","(","pj",",","pg",")",",","_0_0",")",";","pm","=","(","_1_0","-","pk",")","*","pm","+","pk",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","oF","=","max","(","dot","(","B",".","xyz",",","nI",")",",","_0_0",")",";","oF","=","sqrt","(","_1_0","-","oF","*","oF",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","oF","=","max","(","dot","(","pj",",","nI",")",",","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["pm","=","pow","(","pm",",","pl","[","0","]",")",";","pm","=","pm","/","(","0.1","+","oF",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"po",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pv",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pw",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pw","=","_0_0",";","if","(","po",".","g","==","_1_0",")","{","vec3","pg","=","normalize","(","pn","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","_0_0",";","float","oF","=","_0_0",";","float","py","=","_0_0",";","if","(","pu","==","_0_0",")","{","px","=","dot","(","B",".","xyz",",","pg",")",";","oF","=","dot","(","B",".","xyz",",","nI",")",";","py","=","dot","(","B",".","xyz",",","pn",")",";","px","=","sqrt","(","_1_0","-","px","*","px",")",";","oF","=","sqrt","(","_1_0","-","oF","*","oF",")",";","py","=","sqrt","(","_1_0","-","py","*","py",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","max","(","dot","(","pr",",","pg",")",",","0.01",")",";","float","oF","=","max","(","dot","(","pr",",","nI",")",",","0.01",")",";","float","py","=","max","(","dot","(","pr",",","pn",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","bx","=","tan","(","acos","(","px",")",")",";","float","J","=","max","(","pv","[","0","]",",","0.01",")",";","pw","=","py","*","(","_1_0","/","(","4.0","*","M_PI","*","J","*","J",")",")","*","(","exp","(","-","(","bx","*","bx",")","/","(","J","*","J",")",")","/","(","sqrt","(","oF","*","py",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pD",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pE","=","_0_0",";","if","(","pA",".","g","==","_1_0",")","{","vec3","bX","=","normalize","(","pz","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pF","=","dot","(","bX",",","B",".","xyz",")",";","float","bx","=","pD","[","0","]","+","pD","[","1","]",";","if","(","pC","==","_0_0",")","bx","=","acos","(","sqrt","(","_1_0","-","pF","*","pF",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","bx","=","acos","(","dot","(","bX",",","pB",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","bx","<","pD","[","0","]",")","pE","=","_1_0",";","else","if","(","bx",">=","pD","[","0","]","+","pD","[","1","]","||","pD","[","1","]","==","_0_0",")","pE","=","_0_0",";","else","pE","=","_1_0","-","(","bx","-","pD","[","0","]",")","/","pD","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pH",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pK",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pM","=","pK","[","0","]",";","float","pN","=","pK","[","1","]",";","pL","=","_0_0",";","if","(","pH",".","g","==","_1_0",")","{","if","(","pM","<","_1_0","||","pN","==","_0_0",")","pL","=","_0_0",";","else","{","if","(","pN","<","100.0",")","pN","=","sqrt","(","_1_0","/","pN",")",";","else","pN","=","10.0","/","pN",";","vec3","pg","=","normalize","(","nI","+","pG",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","_0_0",";","if","(","pJ","==","_0_0",")","{","float","pO","=","dot","(","B",".","xyz",",","pg",")",";","px","=","sqrt","(","_1_0","-","pO","*","pO",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","(","_1_0","-","pJ",")","*","max","(","dot","(","pI",",","pg",")",",","_0_0",")","+","pJ",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","px","<","_0_0",")","pL","=","_0_0",";","else","{","float","oF","=","max","(","dot","(","pI",",","nI",")",",","0.01",")",";","float","py","=","dot","(","pI",",","pG",")",";","if","(","py","<=","0.01",")","pL","=","_0_0",";","else","{","float","pP","=","max","(","dot","(","nI",",","pg",")",",","0.01",")",";","float","a","=","_1_0",";","float","b","=","(","2.0","*","px","*","oF",")","/","pP",";","float","di","=","(","2.0","*","px","*","py",")","/","pP",";","float","g","=","min","(","min","(","a",",","b",")",",","di",")",";","float","p","=","sqrt","(","pow","(","pM",",","2.0",")","+","pow","(","pP",",","2.0",")","-","_1_0",")",";","float","lw","=","pow","(","p","-","pP",",","2.0",")","/","pow","(","p","+","pP",",","2.0",")","*","(","_1_0","+","pow","(","pP","*","(","p","+","pP",")","-","_1_0",",","2.0",")","/","pow","(","pP","*","(","p","-","pP",")","+","_1_0",",","2.0",")",")",";","float","o_","=","acos","(","px",")",";","pL","=","max","(","lw","*","g","*","exp","(","-","pow","(","o_",",","2.0",")","/","(","2.0","*","pow","(","pN",",","2.0",")",")",")",",","_0_0",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pQ",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pW",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"p_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qa",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NODE_B4W_TRANSLUCENCY"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","pU",",","pV",")","*","dot","(","nI",",","pV",")","<","_0_0",")","{","float","De","=","pW",".","x",";","float","Df","=","pW",".","y",";","float","Dg","=","pW",".","z",";","float","Dh","=","pW",".","w",";","float","Di","=","clamp","(","abs","(","dot","(","pU",",","pV",")",")",",","_0_0",",","_1_0",")",";","float","Dj","=","clamp","(","dot","(","nI",",","-","pU",")",",","_0_0",",","_1_0",")",";","float","Dk","=","pow","(","Dj",",","Df",")",";","qa","=","pQ","+","p_","*","vec4","(","pZ","*","Di","*","pow","(","pX",",","vec3","(","De",")",")",",","_1_0",")",";","qa","+=","Dg","*","mix","(","vec4","(","pX",",","_1_0",")",",","vec4","(","_1_0",")",",","Dh",")","*","p_","*","vec4","(","pZ","*","Di","*","vec3","(","Dk",")",",","_1_0",")",";","}","else","{","qa","=","pQ","+","vec4","(","pZ","*","pX","*","pS",",","pT",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["qa","=","pQ","+","vec4","(","pZ","*","pX","*","pS",",","pT",")",";"]}]}]},{TYPE:"txt",TOKENS:["qb","=","pR","+","pZ","*","pY","*","pT",";"]}]},{TYPE:"node",NAME:"RGB",NODE_VARS:[{TYPE:"node_var",NAME:"RGB_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"Dl",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Dl","=","u_node_rgbs","[","RGB_IND","]",";"]}]},{TYPE:"node",NAME:"RGBTOBW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Dm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dn",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Dn","=","dot","(","Dm",",","vec3","(","0.35",",","0.45",",","0.2",")",")",";"]}]},{TYPE:"node",NAME:"SEPRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Do",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dp",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dq",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dr",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dp"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dp","=","Do",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dq"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dq","=","Do",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dr"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dr","=","Do",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SEPHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ds",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dt",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Du",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dv",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","Dw","=","jt","(","Ds",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dt"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dt","=","Dw",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Du"],STATEMENTS:[{TYPE:"txt",TOKENS:["Du","=","Dw",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dv"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dv","=","Dw",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SQUEEZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Dx",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DA",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DA","=","_1_0","/","(","_1_0","+","pow","(","2.71828183",",","-","(","Dx","-","Dz",")","*","Dy",")",")",";"]}]},{TYPE:"node",NAME:"GAMMA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DD","=","DB",";","if","(","DD",".","x",">","_0_0",")","DD",".","x","=","pow","(","DB",".","x",",","DC",")",";","if","(","DD",".","y",">","_0_0",")","DD",".","y","=","pow","(","DB",".","y",",","DC",")",";","if","(","DD",".","z",">","_0_0",")","DD",".","z","=","pow","(","DB",".","z",",","DC",")",";"]}]},{TYPE:"node",NAME:"B4W_SRGB_TO_LINEAR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DF","=","max","(","vec3","(","_0_0",")",",","DE",")",";","DF","=","pow","(","DF",",","vec3","(","2.2",")",")",";"]}]},{TYPE:"node",NAME:"B4W_LINEAR_TO_SRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DH",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DH","=","max","(","vec3","(","_0_0",")",",","DG",")",";","DH","=","pow","(","DH",",","vec3","(","_1_0","/","2.2",")",")",";"]}]},{TYPE:"node",NAME:"TEXTURE_EMPTY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"DI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_DI"],STATEMENTS:[{TYPE:"txt",TOKENS:["DI","[","2","]","=","DI","[","1","]","=","DI","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_DJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["DJ","[","2","]","=","DJ","[","1","]","=","DJ","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_DK"],STATEMENTS:[{TYPE:"txt",TOKENS:["DK","=","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_ENVIRONMENT_CUBE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DM",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"DN",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_ENVIRONMENT_CUBE_var_texture",QUALIFIER:["uniform","samplerCube"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","DO","=","vec3","(","DL",".","x",",","DL",".","y",",","DL",".","z",")",";","vec4","zQ","=","GLSL_TEXTURE_CUBE","(","node_TEXTURE_ENVIRONMENT_CUBE_var_texture",",","DO",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_DM"],STATEMENTS:[{TYPE:"txt",TOKENS:["DM","=","zQ",".","xyz",";","cg","(","DM",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_DN"],STATEMENTS:[{TYPE:"txt",TOKENS:["DN","=","zQ",".","w",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_ENVIRONMENT_EQUIRECTANGULAR",NODE_VARS:[{TYPE:"node_var",NAME:"USE_VECTOR_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"DP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"node_TEXTURE_ENVIRONMENT_EQUIRECTANGULAR_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_VECTOR_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","DR","=","normalize","(","DP",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["IS_WORLD"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","DR","=","ry",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","DR","=","nH",";"]}]}]},{TYPE:"txt",TOKENS:["float","dr","=","-","atan","(","DR",".","y",",","DR",".","x",")","/","(","2.0","*","M_PI",")","+","_0_5",";","float","kd","=","atan","(","DR",".","z",",","sqrt","(","DR",".","x","*","DR",".","x","+","DR",".","y","*","DR",".","y",")",")","/","M_PI","+","_0_5",";","vec4","zQ","=","GLSL_TEXTURE","(","node_TEXTURE_ENVIRONMENT_EQUIRECTANGULAR_var_texture",",","vec2","(","dr",",","kd",")",")",";","DQ","=","zQ",".","xyz",";","cg","(","DQ",")",";"]}]},{TYPE:"node",NAME:"TEXTURE_ENVIRONMENT_MIRROR_BALL",NODE_VARS:[{TYPE:"node_var",NAME:"USE_VECTOR_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"DS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"node_TEXTURE_ENVIRONMENT_MIRROR_BALL_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_VECTOR_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","DR","=","normalize","(","DS",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["IS_WORLD"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","DR","=","ry",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","DR","=","nH",";"]}]}]},{TYPE:"txt",TOKENS:["DR",".","y","-=","_1_0",";","float","DU","=","2.0","*","sqrt","(","max","(","-","_0_5","*","DR",".","y",",","_0_0",")",")",";","if","(","DU",">","_0_0",")","DR","/=","DU",";","float","dr","=","_0_5","*","(","DR",".","x","+","_1_0",")",";","float","kd","=","_0_5","*","(","DR",".","z","+","_1_0",")",";","vec4","zQ","=","GLSL_TEXTURE","(","node_TEXTURE_ENVIRONMENT_MIRROR_BALL_var_texture",",","vec2","(","dr",",","kd",")",")",";","DT","=","zQ",".","xyz",";","cg","(","DT",")",";"]}]},{TYPE:"node",NAME:"TEXTURE_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"NON_COLOR",TOKENS:["0"]},{TYPE:"node_var",NAME:"CONVERT_UV",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"DV",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"DW",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"DX",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"DY",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"DZ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"D_",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ea",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Eb",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ec",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ed",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ee",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ef",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_COLOR_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_UV"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","zQ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","rd","(","DV",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","zQ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","DV",".","xy",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_DZ"],STATEMENTS:[{TYPE:"txt",TOKENS:["DZ","=","zQ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cg","(","DZ",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_D_"],STATEMENTS:[{TYPE:"txt",TOKENS:["D_","=","zQ",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_UV"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","rd","(","DW",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","DW",".","xy",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ea"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ea","=","zQ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cg","(","Ea",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Eb"],STATEMENTS:[{TYPE:"txt",TOKENS:["Eb","=","zQ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_UV"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","rd","(","DX",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","DX",".","xy",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ec"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ec","=","zQ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cg","(","Ec",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ed"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ed","=","zQ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_UV"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","rd","(","DY",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","DY",".","xy",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ee"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ee","=","zQ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cg","(","Ee",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ef"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ef","=","zQ",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"TEXTURE_NORMAL",NODE_VARS:[{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Eg",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"Eh",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"Ei",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"Ej",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ek",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"El",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Em",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"En",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Eo",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ep",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Eq",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Er",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_NORMAL_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","zQ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","rd","(","Eg",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ek"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ek","=","normalize","(","rD","*","(","zQ",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_El"],STATEMENTS:[{TYPE:"txt",TOKENS:["El","=","zQ",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","rd","(","Eh",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Em"],STATEMENTS:[{TYPE:"txt",TOKENS:["Em","=","normalize","(","rD","*","(","zQ",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_En"],STATEMENTS:[{TYPE:"txt",TOKENS:["En","=","zQ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","rd","(","Ei",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Eo"],STATEMENTS:[{TYPE:"txt",TOKENS:["Eo","=","normalize","(","rD","*","(","zQ",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ep"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ep","=","zQ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","rd","(","Ej",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Eq"],STATEMENTS:[{TYPE:"txt",TOKENS:["Eq","=","normalize","(","rD","*","(","zQ",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Er"],STATEMENTS:[{TYPE:"txt",TOKENS:["Er","=","zQ",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"VALUE_ROW_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"VALUE_COL_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"Es",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Es","=","u_node_values","[","VALUE_ROW_IND","]","[","VALUE_COL_IND","]",";"]}]},{TYPE:"node",NAME:"VECT_MATH_ADD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Et",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Eu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ev",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ew",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ev","=","Et","+","Eu",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ew"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ew","=","(","abs","(","Ev","[","0","]",")","+","abs","(","Ev","[","1","]",")","+","abs","(","Ev","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_SUBTRACT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ex",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ey",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ez",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EA",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ez","=","Ex","-","Ey",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_EA"],STATEMENTS:[{TYPE:"txt",TOKENS:["EA","=","(","abs","(","Ez","[","0","]",")","+","abs","(","Ez","[","1","]",")","+","abs","(","Ez","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_AVERAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ED",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EE",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["ED","=","EB","+","EC",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_EE"],STATEMENTS:[{TYPE:"txt",TOKENS:["EE","=","length","(","ED",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_ED"],STATEMENTS:[{TYPE:"txt",TOKENS:["ED","=","normalize","(","ED",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_DOT_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EI",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["EH","=","vec3","(","_0_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_EI"],STATEMENTS:[{TYPE:"txt",TOKENS:["EI","=","dot","(","EF",",","EG",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_CROSS_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EM",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["EL","=","cross","(","EJ",",","EK",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_EM"],STATEMENTS:[{TYPE:"txt",TOKENS:["EM","=","length","(","EL",")",";","EL","/=","EM",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["EL","=","normalize","(","EL",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_NORMALIZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EQ",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["EP","=","normalize","(","EN",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_EQ"],STATEMENTS:[{TYPE:"txt",TOKENS:["EQ","=","length","(","EN",")",";"]}]}]},{TYPE:"txt",TOKENS:["EO",";"]}]},{TYPE:"node",NAME:"FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"USE_FRESNEL_NORMAL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ER",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ES",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ET",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_FRESNEL_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ce","=","normalize","(","ES",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ce","=","nH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CAMERA_TYPE","CAM_TYPE_PERSP",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zo","=","normalize","(","nI",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","zo","=","u_camera_direction",";"]}]}]},{TYPE:"txt",TOKENS:["float","rh","=","max","(","ER",",","0.00001",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["rh","=","gl_FrontFacing","==","false","?","rh",":","_1_0","/","rh",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["rh","=","gl_FrontFacing","?","rh",":","_1_0","/","rh",";"]}]}]},{TYPE:"txt",TOKENS:["ET","=","rj","(","zo",",","ce",",","rh",")",";"]}]},{TYPE:"node",NAME:"BACKGROUND",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EW",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["EW","=","EU","*","EV",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["EZ","=","reflect","(","_","(","u_view_tsr_inverse",",","EX",")",",","EY",")",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT_WORLD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"E_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Fa",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Fa","=","reflect","(","-","nI",".","xyz",",","E_",")",";"]}]},{TYPE:"node",NAME:"B4W_PARALLAX",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Fb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fd",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fe",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ff",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"node_B4W_PARALLAX_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","bA","=","length","(","rG",")",";","if","(","bA","<","Fe",")","{","vec2","bN","=","rd","(","Fb",")",";","float","bR","=","clamp","(","_0_5","*","(","Fe","-","bA",")",",","_0_0",",","_1_0",")",";","float","he","=","Fc","*","bR",";","vec3","bT","=","normalize","(","nI","*","rD",")",";","float","bU","=","_1_0","/","Fd",";","vec2","bV","=","bT",".","xy","*","he","/","(","Fd","*","bT",".","z",")",";","float","bW","=","_1_0",";","float","bX","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bN",")",".","a",";","for","(","float","bZ","=","1.0",";","bZ","<=","Fd",";","bZ","++",")","{","if","(","bX","<","bW",")","{","bW","-=","bU",";","bN","-=","bV",";","bX","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bN",")",".","a",";","}","}","vec2","b_","=","bN","+","bV",";","float","ca","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","b_",")",".","a","-","(","bW","+","bU",")",";","float","cb","=","bX","-","bW",";","float","cc","=","cb","/","(","cb","-","ca",")",";","bN","=","cc","*","b_","+","(","_1_0","-","cc",")","*","bN",";","Ff","=","rc","(","bN",")",";","}","else","Ff","=","Fb",";"]}]},{TYPE:"node",NAME:"B4W_CLAMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Fg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Fh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Fh","=","clamp","(","Fg",",","_0_0",",","_1_0",")",";"]}]},{TYPE:"node",NAME:"B4W_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Fi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Fk",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Fk","=","q_","(","Fi",",","Fj",")",";"]}]},{TYPE:"node",NAME:"B4W_TRANSLUCENCY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Fl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Fq",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Fr",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Fq"],STATEMENTS:[{TYPE:"txt",TOKENS:["Fq","=","Fl",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Fr"],STATEMENTS:[{TYPE:"txt",TOKENS:["Fr","=","vec4","(","Fm",",","Fn",",","Fo",",","Fp",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_TIME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"Fs",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Fs","=","u_time",";"]}]},{TYPE:"node",NAME:"B4W_SMOOTHSTEP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ft",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Fw",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Fw","=","smoothstep","(","Fu",",","Fv",",","Ft",")",";"]}]},{TYPE:"node",NAME:"B4W_GLOW_OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Fx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fy",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","Fx",";","H","=","Fy",";"]}]},{TYPE:"node",NAME:"B4W_VECTOSCAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Fz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"FA",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["FA","=","(","Fz",".","r","+","Fz",".","g","+","Fz",".","b",")","/","3.0",";"]}]},{TYPE:"node",NAME:"B4W_SCALTOVEC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"FB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"FC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["FC","[","0","]","=","FB",";","FC","[","1","]","=","FB",";","FC","[","2","]","=","FB",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","I","(","in","vec3","nI",",","out","vec3","D",",","out","vec3","E",",","out","vec3","F",",","out","vec4","G",",","out","float","H",")","{","D","=","vec3","(","_0_0",")",";","E","=","vec3","(","_0_0",")",";","F","=","vec3","(","_0_0",")",";","G","=","vec4","(","_0_0",")",";","H","=","_0_0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["IS_WORLD"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_ENVIRONMENT_EQUIRECTANGULAR","USE_NODE_TEXTURE_ENVIRONMENT_MIRROR_BALL","USE_NODE_TEX_COORD_GE","USE_NODE_TEX_COORD_OB",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ry","=","-","nI",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_GL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nG","=","-","nI",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEX_COORD_NO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nH","=","nI",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_NO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rz","=","nI",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO","USE_NODE_NORMAL_MAP","USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:11}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rA","=","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing","==","false",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["rA","=","rA",";","else","rA","=","-","rA",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_NORMAL_MAP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rB","=","rA",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rC","=","normalize","(","rA",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nH","=","rC",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nH","=","normalize","(","j",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_NO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rz","=","rC",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","W","=","cross","(","rC",",","k",".","xyz",")","*","k",".","w",";","mat3","rD","=","mat3","(","k",".","xyz",",","W",",","rC",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_NORMAL_MAP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rE","=","cross","(","rA",",","k",".","xyz",")","*","k",".","w",";","mat3","rF","=","mat3","(","k",".","xyz",",","rE",",","rA",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec3","nG","=","h",";","vec4","rG","=","i",";","float","rH","=","u_emit",";","float","rI","=","u_ambient",";"]}]}}]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/nodes.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"NODES_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"NODES_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"PARTICLE_BATCH",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2},"PARTICLE_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["GLSL_IN","vec3","a_orco_tex_coord",";","GLSL_OUT","vec3","qX",";"]}]}}]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_TEX_COORD_UV_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rs",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rs","=","node_TEX_COORD_UV_var_a_uv",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_UV_MERGED_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rq",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rq","=","node_UV_MERGED_var_a_uv",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_UVMAP_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rt",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rt","=","node_UVMAP_var_a_uv",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_UV_var_a_uv",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rk",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rk","=","node_GEOMETRY_UV_var_a_uv",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"FD",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["FD","=","node_GEOMETRY_VC_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC1_var_a_vertex_color",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"FE",QUALIFIER:["GLSL_OUT","float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["FE","=","node_GEOMETRY_VC1_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC2_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec2"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"FF",QUALIFIER:["GLSL_OUT","vec2"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["FF","=","node_GEOMETRY_VC2_var_a_vertex_color",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_param",NAME:"node_GEOMETRY_VC3_var_a_vertex_color",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"FG",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["FG","=","node_GEOMETRY_VC3_var_a_vertex_color",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","I","(",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["qX","=","a_orco_tex_coord",";"]}]}}]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/pack.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PACK_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PACK_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec4","dN","(","const","in","float","hu",")","{","vec4","eO","=","vec4","(","_255_0","*","_255_0","*","_255_0",",","_255_0","*","_255_0",",","_255_0",",","_1_0",")",";","vec4","FH","=","vec4","(","_0_0",",","_1_0","/","_255_0",",","_1_0","/","_255_0",",","_1_0","/","_255_0",")",";","vec4","iM","=","fract","(","hu","*","eO",")",";","iM","-=","iM",".","xxyz","*","FH",";","return","iM",";","}","float","cF","(","const","in","vec4","FI",")","{","float","dM",";","vec4","eO","=","vec4","(","_1_0","/","(","_255_0","*","_255_0","*","_255_0",")",",","_1_0","/","(","_255_0","*","_255_0",")",",","_1_0","/","_255_0",",","_1_0",")",";","dM","=","dot","(","FI",",","eO",")",";","return","dM",";","}","vec4","dN","(","const","in","vec2","qo",")","{","vec2","eO","=","vec2","(","_255_0",",","_1_0",")",";","vec2","FH","=","vec2","(","_0_0",",","_1_0","/","_255_0",")",";","vec4","iM","=","fract","(","qo",".","xxyy","*","eO",".","xyxy",")",";","iM","-=","iM",".","xxzz","*","FH",".","xyxy",";","if","(","qo",".","r","==","_1_0",")","iM",".","rg","=","vec2","(","_0_0",",","_1_0",")",";","if","(","qo",".","g","==","_1_0",")","iM",".","ba","=","vec2","(","_0_0",",","_1_0",")",";","return","iM",";","}","vec2","ir","(","const","in","vec4","FJ",")","{","vec2","qo",";","vec2","eO","=","vec2","(","_1_0","/","_255_0",",","_1_0",")",";","qo",".","r","=","dot","(","FJ",".","rg",",","eO",")",";","qo",".","g","=","dot","(","FJ",".","ba",",","eO",")",";","return","qo",";","}"]}]}}]}]},exports["include/particles.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PARTICLES_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PARTICLES_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"EPSILON",TOKENS:["0.000001"]},{TYPE:"var",NAME:"COLOR_RAMP_LENGTH",TOKENS:["0"]},{TYPE:"var",NAME:"WORLD_SPACE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_COLOR_RAMP",TOKENS:["0"]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["struct","cN","{","float","cV",";","vec3","O",";","float","J",";","vec3","aQ",";","float","bx",";","vec3","da",";","vec3","db",";","float","dc",";","}",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","FN","(","inout","vec3","aQ",",","float","FK",",","vec4","jn",",","vec4","jo",")","{","float","FL","=","jo",".","x","-","jn",".","x",";","float","FM","=","(","FK","-","jn",".","x",")","/","FL",";","aQ","=","mix","(","aQ",",","jo",".","yzw",",","clamp","(","FM",",","0.0",",","1.0",")",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","FQ","(","float","t",",","float","FO",",","vec4","FP","[","COLOR_RAMP_LENGTH","]",")","{","float","FK","=","t","/","FO",";","vec3","aQ","=","FP","[","0","]",".","yzw",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["FN","(","aQ",",","FK",",","FP","[","0","]",",","FP","[","1","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["FN","(","aQ",",","FK",",","FP","[","1","]",",","FP","[","2","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["FN","(","aQ",",","FK",",","FP","[","2","]",",","FP","[","3","]",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","aQ",";","}"]}]}}]},{TYPE:"txt",TOKENS:["float","FW","(","float","t",",","float","FO",",","float","FR",",","float","FS",")","{","float","FT","=","max","(","0.01",",","min","(","FO",",","FR",")",")",";","float","FU","=","max","(","0.01",",","min","(","FO",",","FS",")",")",";","float","FV","=","FO","-","FU",";","float","J","=","clamp","(","t","/","FT",",","0.0",",","1.0",")","-","step","(","FV",",","t",")","*","(","t","-","FV",")","/","FU",";","return","J",";","}","cN","cO","(",")","{","cN","sp",";","float","t",";","float","FO","=","a_p_data","[","0","]",";","float","FX","=","a_p_data","[","1","]",";","if","(","u_p_cyclic","==","1",")","{","t","=","mod","(","u_p_time",",","u_p_length",")","-","FX",";","if","(","t","<","0.0",")","t","+=","u_p_length",";","}","if","(","u_p_cyclic","!=","1",")","{","t","=","u_p_time","-","FX",";","}","if","(","t","<","0.0","||","t",">=","FO",")","{","sp",".","cV","=","0.0001",";","sp",".","O","=","vec3","(","99999.0",",","0.0",",","0.0",")",";","}","if","(","!","(","t","<","0.0","||","t",">=","FO",")",")","{","vec4","S","=","R","(","a_tbn",")",";","vec3","bJ","=","T","(","S",",","vec3","(","0.0",",","1.0",",","0.0",")",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WORLD_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eL","=","a_position",";","vec3","rf","=","bJ",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","eL","=","ap","(","u_model_tsr",",","a_position",")",";","vec3","rf","=","_","(","u_model_tsr",",","bJ",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","FY","=","u_p_nfactor","*","rf",";","FY","+=","a_p_vels",".","xyz",";","FY",".","z","-=","u_p_gravity","*","t","/","2.0",";","float","FZ","=","max","(","u_p_mass",",","EPSILON",")",";","FY","+=","(","u_p_wind_fac","*","u_wind","/","FZ",")","*","t","/","2.0",";","sp",".","dc","=","t",";","sp",".","da","=","FY",";","sp",".","db","=","bJ","*","a_p_vels",".","w",";","sp",".","O","=","eL","+","FY","*","t",";","sp",".","bx","=","a_p_vels",".","w","*","t",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_COLOR_RAMP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","cV","=","GLSL_TEXTURE","(","u_color_ramp_tex",",","vec2","(","t","/","u_p_max_lifetime",",","0.5",")",")",".","g",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","cV","=","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["COLOR_RAMP_LENGTH",0,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","aQ","=","FQ","(","t",",","u_p_max_lifetime",",","u_p_color_ramp",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["sp",".","aQ","=","vec3","(","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["sp",".","J","=","FW","(","t",",","a_p_data","[","0","]",",","u_p_fade_in",",","u_p_fade_out",")",";","}","return","sp",";","}"]}]}}]}]},exports["include/particles_nodes.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PARTICLES_NODES_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PARTICLES_NODES_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"CAUSTICS",TOKENS:["0"]},{TYPE:"var",NAME:"DOUBLE_SIDED_LIGHTING",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"PARTICLE_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"NUM_LIGHTS",TOKENS:["0"]},{TYPE:"var",NAME:"CALC_TBN_SPACE",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_BSDF_BEGIN",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"environment.glslf"}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"include",FILE:"math.glslv"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_SEPHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","jt","(","vec3","rgb",")","{","vec4","js","=","vec4","(","_0_0",",","-","_1_0","/","3.0",",","2.0","/","3.0",",","-","_1_0",")",";","vec4","p","=","mix","(","vec4","(","rgb",".","bg",",","js",".","wz",")",",","vec4","(","rgb",".","gb",",","js",".","xy",")",",","step","(","rgb",".","b",",","rgb",".","g",")",")",";","vec4","q","=","mix","(","vec4","(","p",".","xyw",",","rgb",".","r",")",",","vec4","(","rgb",".","r",",","p",".","yzx",")",",","step","(","p",".","x",",","rgb",".","r",")",")",";","float","dn","=","q",".","x","-","min","(","q",".","w",",","q",".","y",")",";","float","hK","=","1.0e-10",";","return","vec3","(","abs","(","q",".","z","+","(","q",".","w","-","q",".","y",")","/","(","6.0","*","dn","+","hK",")",")",",","dn","/","(","q",".","x","+","hK",")",",","q",".","x",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_HUE_SAT","USE_NODE_MIX_RGB_HUE","USE_NODE_MIX_RGB_SATURATION","USE_NODE_MIX_RGB_VALUE","USE_NODE_MIX_RGB_COLOR","USE_NODE_COMBHSV",{TYPE:"logical_or_expr",PLACES:6}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","jv","(","vec3","ju",")","{","vec4","js","=","vec4","(","_1_0",",","2.0","/","3.0",",","_1_0","/","3.0",",","3.0",")",";","vec3","p","=","abs","(","fract","(","vec3","(","ju",".","r",",","ju",".","r",",","ju",".","r",")","+","js",".","xyz",")","*","6.0","-","js",".","www",")",";","return","ju",".","b","*","mix","(","js",".","xxx",",","clamp","(","p","-","js",".","xxx",",","_0_0",",","_1_0",")",",","ju",".","g",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_UV","USE_NODE_B4W_PARALLAX","USE_NODE_UV_MERGED",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rc","(","vec2","gq",")","{","return","vec3","(","gq","*","2.0","-","vec2","(","_1_0",",","_1_0",")",",","_0_0",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_COLOR","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","rd","(","vec3","qo",")","{","return","vec2","(","qo",".","xy","*","_0_5","+","vec2","(","_0_5",",","_0_5",")",")",";","}"]}]}}]},{TYPE:"node",NAME:"CAMERA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rJ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rK",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"rL",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["rJ","=","normalize","(","rG",".","xyz",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rK"],STATEMENTS:[{TYPE:"txt",TOKENS:["rK","=","abs","(","rG",".","z",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_rL"],STATEMENTS:[{TYPE:"txt",TOKENS:["rL","=","length","(","rG",".","xyz",")",";"]}]}]}]},{TYPE:"node",NAME:"COMBRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rP","=","vec3","(","rM",",","rN",",","rO",")",";"]}]},{TYPE:"node",NAME:"COMBHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"rQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"rS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"rT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rT","=","jv","(","vec3","(","rQ",",","rR",",","rS",")",")",";"]}]},{TYPE:"node",NAME:"EMPTY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rU",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rU","=","vec3","(","-","_1_0",",","-","_1_0",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"EMPTY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rV",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rV","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rW",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rW","=","rc","(","A",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_OR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rX",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rX","=","2.0","*","vec3","(","A",",","_0_0",")","-","vec3","(","_1_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rY",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rY","=","vec3","(","_1_0",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC1",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"rZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["rZ","=","_1_0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC2",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"r_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sa",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["r_","=","_1_0",";","sa","=","_1_0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_VC3",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"sb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sd",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sb","=","_1_0",";","sc","=","_1_0",";","sd","=","_1_0",";"]}]},{TYPE:"node",NAME:"GEOMETRY_NO",NODE_VARS:[{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"se",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["sf","=","se",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["sf","=","rz",".","xyz",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_FB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"sg",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["sg","=","(","gl_FrontFacing",")","?","_0_0",":","_1_0",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["sg","=","(","gl_FrontFacing",")","?","_1_0",":","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"GEOMETRY_VW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"si",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["si","=","-","_","(","u_view_tsr_frag",",","nI",")",";"]}]},{TYPE:"node",NAME:"GEOMETRY_LO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"sj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sj","[","0","]","=","rG","[","0","]",";","sj","[","1","]","=","rG","[","1","]",";","sj","[","2","]","=","rG","[","2","]",";"]}]},{TYPE:"node",NAME:"GEOMETRY_GL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"sk",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sk","=","vec3","(","nG",".","r",",","nG",".","g",",","nG",".","b",")",";"]}]},{TYPE:"node",NAME:"NEW_GEOMETRY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"sm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"so",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"su",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sx",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sm","=","vec3","(","_0_0",")",";","sn","=","vec3","(","_0_0",")",";","so","=","vec3","(","_0_0",")",";","sr","=","vec3","(","_0_0",")",";","su","=","vec3","(","_0_0",")",";","sv","=","vec3","(","_0_0",")",";","sw","=","_0_0",";","sx","=","_0_0",";"]}]},{TYPE:"node",NAME:"HUE_SAT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ju","=","jt","(","sC",")",";","ju","[","0","]","+=","(","sy","-","_0_5",")",";","if","(","ju","[","0","]",">","_1_0",")","ju","[","0","]","-=","_1_0",";","else","if","(","ju","[","0","]","<","_0_0",")","ju","[","0","]","+=","_1_0",";","ju","*=","vec3","(","_1_0",",","sz",",","sA",")",";","ju","=","mix","(","vec3","(","_1_0",")",",","mix","(","vec3","(","_0_0",")",",","ju",",","step","(","vec3","(","_0_0",")",",","ju",")",")",",","step","(","ju",",","vec3","(","_1_0",")",")",")",";","sD","=","mix","(","sC",",","jv","(","ju",")",",","sB",")",";"]}]},{TYPE:"node",NAME:"INVERT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sG","=","mix","(","sF",",","vec3","(","_1_0",")","-","sF",",","sE",")",";"]}]},{TYPE:"node",NAME:"LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_INDEX",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_USE_SPHERE",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"sH",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"sI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sK",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sH"],STATEMENTS:[{TYPE:"txt",TOKENS:["sH","=","u_lamp_light_color_intensities","[","LAMP_INDEX","]",";"]}]}]},{TYPE:"txt",TOKENS:["vec3","sL","=","u_lamp_light_directions","[","LAMP_INDEX","]",";","vec3","sM","=","u_lamp_light_positions","[","LAMP_INDEX","]",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["sI","=","-","h","+","sM",";","sJ","=","length","(","sI",")",";","sI","=","normalize","(","sI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sK"],STATEMENTS:[{TYPE:"txt",TOKENS:["sK","=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","sJ","*","sJ",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","ol","=","dot","(","sI",",","sL",")",";","ol","*=","smoothstep","(","_0_0",",","_1_0",",","(","ol","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","sK","*=","ol",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_USE_SPHERE"],STATEMENTS:[{TYPE:"txt",TOKENS:["sK","*=","max","(","LAMP_LIGHT_DIST","-","sJ",",","_0_0",")","/","LAMP_LIGHT_DIST",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sI"],STATEMENTS:[{TYPE:"txt",TOKENS:["sI","=","sL",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["sJ","=","length","(","sM","-","h",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sK"],STATEMENTS:[{TYPE:"txt",TOKENS:["sK","=","_1_0",";"]}]}]}]}]}]},{TYPE:"node",NAME:"NORMAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sO",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"sP",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"rp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sO"],STATEMENTS:[{TYPE:"txt",TOKENS:["sO","=","rp",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_sP"],STATEMENTS:[{TYPE:"txt",TOKENS:["sP","=","-","dot","(","sN",",","rp",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_VECTOR_VIEW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"sR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["sR","=","-","_","(","u_view_tsr_frag",",","sQ",")",";"]}]},{TYPE:"node",NAME:"BSDF_BEGIN",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"sS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"sZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"s_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ta",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"td",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"te",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"th",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ti",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"to",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["te","=","sT",";","tf","=","sV",";","tg","=","sY",";","tj","=","sT",";","tk","=","sV",";","metalness_out","=","sX",";","tl","=","sZ",";","tm","=","s_",";","tn","=","ta",";","to","=","tb",";","tc","=","rH","*","te",";","td","=","rI","*","u_environment_energy","*","cn","(","tg",")",";","ti","=","cq","(","te",")",";","G","=","ti",";","th","[","0","]","=","sU",";","th","[","1","]","=","sW",";","th","[","2","]","=","sX",";"]}]},{TYPE:"node",NAME:"BSDF_END",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"tr",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tw",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ty",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["tD","=","tr",".","rgb","+","tu",";","tD","=","mix","(","tD",",","tz",",","tA",")",";","H","=","_1_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NODE_BSDF_TRANSPARENT"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","tF","=","GLSL_TEXTURE","(","u_refractmap",",","l",".","xy","/","l",".","z",")",".","rgb",";","cg","(","tF",")",";","tB","=","tB","*","tF",";","tD","+=","tB",";"]}]}]},{TYPE:"txt",TOKENS:["tv",";"]}]},{TYPE:"node",NAME:"BSDF_COMPUTE",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"tG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tH",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"tK",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"tM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","rf","=","tI",";","float","tN","=","clamp","(","tK","[","0","]",",","_0_0",",","_1_0",")",";","float","tE","=","clamp","(","tK","[","1","]",",","_0_0",",","_1_0",")",";","float","qO","=","tK","[","2","]",";","vec3","pg","=","normalize","(","nI","+","tG",")",";","float","ot","=","(","_1_0","-","tJ",")","*","dot","(","rf",",","tG",")","+","tJ",";","float","tO","=","(","_1_0","-","tJ",")","*","max","(","dot","(","tG",",","pg",")",",","_0_0",")","+","tJ",";","float","tP","=","(","_1_0","-","tJ",")","*","max","(","dot","(","tI",",","pg",")",",","_0_0",")","+","tJ",";","tL","=","_0_0",";","if","(","tH",".","r","!=","_0_0",")","{","if","(","tN",">","_0_0",")","{","float","oF","=","max","(","dot","(","rf",",","nI",")",",","_0_0",")",";","float","oG","=","tN","*","tN",";","float","cp","=","_1_0","-","_0_5","*","(","oG","/","(","oG","+","0.33",")",")",";","vec3","oH","=","tG","-","ot","*","rf",";","vec3","oI","=","nI","-","oF","*","rf",";","if","(","length","(","oH",")","==","_0_0","||","length","(","oI",")","==","_0_0","||","abs","(","ot",")",">","_1_0","||","abs","(","oF",")",">","_1_0",")","tL","=","ot","*","cp",";","else","{","float","oJ","=","acos","(","ot",")",";","float","oK","=","acos","(","oF",")",";","vec3","oL","=","normalize","(","oH",")",";","vec3","oM","=","normalize","(","oI",")",";","float","a",",","b",";","a","=","max","(","oJ",",","oK",")",";","b","=","min","(","oJ",",","oK",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oL",",","oM",")",",","_0_0",")",";","float","oN","=","0.45","*","(","oG","/","(","oG","+","0.09",")",")",";","tL","=","ot","*","(","cp","+","(","oN","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","tL","=","ot",";","tL","=","max","(","tL",",","_0_0",")",";","}","float","J","=","tE",";","float","tQ","=","J","*","J",";","float","tR","=","(","tP","*","tQ","-","tP",")","*","tP","+","_1_0",";","float","cm","=","tQ","/","(","M_PI","*","tR","*","tR",")",";","float","tS",";","float","tT",";","float","tU","=","pow","(","_1_0","-","tO",",","5.0",")",";","tS","=","_1_0",";","tT","=","tU",";","float","js","=","J","/","2.0",";","float","tV","=","js","*","js",";","float","tW","=","_1_0","-","tV",";","float","tX","=","_1_0","/","(","tO","*","tO","*","tW","+","tV",")",";","tS","*=","tX",";","tT","*=","tX",";","float","tY","=","mix","(","0.04",",","_1_0",",","qO",")",";","float","tZ","=","mix","(","tT",",","tS",",","tY",")",";","tM","=","max","(","ot","*","cm","*","tZ",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"BSDF_ANISOTROPIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"t_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ua",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ub",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ud",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ue",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uf","=","t_",";","ua",";","ub",";","uc",";","ud",";","ue",";"]}]},{TYPE:"node",NAME:"BSDF_DIFFUSE",NODE_VARS:[{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ug",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ui",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ul",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"um",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"un",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"up",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ur",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"us",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ut",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uk","=","ug",";","ul","=","uh",";","uo","=","_0_0",";","ur","=","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["up","=","ui",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["up","=","nH",";"]}]}]},{TYPE:"txt",TOKENS:["uj",";","um",";","un",";","uq",";","us",";","ut",";"]}]},{TYPE:"node",NAME:"BSDF_GLASS",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ux",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uy",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uy","=","uu",";","uv",";","uw",";","ux",";"]}]},{TYPE:"node",NAME:"BSDF_GLOSSY",NODE_VARS:[{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"uz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uM",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uF","=","uz",";","uG","=","uA",";","uH","=","_1_0",";","uK","=","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["uI","=","uB",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["uI","=","nH",";"]}]}]},{TYPE:"txt",TOKENS:["uC",";","uD",";","uE",";","uJ",";","uL",";","uM",";"]}]},{TYPE:"node",NAME:"BSDF_HAIR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"uQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["uR","=","uN",";","uO",";","uP",";","uQ",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSPARENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"uS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uY",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"uZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"u_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"va",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vc",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vb","=","uS",";","uY","=","_0_0",";","va","=","_0_0",";","vc","=","_0_0",";","uZ","=","nH",";","uT",";","uU",";","uV",";","uW",";","uX",";","u_",";"]}]},{TYPE:"node",NAME:"BSDF_TRANSLUCENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ve",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vf",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vf","=","vd",";","ve",";"]}]},{TYPE:"node",NAME:"BSDF_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vk",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vk","[","0","]","=","vk","[","1","]","=","vk","[","2","]","=","_0_0",";","vg",";","vh",";","vi",";","vj",";"]}]},{TYPE:"node",NAME:"BSDF_TOON",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vp","=","vl",";","vm",";","vn",";","vo",";"]}]},{TYPE:"node",NAME:"BSDF_VELVET",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vq",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vt",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vt","=","vq",";","vr",";","vs",";"]}]},{TYPE:"node",NAME:"SUBSURFACE_SCATTERING",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vx",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vA",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vA","[","0","]","=","vA","[","1","]","=","vA","[","2","]","=","_0_0",";","vu",";","vw",";","vx",";","vy",";","vz",";","vv",";"]}]},{TYPE:"node",NAME:"EMISSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vN",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vK","=","vC","*","vB",";","vI","=","_0_0",";","vL","=","_1_0",";","vJ","=","nH",";","vD",";","vE",";","vF",";","vG",";","vH",";","vM",";","vN",";"]}]},{TYPE:"node",NAME:"AMBIENT_OCCLUSION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vP","[","0","]","=","vP","[","1","]","=","vP","[","2","]","=","_0_0",";","vO",";"]}]},{TYPE:"node",NAME:"HOLDOUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"vQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vQ","[","0","]","=","vQ","[","1","]","=","vQ","[","2","]","=","_0_0",";"]}]},{TYPE:"node",NAME:"VOLUME_ABSORPTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vT",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vT","[","0","]","=","vT","[","1","]","=","vT","[","2","]","=","_0_0",";","vR",";","vS",";"]}]},{TYPE:"node",NAME:"VOLUME_SCATTER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"vU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"vW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"vX",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vX","[","0","]","=","vX","[","1","]","=","vX","[","2","]","=","_0_0",";","vU",";","vV",";","vW",";"]}]},{TYPE:"node",NAME:"BUMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Gd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ge",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"v_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Gf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wb","=","Gf",";","Gd",";","Ge",";","v_",";"]}]},{TYPE:"node",NAME:"DISPLACEMENT_BUMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wj","=","nH",";","wi",";"]}]},{TYPE:"node",NAME:"NORMAL_MAP",NODE_VARS:[{TYPE:"node_var",NAME:"SPACE",TOKENS:["NM_TANGENT"]},{TYPE:"node_var",NAME:"USE_NORMAL_IN",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wl",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wn",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NORMAL_IN"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","wo","=","wm",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","wo","=","rB",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SPACE","NM_TANGENT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","2.0","*","wl",".","xyz","-","_1_0",";","wn","=","rF","*","wn",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_OBJECT",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_OBJECT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","2.0","*","wl",".","xyz","-","_1_0",";","wn",".","yz","*=","-","_1_0",";","wn","=","_","(","u_model_tsr",",","wn",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["SPACE","NM_WORLD",{TYPE:"equal_expr",PLACES:2},"SPACE","NM_BLENDER_WORLD",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wn","=","2.0","*","wl",".","xyz","-","_1_0",";","wn",".","yz","*=","-","_1_0",";"]}]}]},{TYPE:"txt",TOKENS:["float","lo","=","max","(","wk",",","_0_0",")",";","wn","=","normalize","(","mix","(","wo",",","wn",",","lo",")",")",";"]}]},{TYPE:"node",NAME:"VECT_TRANSFORM",NODE_VARS:[{TYPE:"node_var",NAME:"CONVERT_TYPE",TOKENS:["VT_WORLD_TO_OBJECT"]},{TYPE:"node_var",NAME:"VECTOR_TYPE",TOKENS:["VT_VECTOR"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"wp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wq",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_WORLD",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_OBJECT_TO_OBJECT",{TYPE:"equal_expr",PLACES:2},"CONVERT_TYPE","VT_CAMERA_TO_CAMERA",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:3}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","wp",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_POINT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","ap","(","u_view_tsr_frag",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","ap","(","u_model_tsr_inverse",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","ap","(","u_model_tsr",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","ap","(","u_model_tsr",",","wp",")",";","wq","=","ap","(","u_view_tsr_frag",",","wq",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","ap","(","u_view_tsr_inverse",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","ap","(","u_view_tsr_inverse",",","wp",")",";","wq","=","ap","(","u_model_tsr_inverse",",","wq",")",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","_","(","u_view_tsr_frag",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_WORLD_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","_","(","u_model_tsr_inverse",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","_","(","u_model_tsr",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_OBJECT_TO_CAMERA",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","_","(","u_model_tsr",",","wp",")",";","wq","=","_","(","u_view_tsr_frag",",","wq",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_WORLD",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","_","(","u_view_tsr_inverse",",","wp",")",";"]}]},{TYPE:"node_elif",EXPRESSION:["CONVERT_TYPE","VT_CAMERA_TO_OBJECT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","_","(","u_view_tsr_inverse",",","wp",")",";","wq","=","_","(","u_model_tsr_inverse",",","wq",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["VECTOR_TYPE","VT_NORMAL",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["wq","=","normalize","(","wq",")",";"]}]}]}]}]}]},{TYPE:"node",NAME:"BLACKBODY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ws",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ws","[","0","]","=","ws","[","1","]","=","ws","[","2","]","=","_0_0",";","wr",";"]}]},{TYPE:"node",NAME:"WAVELENGTH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wu",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wu","[","0","]","=","wu","[","1","]","=","wu","[","2","]","=","_0_0",";","wt",";"]}]},{TYPE:"node",NAME:"SEPXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wv",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wC",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wA","=","wv","[","0","]",";","wB","=","wv","[","1","]",";","wC","=","wv","[","2","]",";"]}]},{TYPE:"node",NAME:"COMBXYZ",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wE",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wG","[","0","]","=","wD",";","wG","[","1","]","=","wE",";","wG","[","2","]","=","wF",";"]}]},{TYPE:"node",NAME:"BRIGHTCONTRAST",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wK",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","b","=","wI","-","wJ","*","_0_5",";","wK","=","max","(","(","_1_0","+","wJ",")","*","wH","+","b",",","vec3","(","_0_0",")",")",";"]}]},{TYPE:"node",NAME:"LIGHT_FALLOFF",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wN","=","wO","=","wP","=","_0_0",";","wL",";","wM",";"]}]},{TYPE:"node",NAME:"TEX_IMAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Gg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Gh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Gi",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Gh","[","0","]","=","Gh","[","1","]","=","Gh","[","2","]","=","_0_0",";","Gi","=","_1_0",";","Gg",";"]}]},{TYPE:"node",NAME:"TEX_ENVIRONMENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Gj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Gk",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Gk","[","0","]","=","Gk","[","1","]","=","Gk","[","2","]","=","_0_0",";","Gj",";"]}]},{TYPE:"node",NAME:"TEX_SKY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wR","[","0","]","=","wR","[","1","]","=","wR","[","2","]","=","_0_0",";","wQ",";"]}]},{TYPE:"node",NAME:"TEX_NOISE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"wX",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["wW","[","0","]","=","wW","[","1","]","=","wW","[","2","]","=","_0_0",";","wX","=","_1_0",";","wS",";","wT",";","wU",";","wV",";"]}]},{TYPE:"node",NAME:"TEX_WAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"wY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"wZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"w_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xa",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xd",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xc","[","0","]","=","xc","[","1","]","=","xc","[","2","]","=","_0_0",";","xd","=","_1_0",";","wY",";","wZ",";","w_",";","xa",";","xb",";"]}]},{TYPE:"node",NAME:"TEX_VORONOI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xg","[","0","]","=","xg","[","1","]","=","xg","[","2","]","=","_0_0",";","xh","=","_1_0",";","xe",";","xf",";"]}]},{TYPE:"node",NAME:"TEX_MUSGRAVE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xq",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xp","[","0","]","=","xp","[","1","]","=","xp","[","2","]","=","_0_0",";","xq","=","_1_0",";","xi",";","xj",";","xk",";","xl",";","xm",";","xn",";","xo",";"]}]},{TYPE:"node",NAME:"TEX_GRADIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xt",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xs","[","0","]","=","xs","[","1","]","=","xs","[","2","]","=","_0_0",";","xt","=","_1_0",";","xr",";"]}]},{TYPE:"node",NAME:"TEX_MAGIC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xC",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xB","[","0","]","=","xB","[","1","]","=","xB","[","2","]","=","_0_0",";","xC","=","_1_0",";","xu",";","xv",";","xA",";"]}]},{TYPE:"node",NAME:"TEX_CHECKER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xI",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xH","[","0","]","=","xH","[","1","]","=","xH","[","2","]","=","_0_0",";","xI","=","_1_0",";","xD",";","xE",";","xF",";","xG",";"]}]},{TYPE:"node",NAME:"TEX_BRICK",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xQ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xS",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xS","[","0","]","=","xS","[","1","]","=","xS","[","2","]","=","_0_0",";","xT","=","_1_0",";","xJ",";","xK",";","xL",";","xM",";","xN",";","xO",";","xP",";","xQ",";","xR",";"]}]},{TYPE:"node",NAME:"ADD_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"xW",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["xW","=","clamp","(","xU","+","xV",",","vec3","(","_0_0",")",",","vec3","(","_1_0",")",")",";"]}]},{TYPE:"node",NAME:"MIX_SHADER",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"xX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"xZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"x_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ya",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ye",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yg",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yh",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yl",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ym",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yp",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"yr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ys",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yH",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","xX",",","_0_0",",","_1_0",")",";","yu","=","mix","(","x_",",","yj",",","yI",")",";","yv","=","mix","(","ya",",","yk",",","yI",")",";","if","(","yd",">","_0_0",")","{","if","(","yn",">","_0_0",")","{","yA","=","mix","(","yb",",","yl",",","yI",")",";","yB","=","mix","(","yc",",","ym",",","yI",")",";","}","else","{","yA","=","yb",";","yB","=","yc",";","}","}","else","{","yA","=","yl",";","yB","=","ym",";","}","if","(","yg",">","_0_0",")","{","if","(","yq",">","_0_0",")","{","yE","=","mix","(","yf",",","yp",",","yI",")",";","}","else","{","yE","=","yf",";","}","}","else","{","yE","=","yp",";","}","yC","=","mix","(","yd",",","yn",",","yI",")",";","yD","=","mix","(","ye",",","yo",",","yI",")",";","yF","=","mix","(","yg",",","yq",",","yI",")",";","yG","=","mix","(","yh",",","yr",",","yI",")",";","yH","=","mix","(","yi",",","ys",",","yI",")",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yK",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_yJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["yJ","=","rc","(","A",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_yK"],STATEMENTS:[{TYPE:"txt",TOKENS:["yK","=","vec3","(","A",",","_0_0",")",";"]}]}]}]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yL",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yL","=","vec3","(","A",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_NO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yM","=","nH",";"]}]},{TYPE:"node",NAME:"TEX_COORD_GE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yN",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yN","=","vec3","(","A",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"TEX_COORD_OB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yO",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yO","[","0","]","=","yO","[","1","]","=","yO","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_CA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yP","[","0","]","=","rG","[","0","]",";","yP","[","1","]","=","rG","[","1","]",";","yP","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_WI",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yQ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yQ","[","0","]","=","yQ","[","1","]","=","yQ","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"TEX_COORD_RE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yR",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yR","[","0","]","=","yR","[","1","]","=","yR","[","2","]","=","_1_0",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yS",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["yS","=","vec3","(","A",",","_0_0",")",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"yT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"yZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"F_",QUALIFIER:["GLSL_IN","vec4"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Ga",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Gb",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Gc",QUALIFIER:["GLSL_IN","vec3"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PARTICLE_BATCH"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_yT"],STATEMENTS:[{TYPE:"txt",TOKENS:["yT","=","F_","[","0","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_yU"],STATEMENTS:[{TYPE:"txt",TOKENS:["yU","=","F_","[","1","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_yV"],STATEMENTS:[{TYPE:"txt",TOKENS:["yV","=","F_","[","2","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_yW"],STATEMENTS:[{TYPE:"txt",TOKENS:["yW","=","Ga",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_yX"],STATEMENTS:[{TYPE:"txt",TOKENS:["yX","=","F_","[","3","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_yY"],STATEMENTS:[{TYPE:"txt",TOKENS:["yY","=","Gb",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_yZ"],STATEMENTS:[{TYPE:"txt",TOKENS:["yZ","=","Gc",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["yT","=","_0_0",";","yU","=","_0_0",";","yV","=","_0_0",";","yW","=","vec3","(","_0_0",")",";","yX","=","_0_0",";","yY","=","yW",";","yZ","=","yW",";"]}]}]}]},{TYPE:"node",NAME:"HAIR_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"y_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"za",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zb",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["y_","=","_0_0",";","za","=","_0_0",";","zb","=","_0_0",";","zc","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"OBJECT_INFO",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"zd",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ze",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zf",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zg",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ze","=","_0_0",";","zf","=","_0_0",";","zg","=","_0_0",";","zd","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"WIREFRAME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"zh",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zi",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zi","=","zh",";"]}]},{TYPE:"node",NAME:"TANGENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"zj",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zj","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LAYER_WEIGHT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Gl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Gm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zn",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zm","=","zn","=","_0_0",";","Gm",";","Gl",";"]}]},{TYPE:"node",NAME:"LIGHT_PATH",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"zp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zs",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zt",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zC",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zp","=","zq","=","zr","=","_0_0",";","zs","=","zt","=","zu","=","_0_0",";","zv","=","zv","=","zB","=","zC","=","_0_0",";","zA","=","_0_0",";"]}]},{TYPE:"node",NAME:"ATTRIBUTE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"zE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zG",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zE","=","zF","=","vec3","(","_0_0",")",";","zG","=","_0_0",";"]}]},{TYPE:"node",NAME:"SCRIPT",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[]},{TYPE:"node",NAME:"CURVE_VEC",NODE_VARS:[{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["0.0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zJ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zJ","=","zI",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["zJ",".","r","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","_0_5","*","zI",".","r","+","_0_5",",","NODE_TEX_ROW",")",")",".","r","-","_0_5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["zJ",".","g","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","_0_5","*","zI",".","g","+","_0_5",",","NODE_TEX_ROW",")",")",".","g","-","_0_5",")","*","2.0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["zJ",".","b","=","(","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","_0_5","*","zI",".","b","+","_0_5",",","NODE_TEX_ROW",")",")",".","b","-","_0_5",")","*","2.0",";"]}]}]},{TYPE:"txt",TOKENS:["zJ","=","mix","(","zI",",","zJ",",","zH",")",";"]}]},{TYPE:"node",NAME:"CURVE_RGB",NODE_VARS:[{TYPE:"node_var",NAME:"READ_A",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_R",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_G",TOKENS:["0"]},{TYPE:"node_var",NAME:"READ_B",TOKENS:["0"]},{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["_0_0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zK",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zM",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_A"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","zL",".","r",",","NODE_TEX_ROW",")",")",".","a",";","float","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","zL",".","g",",","NODE_TEX_ROW",")",")",".","a",";","float","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","zL",".","b",",","NODE_TEX_ROW",")",")",".","a",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","r","=","zL",".","r",";","float","g","=","zL",".","g",";","float","b","=","zL",".","b",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_R"],STATEMENTS:[{TYPE:"txt",TOKENS:["zM",".","r","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","r",",","NODE_TEX_ROW",")",")",".","r",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zM",".","r","=","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_G"],STATEMENTS:[{TYPE:"txt",TOKENS:["zM",".","g","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","g",",","NODE_TEX_ROW",")",")",".","g",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zM",".","g","=","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["READ_B"],STATEMENTS:[{TYPE:"txt",TOKENS:["zM",".","b","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","b",",","NODE_TEX_ROW",")",")",".","b",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["zM",".","b","=","b",";"]}]}]},{TYPE:"txt",TOKENS:["zM","=","mix","(","zL",",","zM",",","zK",")",";"]}]},{TYPE:"node",NAME:"VALTORGB",NODE_VARS:[{TYPE:"node_var",NAME:"NODE_TEX_ROW",TOKENS:["_0_0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zN",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zP",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","zQ","=","GLSL_TEXTURE","(","u_nodes_texture",",","vec2","(","zN",",","NODE_TEX_ROW",")",")",";","zO","=","zQ",".","rgb",";","zP","=","zQ",".","a",";"]}]},{TYPE:"node",NAME:"MAPPING",NODE_VARS:[{TYPE:"node_var",NAME:"MAPPING_SCALE_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_SCALE",TOKENS:["vec3","(","_1_0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRANS_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRANS",TOKENS:["vec3","(","_0_0",")"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_TRS_MATRIX",TOKENS:["mat4","(","_1_0",")"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MIN_CLIP",TOKENS:["vec3","(","_0_0",")"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP_DEF",TOKENS:["0"]},{TYPE:"node_var",NAME:"MAPPING_MAX_CLIP",TOKENS:["vec3","(","_1_0",")"]},{TYPE:"node_var",NAME:"MAPPING_IS_NORMAL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zS",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","zR",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_SCALE_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","zS","*","MAPPING_SCALE",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRANS_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","zS","+","MAPPING_TRANS",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_TRS_MATRIX_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","(","MAPPING_TRS_MATRIX","*","vec4","(","zS",",","_1_0",")",")",".","xyz",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MIN_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","max","(","zS",",","MAPPING_MIN_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_MAX_CLIP_DEF"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","min","(","zS",",","MAPPING_MAX_CLIP",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAPPING_IS_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["zS","=","normalize","(","zS",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zV",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zV","=","zT","+","zU",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zV","=","clamp","(","zV",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"zX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"zY",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["zY","=","zW","-","zX",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["zY","=","clamp","(","zY",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"zZ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"z_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Aa",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Aa","=","zZ","*","z_",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Aa","=","clamp","(","Aa",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ab",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ac",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ad",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ad","=","(","Ac","!=","_0_0",")","?","Ab","/","Ac",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ad","=","clamp","(","Ad",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_SINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ae",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Af",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ag",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ag","=","sin","(","Ae",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ag","=","clamp","(","Ag",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["Af",";"]}]},{TYPE:"node",NAME:"MATH_COSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ah",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ai",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Aj",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Aj","=","cos","(","Ah",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Aj","=","clamp","(","Aj",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["Ai",";"]}]},{TYPE:"node",NAME:"MATH_TANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ak",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Al",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Am",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Am","=","tan","(","Ak",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Am","=","clamp","(","Am",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["Al",";"]}]},{TYPE:"node",NAME:"MATH_ARCSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"An",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ao",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ap",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ap","=","(","An","<=","_1_0","&&","An",">=","-","_1_0",")","?","asin","(","An",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ap","=","clamp","(","Ap",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["Ao",";"]}]},{TYPE:"node",NAME:"MATH_ARCCOSINE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Aq",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ar",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"As",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["As","=","(","Aq","<=","_1_0","&&","Aq",">=","-","_1_0",")","?","acos","(","Aq",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["As","=","clamp","(","As",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["Ar",";"]}]},{TYPE:"node",NAME:"MATH_ARCTANGENT",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"At",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Au",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Av",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Av","=","atan","(","At",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Av","=","clamp","(","Av",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["Au",";"]}]},{TYPE:"node",NAME:"MATH_POWER",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Aw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ax",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ay",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","Aw","<","_0_0","&&","Ax","!=","floor","(","Ax",")",")","Ay","=","_0_0",";","else","if","(","Ax","==","_0_0",")","Ay","=","_1_0",";","else","if","(","Aw","<","_0_0",")","Ay","=","mix","(","_1_0",",","-","_1_0",",","sign","(","mod","(","-","Ax",",","2.0",")",")",")","*","pow","(","-","Aw",",","Ax",")",";","else","if","(","Aw","==","_0_0",")","Ay","=","_0_0",";","else","Ay","=","pow","(","Aw",",","Ax",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ay","=","clamp","(","Ay",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_LOGARITHM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Az",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AA",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AB",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AB","=","(","Az",">","_0_0","&&","AA",">","_0_0",")","?","log2","(","Az",")","/","log2","(","AA",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AB","=","clamp","(","AB",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MINIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AE","=","min","(","AC",",","AD",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AE","=","clamp","(","AE",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MAXIMUM",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AF",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AG",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AH",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AH","=","max","(","AF",",","AG",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AH","=","clamp","(","AH",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ROUND",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AI",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AK","=","floor","(","AI","+","_0_5",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AK","=","clamp","(","AK",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["AJ",";"]}]},{TYPE:"node",NAME:"MATH_LESS_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AL",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AN",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AN","=","(","AL","<","AM",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AN","=","clamp","(","AN",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_GREATER_THAN",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AO",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AP",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AQ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AQ","=","(","AO",">","AP",")","?","_1_0",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AQ","=","clamp","(","AQ",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_MODULO",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AT","=","abs","(","AS",")",">","0.000001","?","mod","(","AR",",","AS",")",":","_0_0",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AT","=","clamp","(","AT",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATH_ABSOLUTE",NODE_VARS:[{TYPE:"node_var",NAME:"MATH_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AU",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AV",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"AW",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["AW","=","abs","(","AU",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATH_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["AW","=","clamp","(","AW",",","_0_0",",","_1_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["AV",";"]}]},{TYPE:"node",NAME:"MIX_RGB_MIX",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"AX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"AZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"A_",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","AX",",","_0_0",",","_1_0",")",";","A_","=","mix","(","AY",",","AZ",",","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["A_","=","clamp","(","A_",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_ADD",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ba",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bd",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Ba",",","_0_0",",","_1_0",")",";","Bd","=","mix","(","Bb",",","Bb","+","Bc",",","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bd","=","clamp","(","Bd",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_MULTIPLY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Be",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Be",",","_0_0",",","_1_0",")",";","Bh","=","mix","(","Bf",",","Bf","*","Bg",",","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bh","=","clamp","(","Bh",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SUBTRACT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Bi",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bk",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bl",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Bi",",","_0_0",",","_1_0",")",";","Bl","=","mix","(","Bj",",","Bj","-","Bk",",","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bl","=","clamp","(","Bl",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SCREEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Bm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Bm",",","_0_0",",","_1_0",")",";","float","Bq","=","_1_0","-","yI",";","Bp","=","vec3","(","_1_0",")","-","(","vec3","(","Bq",")","+","yI","*","(","vec3","(","_1_0",")","-","Bo",")",")","*","(","vec3","(","_1_0",")","-","Bn",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bp","=","clamp","(","Bp",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIVIDE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Br",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bt",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Bu",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Br",",","_0_0",",","_1_0",")",";","float","Bq","=","_1_0","-","yI",";","Bt","+=","step","(","Bt",",","vec3","(","_0_0",")",")",";","Bu","=","Bq","*","Bs","+","yI","*","Bs","/","Bt",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Bu","=","clamp","(","Bu",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DIFFERENCE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Bv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bw",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Bx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"By",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Bv",",","_0_0",",","_1_0",")",";","By","=","mix","(","Bw",",","abs","(","Bw","-","Bx",")",",","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["By","=","clamp","(","By",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DARKEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Bz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BA",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Bz",",","_0_0",",","_1_0",")",";","BC","=","min","(","BA",".","rgb",",","BB",".","rgb","*","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["BC","=","clamp","(","BC",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LIGHTEN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BD",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BG",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","BD",",","_0_0",",","_1_0",")",";","BG","=","max","(","BE",".","rgb",",","BF",".","rgb","*","yI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["BG","=","clamp","(","BG",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_OVERLAY",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BH",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BK",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","BH",",","_0_0",",","_1_0",")",";","vec3","BL","=","vec3","(","_1_0","-","yI",")",";","BK","=","mix","(","BI","*","(","BL","+","2.0","*","yI","*","BJ",")",",","vec3","(","_1_0",")","-","(","BL","+","2.0","*","yI","*","(","vec3","(","_1_0",")","-","BJ",")",")","*","(","vec3","(","_1_0",")","-","BI",")",",","step","(","_0_5",",","BI",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["BK","=","clamp","(","BK",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_DODGE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BM",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BP",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","BM",",","_0_0",",","_1_0",")",";","vec3","BQ","=","vec3","(","_1_0",")","-","yI","*","BO",";","vec3","BR","=","clamp","(","BN","/","BQ",",","_0_0",",","_1_0",")",";","BP","=","mix","(","mix","(","BR",",","vec3","(","_1_0",")",",","step","(","BQ",",","vec3","(","_0_0",")",")",")",",","BN",",","step","(","BN",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["BP","=","clamp","(","BP",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_BURN",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BT",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BV",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","BS",",","_0_0",",","_1_0",")",";","vec3","jC","=","vec3","(","_1_0","-","yI",")",";","vec3","BQ","=","jC","+","yI","*","BU",";","vec3","BR","=","clamp","(","vec3","(","_1_0",")","-","(","vec3","(","_1_0",")","-","BT",")","/","BQ",",","_0_0",",","_1_0",")",";","BV","=","mix","(","BR",",","vec3","(","_0_0",")",",","step","(","BQ",",","vec3","(","_0_0",")",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["BV","=","clamp","(","BV",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_HUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"BW",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"BY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"BZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","BW",",","_0_0",",","_1_0",")",";","vec3","ju",",","B_",",","BQ",";","BZ","=","BX",";","B_","=","jt","(","BY",")",";","if","(","B_",".","y","!=","_0_0",")","{","ju","=","jt","(","BZ",")",";","ju",".","x","=","B_",".","x",";","BQ","=","jv","(","ju",")",";","BZ","=","mix","(","BZ",",","BQ",",","yI",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["BZ","=","clamp","(","BZ",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SATURATION",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ca",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cd",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Ca",",","_0_0",",","_1_0",")",";","float","Bq","=","_1_0","-","yI",";","Cd","=","Cb",";","vec3","ju",",","B_",";","ju","=","jt","(","Cd",")",";","if","(","ju",".","y","!=","_0_0",")","{","B_","=","jt","(","Cc",")",";","ju",".","y","=","Bq","*","ju",".","y","+","yI","*","B_",".","y",";","Cd","=","jv","(","ju",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cd","=","clamp","(","Cd",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ce",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cf",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ch",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Ce",",","_0_0",",","_1_0",")",";","float","Bq","=","_1_0","-","yI",";","vec3","ju",",","B_",";","ju","=","jt","(","Cf",")",";","B_","=","jt","(","Cg",")",";","ju",".","z","=","Bq","*","ju",".","z","+","yI","*","B_",".","z",";","Ch","=","jv","(","ju",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ch","=","clamp","(","Ch",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Ci",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ck",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cl",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Ci",",","_0_0",",","_1_0",")",";","vec3","ju",",","B_",",","BQ",";","Cl","=","Cj",";","B_","=","jt","(","Ck",")",";","if","(","B_",".","y","!=","_0_0",")","{","ju","=","jt","(","Cl",")",";","ju",".","x","=","B_",".","x",";","ju",".","y","=","B_",".","y",";","BQ","=","jv","(","ju",")",";","Cl","=","mix","(","Cl",",","BQ",",","yI",")",";","}"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cl","=","clamp","(","Cl",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_SOFT_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Cm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Co",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cp",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Cm",",","_0_0",",","_1_0",")",";","float","Bq","=","_1_0","-","yI",";","vec3","Cq","=","Co","+","Cn","-","Co","*","Cn",";","Cp","=","Cn","*","(","vec3","(","Bq",")","+","vec3","(","yI",")","*","(","(","vec3","(","_1_0",")","-","Cn",")","*","Co","+","Cq",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cp","=","clamp","(","Cp",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MIX_RGB_LINEAR_LIGHT",NODE_VARS:[{TYPE:"node_var",NAME:"MIX_RGB_USE_CLAMP",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Cr",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Cs",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ct",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Cu",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","yI","=","clamp","(","Cr",",","_0_0",",","_1_0",")",";","Cu","=","Cs","+","yI","*","(","2.0","*","Ct","-","vec3","(","_1_0",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MIX_RGB_USE_CLAMP"],STATEMENTS:[{TYPE:"txt",TOKENS:["Cu","=","clamp","(","Cu",",","_0_0",",","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"CD",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","CD",";","H","=","CE",";"]}]},{TYPE:"node",NAME:"OUTPUT_SURFACE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"CF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","CF",";","H","=","_1_0",";"]}]},{TYPE:"node",NAME:"MATERIAL_BEGIN",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_NORMAL",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"SHADELESS_MAT",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"CH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CK",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CL",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"CM",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CR",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CS",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"CT",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"ru",QUALIFIER:["const","vec2"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"rv",QUALIFIER:["const","vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["CO","=","clamp","(","CH",",","_0_0",",","_1_0",")",";","CP","=","rv","[","0","]","*","clamp","(","CI",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_NORMAL"],STATEMENTS:[{TYPE:"txt",TOKENS:["CQ","=","normalize","(","CK",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["CQ","=","nH",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["SHADELESS_MAT",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"txt",TOKENS:["CM","=","CL","*","CO",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["CM","=","rH","*","CO",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["CO","*=","CJ",";"]}]}]},{TYPE:"txt",TOKENS:["CN","=","rI","*","u_environment_energy","*","cn","(","CQ",")",";","CT","=","vec4","(","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NUM_LIGHTS",0,{TYPE:"g_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["CR","=","vec2","(","ru","[","0","]",",","ru","[","1","]",")",";","CS","=","vec2","(","rv","[","1","]",",","rv","[","2","]",")",";"]}]}]},{TYPE:"txt",TOKENS:["G","=","CT",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["CM","=","vec3","(","_0_0",")",";","CN","=","vec3","(","_1_0",")",";"]}]}]}]},{TYPE:"node",NAME:"MATERIAL_END",NODE_VARS:[{TYPE:"node_var",NAME:"MATERIAL_EXT",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_DIFFUSE",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_MATERIAL_SPECULAR",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"CU",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"CX",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CY",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"CZ",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"C_",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Da",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Db",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dc",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dd",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"rw",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"rx",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["CX",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_C_"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_DIFFUSE"],STATEMENTS:[{TYPE:"txt",TOKENS:["C_","=","CU",".","rgb",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["C_","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["C_","+=","CV",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Db"],STATEMENTS:[{TYPE:"txt",TOKENS:["Db","=","CW",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MATERIAL_EXT"],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dc"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dc","=","CU",".","rgb",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dd"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dd","=","CV",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Da"],STATEMENTS:[{TYPE:"txt",TOKENS:["Da","=","clamp","(","CZ",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","CV",".","r",",","CV",".","g",")",",","CV",".","b",")","*","CY",";","Da","=","clamp","(","CZ","*","(","_1_0","-","t",")","+","t",",","_0_0",",","_1_0",")",";"]}]}]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Da"],STATEMENTS:[{TYPE:"txt",TOKENS:["Da","=","clamp","(","rw",",","_0_0",",","_1_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","t","=","max","(","max","(","CV",".","r",",","CV",".","g",")",",","CV",".","b",")","*","rx",";","Da","=","rw","*","(","_1_0","-","t",")","+","t",";"]}]}]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_MATERIAL_SPECULAR"],STATEMENTS:[{TYPE:"txt",TOKENS:["E","=","CV",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["E","=","vec3","(","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["F","=","CW",";"]}]},{TYPE:"node",NAME:"LIGHTING_AMBIENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"nZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"n_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ob",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oc",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["ob","=","vec4","(","nZ","+","oa","*","n_",",","_0_0",")",";","oc","=","vec3","(","_0_0",")",";"]}]},{TYPE:"node",NAME:"LIGHTING_LAMP",NODE_VARS:[{TYPE:"node_var",NAME:"LAMP_TYPE",TOKENS:["HEMI"]},{TYPE:"node_var",NAME:"LAMP_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"LAMP_SPOT_SIZE",TOKENS:["0.8"]},{TYPE:"node_var",NAME:"LAMP_SPOT_BLEND",TOKENS:["0.03"]},{TYPE:"node_var",NAME:"LAMP_LIGHT_DIST",TOKENS:["30.0"]},{TYPE:"node_var",NAME:"LAMP_SHADOW_MAP_IND",TOKENS:["-","1"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"od",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oe",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"of",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"og",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oh",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["of","=","vec2","(","u_light_positions","[","LAMP_IND","]",".","w",",","u_light_color_intensities","[","LAMP_IND","]",".","w",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","HEMI",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["oh","=","_0_5",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oh","=","_0_0",";"]}]}]},{TYPE:"txt",TOKENS:["og","=","u_light_color_intensities","[","LAMP_IND","]",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_SHADOW_MAP_IND",1,{TYPE:"negative_expr",PLACES:1},{TYPE:"non_equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["og","*=","od","[","LAMP_SHADOW_MAP_IND","]",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2},"LAMP_TYPE","POINT",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","oi","=","u_light_positions","[","LAMP_IND","]",".","xyz",";","oe","=","oi","-","nG",";","float","aM","=","length","(","oe",")",";","og","*=","LAMP_LIGHT_DIST","/","(","LAMP_LIGHT_DIST","+","aM","*","aM",")",";","oe","=","normalize","(","oe",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["LAMP_TYPE","SPOT",{TYPE:"equal_expr",PLACES:2}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","ok","=","u_light_directions","[","LAMP_IND","]",";","float","ol","=","dot","(","oe",",","ok",")",";","ol","*=","smoothstep","(","_0_0",",","_1_0",",","(","ol","-","LAMP_SPOT_SIZE",")","/","LAMP_SPOT_BLEND",")",";","og","*=","ol",";"]}]}]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["oe","=","u_light_directions","[","LAMP_IND","]",";"]}]}]}]},{TYPE:"node",NAME:"DIFFUSE_FRESNEL",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"om",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"on",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oo",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"op",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oq",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"or",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","om",",","k",".","xyz",")",";","oo","=","cross","(","os",",","k",".","xyz",")",";","oo","=","-","normalize","(","oo",")",";"]}]}]},{TYPE:"txt",TOKENS:["or","=","_0_0",";","if","(","on",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","op",")","*","dot","(","oo",",","om",")","+","op",";","if","(","oq","[","0","]","==","_0_0",")","{","or","=","_1_0",";","}","else","{","float","t","=","_1_0","+","abs","(","ot",")",";","t","=","oq","[","1","]","+","(","_1_0","-","oq","[","1","]",")","*","pow","(","t",",","oq","[","0","]",")",";","or","=","clamp","(","t",",","_0_0",",","_1_0",")",";","}","or","=","max","(","or",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_LAMBERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ou",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ov",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ow",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"ox",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oy",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","ou",",","k",".","xyz",")",";","ow","=","cross","(","os",",","k",".","xyz",")",";","ow","=","-","normalize","(","ow",")",";"]}]}]},{TYPE:"txt",TOKENS:["oy","=","_0_0",";","if","(","ov",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","ox",")","*","dot","(","ow",",","ou",")","+","ox",";","oy","=","max","(","ot",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_OREN_NAYAR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oD",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oz",",","k",".","xyz",")",";","oB","=","cross","(","os",",","k",".","xyz",")",";","oB","=","-","normalize","(","oB",")",";"]}]}]},{TYPE:"txt",TOKENS:["oE","=","_0_0",";","if","(","oA",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oC",")","*","dot","(","oB",",","oz",")","+","oC",";","if","(","oD","[","0","]",">","_0_0",")","{","float","oF","=","max","(","dot","(","oB",",","nI",")",",","_0_0",")",";","float","oG","=","oD","[","0","]","*","oD","[","0","]",";","float","cp","=","_1_0","-","_0_5","*","(","oG","/","(","oG","+","0.33",")",")",";","vec3","oH","=","oz","-","ot","*","oB",";","vec3","oI","=","nI","-","oF","*","oB",";","if","(","length","(","oH",")","==","_0_0","||","length","(","oI",")","==","_0_0","||","abs","(","ot",")",">","_1_0","||","abs","(","oF",")",">","_1_0",")","oE","=","ot","*","cp",";","else","{","float","oJ","=","acos","(","ot",")",";","float","oK","=","acos","(","oF",")",";","vec3","oL","=","normalize","(","oH",")",";","vec3","oM","=","normalize","(","oI",")",";","float","a",",","b",";","a","=","max","(","oJ",",","oK",")",";","b","=","min","(","oJ",",","oK",")",";","b","*=","0.95",";","float","t","=","max","(","dot","(","oL",",","oM",")",",","_0_0",")",";","float","oN","=","0.45","*","(","oG","/","(","oG","+","0.09",")",")",";","oE","=","ot","*","(","cp","+","(","oN","*","t","*","sin","(","a",")","*","tan","(","b",")",")",")",";","}","}","else","oE","=","ot",";","oE","=","max","(","oE",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_MINNAERT",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oP",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oQ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oR",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oS",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oT",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oO",",","k",".","xyz",")",";","oQ","=","cross","(","os",",","k",".","xyz",")",";","oQ","=","-","normalize","(","oQ",")",";"]}]}]},{TYPE:"txt",TOKENS:["oT","=","_0_0",";","if","(","oP",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oR",")","*","dot","(","oQ",",","oO",")","+","oR",";","float","oF","=","max","(","dot","(","oQ",",","nI",")",",","_0_0",")",";","if","(","oS","[","0","]","<=","_1_0",")","oT","=","ot","*","pow","(","max","(","oF","*","ot",",","0.1",")",",","oS","[","0","]","-","_1_0",")",";","else","oT","=","ot","*","pow","(","1.0001","-","oF",",","oS","[","0","]","-","_1_0",")",";","oT","=","max","(","oT",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"DIFFUSE_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"oU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oV",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oW",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oX",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"oY",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"oZ",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","os","=","cross","(","oU",",","k",".","xyz",")",";","oW","=","cross","(","os",",","k",".","xyz",")",";","oW","=","-","normalize","(","oW",")",";"]}]}]},{TYPE:"txt",TOKENS:["oZ","=","_0_0",";","if","(","oV",".","r","!=","_0_0",")","{","float","ot","=","(","_1_0","-","oX",")","*","dot","(","oW",",","oU",")","+","oX",";","float","o_","=","acos","(","ot",")",";","if","(","o_","<","oY","[","0","]",")","oZ","=","_1_0",";","else","if","(","o_",">","(","oY","[","0","]","+","oY","[","1","]",")","||","oY","[","1","]","==","_0_0",")","oZ","=","_0_0",";","else","oZ","=","_1_0","-","(","(","o_","-","oY","[","0","]",")","/","oY","[","1","]",")",";","oZ","=","max","(","oZ",",","_0_0",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_PHONG",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pa",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pb",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pc",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pd",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pe",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pf",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","_0_0",";","if","(","pb",".","g","==","_1_0",")","{","vec3","pg","=","normalize","(","pa","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pd","==","_0_0",")","{","pf","=","dot","(","k",".","xyz",",","pg",")",";","pf","=","sqrt","(","_1_0","-","pf","*","pf",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pf","=","(","_1_0","-","pd",")","*","max","(","dot","(","pc",",","pg",")",",","_0_0",")","+","pd",";"]}]}]},{TYPE:"txt",TOKENS:["pf","=","pow","(","pf",",","pe","[","0","]",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_COOKTORR",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"ph",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pi",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pj",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pk",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pl",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pm",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","_0_0",";","if","(","pi",".","g","!=","_0_0",")","{","vec3","pg","=","normalize","(","ph","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","pk","==","_0_0",")","{","pm","=","dot","(","B",".","xyz",",","pg",")",";","pm","=","sqrt","(","_1_0","-","pm","*","pm",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["pm","=","max","(","dot","(","pj",",","pg",")",",","_0_0",")",";","pm","=","(","_1_0","-","pk",")","*","pm","+","pk",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","oF","=","max","(","dot","(","B",".","xyz",",","nI",")",",","_0_0",")",";","oF","=","sqrt","(","_1_0","-","oF","*","oF",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","oF","=","max","(","dot","(","pj",",","nI",")",",","_0_0",")",";"]}]}]},{TYPE:"txt",TOKENS:["pm","=","pow","(","pm",",","pl","[","0","]",")",";","pm","=","pm","/","(","0.1","+","oF",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_WARDISO",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"po",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pr",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pv",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pw",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pw","=","_0_0",";","if","(","po",".","g","==","_1_0",")","{","vec3","pg","=","normalize","(","pn","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","_0_0",";","float","oF","=","_0_0",";","float","py","=","_0_0",";","if","(","pu","==","_0_0",")","{","px","=","dot","(","k",".","xyz",",","pg",")",";","oF","=","dot","(","k",".","xyz",",","nI",")",";","py","=","dot","(","k",".","xyz",",","pn",")",";","px","=","sqrt","(","_1_0","-","px","*","px",")",";","oF","=","sqrt","(","_1_0","-","oF","*","oF",")",";","py","=","sqrt","(","_1_0","-","py","*","py",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","max","(","dot","(","pr",",","pg",")",",","0.01",")",";","float","oF","=","max","(","dot","(","pr",",","nI",")",",","0.01",")",";","float","py","=","max","(","dot","(","pr",",","pn",")",",","0.01",")",";"]}]}]},{TYPE:"txt",TOKENS:["float","bx","=","tan","(","acos","(","px",")",")",";","float","J","=","max","(","pv","[","0","]",",","0.01",")",";","pw","=","py","*","(","_1_0","/","(","4.0","*","M_PI","*","J","*","J",")",")","*","(","exp","(","-","(","bx","*","bx",")","/","(","J","*","J",")",")","/","(","sqrt","(","oF","*","py",")",")",")",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_TOON",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pA",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pD",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pE",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pE","=","_0_0",";","if","(","pA",".","g","==","_1_0",")","{","vec3","bX","=","normalize","(","pz","+","nI",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","pF","=","dot","(","bX",",","k",".","xyz",")",";","float","bx","=","pD","[","0","]","+","pD","[","1","]",";","if","(","pC","==","_0_0",")","bx","=","acos","(","sqrt","(","_1_0","-","pF","*","pF",")",")",";"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","bx","=","acos","(","dot","(","bX",",","pB",")",")",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","bx","<","pD","[","0","]",")","pE","=","_1_0",";","else","if","(","bx",">=","pD","[","0","]","+","pD","[","1","]","||","pD","[","1","]","==","_0_0",")","pE","=","_0_0",";","else","pE","=","_1_0","-","(","bx","-","pD","[","0","]",")","/","pD","[","1","]",";","}"]}]},{TYPE:"node",NAME:"SPECULAR_BLINN",NODE_VARS:[{TYPE:"node_var",NAME:"MAT_USE_TBN_SHADING",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"pG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pH",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pJ",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pK",QUALIFIER:["vec2"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"pL",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["pL","=","_0_0",";","if","(","pH",".","g","==","_1_0",")","{","if","(","pK","[","0","]","<","_1_0","||","pK","[","1","]","==","_0_0",")","pL","=","_0_0",";","else","{","if","(","pK","[","1","]","<","100.0",")","pK","[","1","]","=","sqrt","(","_1_0","/","pK","[","1","]",")",";","else","pK","[","1","]","=","10.0","/","pK","[","1","]",";","vec3","pg","=","normalize","(","nI","+","pG",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["MAT_USE_TBN_SHADING"],STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","_0_0",";","if","(","pJ","==","_0_0",")","{","float","pO","=","dot","(","k",".","xyz",",","pg",")",";","px","=","sqrt","(","_1_0","-","pO","*","pO",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["float","px","=","(","_1_0","-","pJ",")","*","max","(","dot","(","pI",",","pg",")",",","_0_0",")","+","pJ",";"]}]}]},{TYPE:"txt",TOKENS:["if","(","px","<","_0_0",")","pL","=","_0_0",";","else","{","float","oF","=","max","(","dot","(","pI",",","nI",")",",","0.01",")",";","float","py","=","dot","(","pI",",","pG",")",";","if","(","py","<=","0.01",")","pL","=","_0_0",";","else","{","float","pP","=","max","(","dot","(","nI",",","pg",")",",","0.01",")",";","float","a","=","_1_0",";","float","b","=","(","2.0","*","px","*","oF",")","/","pP",";","float","di","=","(","2.0","*","px","*","py",")","/","pP",";","float","g","=","min","(","min","(","a",",","b",")",",","di",")",";","float","p","=","sqrt","(","pow","(","pK","[","0","]",",","2.0",")","+","pow","(","pP",",","2.0",")","-","_1_0",")",";","float","lw","=","pow","(","p","-","pP",",","2.0",")","/","pow","(","p","+","pP",",","2.0",")","*","(","_1_0","+","pow","(","pP","*","(","p","+","pP",")","-","_1_0",",","2.0",")","/","pow","(","pP","*","(","p","-","pP",")","+","_1_0",",","2.0",")",")",";","float","o_","=","acos","(","px",")",";","pL","=","max","(","lw","*","g","*","exp","(","-","pow","(","o_",",","2.0",")","/","(","2.0","*","pow","(","pK","[","1","]",",","2.0",")",")",")",",","_0_0",")",";","}","}","}","}"]}]},{TYPE:"node",NAME:"LIGHTING_APPLY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"pQ",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pR",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pS",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pT",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pU",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pV",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pW",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"pZ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"p_",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qa",QUALIFIER:["vec4"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"qb",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_NODE_B4W_TRANSLUCENCY"],STATEMENTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","pU",",","pV",")","*","dot","(","nI",",","pV",")","<","_0_0",")","{","float","De","=","pW",".","x",";","float","Df","=","pW",".","y",";","float","Dg","=","pW",".","z",";","float","Dh","=","pW",".","w",";","float","Di","=","clamp","(","abs","(","dot","(","pU",",","pV",")",")",",","_0_0",",","_1_0",")",";","float","Dj","=","clamp","(","dot","(","nI",",","-","pU",")",",","_0_0",",","_1_0",")",";","float","Dk","=","pow","(","Dj",",","Df",")",";","qa","=","pQ","+","p_","*","vec4","(","pZ","*","Di","*","pow","(","pX",",","vec3","(","De",")",")",",","_1_0",")",";","qa","+=","Dg","*","mix","(","vec4","(","pX",",","_1_0",")",",","vec4","(","_1_0",")",",","Dh",")","*","p_","*","vec4","(","pZ","*","Di","*","vec3","(","Dk",")",",","_1_0",")",";","}","else","{","qa","=","pQ","+","vec4","(","pZ","*","pX","*","pS",",","pT",")",";","}"]}]},{TYPE:"node_else",STATEMENTS:[{TYPE:"txt",TOKENS:["qa","=","pQ","+","vec4","(","pZ","*","pX","*","pS",",","pT",")",";"]}]}]},{TYPE:"txt",TOKENS:["qb","=","pR","+","pZ","*","pY","*","pT",";"]}]},{TYPE:"node",NAME:"RGB",NODE_VARS:[{TYPE:"node_var",NAME:"RGB_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"Dl",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Dl","=","u_node_rgbs","[","RGB_IND","]",";"]}]},{TYPE:"node",NAME:"RGBTOBW",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Dm",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dn",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Dn","=","dot","(","Dm",",","vec3","(","0.35",",","0.45",",","0.2",")",")",";"]}]},{TYPE:"node",NAME:"SEPRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Do",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dp",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dq",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dr",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dp"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dp","=","Do",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dq"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dq","=","Do",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dr"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dr","=","Do",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SEPHSV",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ds",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Dt",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Du",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Dv",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","Dw","=","jt","(","Ds",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dt"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dt","=","Dw",".","r",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Du"],STATEMENTS:[{TYPE:"txt",TOKENS:["Du","=","Dw",".","g",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Dv"],STATEMENTS:[{TYPE:"txt",TOKENS:["Dv","=","Dw",".","b",";"]}]}]}]},{TYPE:"node",NAME:"SQUEEZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Dx",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dy",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Dz",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DA",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DA","=","_1_0","/","(","_1_0","+","pow","(","2.71828183",",","-","(","Dx","-","Dz",")","*","Dy",")",")",";"]}]},{TYPE:"node",NAME:"GAMMA",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"DC",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DD",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DD","=","DB",";","if","(","DD",".","x",">","_0_0",")","DD",".","x","=","pow","(","DB",".","x",",","DC",")",";","if","(","DD",".","y",">","_0_0",")","DD",".","y","=","pow","(","DB",".","y",",","DC",")",";","if","(","DD",".","z",">","_0_0",")","DD",".","z","=","pow","(","DB",".","z",",","DC",")",";"]}]},{TYPE:"node",NAME:"B4W_SRGB_TO_LINEAR",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DE",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DF",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DF","=","max","(","vec3","(","_0_0",")",",","DE",")",";","DF","=","pow","(","DF",",","vec3","(","2.2",")",")",";"]}]},{TYPE:"node",NAME:"B4W_LINEAR_TO_SRGB",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"DG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DH",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["DH","=","max","(","vec3","(","_0_0",")",",","DG",")",";","DH","=","pow","(","DH",",","vec3","(","_1_0","/","2.2",")",")",";"]}]},{TYPE:"node",NAME:"TEXTURE_EMPTY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"DI",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"DK",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_DI"],STATEMENTS:[{TYPE:"txt",TOKENS:["DI","[","2","]","=","DI","[","1","]","=","DI","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_DJ"],STATEMENTS:[{TYPE:"txt",TOKENS:["DJ","[","2","]","=","DJ","[","1","]","=","DJ","[","0","]","=","_0_0",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_DK"],STATEMENTS:[{TYPE:"txt",TOKENS:["DK","=","_0_0",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_ENVIRONMENT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Gn",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Go",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Gp",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_ENVIRONMENT_var_texture",QUALIFIER:["uniform","samplerCube"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","zQ","=","GLSL_TEXTURE_CUBE","(","node_TEXTURE_ENVIRONMENT_var_texture",",","Gn",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Go"],STATEMENTS:[{TYPE:"txt",TOKENS:["Go","=","zQ",".","xyz",";","cg","(","Go",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Gp"],STATEMENTS:[{TYPE:"txt",TOKENS:["Gp","=","zQ",".","w",";"]}]}]}]},{TYPE:"node",NAME:"TEXTURE_COLOR",NODE_VARS:[{TYPE:"node_var",NAME:"NON_COLOR",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"DV",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"DW",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"DX",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"DY",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"DZ",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"D_",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ea",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Eb",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ec",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ed",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ee",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ef",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_COLOR_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","zQ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","rd","(","DV",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_DZ"],STATEMENTS:[{TYPE:"txt",TOKENS:["DZ","=","zQ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cg","(","DZ",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_D_"],STATEMENTS:[{TYPE:"txt",TOKENS:["D_","=","zQ",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","rd","(","DW",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ea"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ea","=","zQ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cg","(","Ea",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Eb"],STATEMENTS:[{TYPE:"txt",TOKENS:["Eb","=","zQ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","rd","(","DX",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ec"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ec","=","zQ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cg","(","Ec",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ed"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ed","=","zQ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_COLOR_var_texture",",","rd","(","DY",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ee"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ee","=","zQ",".","xyz",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["NON_COLOR",{TYPE:"logic_negative_expr",PLACES:1}],STATEMENTS:[{TYPE:"txt",TOKENS:["cg","(","Ee",")",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ef"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ef","=","zQ",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"TEXTURE_NORMAL",NODE_VARS:[{TYPE:"node_var",NAME:"USE_uv2",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv3",TOKENS:["0"]},{TYPE:"node_var",NAME:"USE_uv4",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_in",NAME:"Eg",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"Eh",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"Ei",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_in",NAME:"Ej",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ek",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"El",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Em",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"En",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Eo",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Ep",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Eq",QUALIFIER:["vec3"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Er",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_TEXTURE_NORMAL_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec4","zQ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","rd","(","Eg",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ek"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ek","=","normalize","(","rD","*","(","zQ",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_El"],STATEMENTS:[{TYPE:"txt",TOKENS:["El","=","zQ",".","w",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv2"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","rd","(","Eh",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Em"],STATEMENTS:[{TYPE:"txt",TOKENS:["Em","=","normalize","(","rD","*","(","zQ",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_En"],STATEMENTS:[{TYPE:"txt",TOKENS:["En","=","zQ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv3"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","rd","(","Ei",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Eo"],STATEMENTS:[{TYPE:"txt",TOKENS:["Eo","=","normalize","(","rD","*","(","zQ",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ep"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ep","=","zQ",".","w",";"]}]}]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_uv4"],STATEMENTS:[{TYPE:"txt",TOKENS:["zQ","=","GLSL_TEXTURE","(","node_TEXTURE_NORMAL_var_texture",",","rd","(","Ej",")",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Eq"],STATEMENTS:[{TYPE:"txt",TOKENS:["Eq","=","normalize","(","rD","*","(","zQ",".","xyz","-","_0_5",")",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Er"],STATEMENTS:[{TYPE:"txt",TOKENS:["Er","=","zQ",".","w",";"]}]}]}]}]}]},{TYPE:"node",NAME:"VALUE",NODE_VARS:[{TYPE:"node_var",NAME:"VALUE_IND",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_out",NAME:"Es",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Es","=","u_node_values","[","VALUE_IND","]",";"]}]},{TYPE:"node",NAME:"VECT_MATH_ADD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Et",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Eu",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ev",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ew",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ev","=","Et","+","Eu",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Ew"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ew","=","(","abs","(","Ev","[","0","]",")","+","abs","(","Ev","[","1","]",")","+","abs","(","Ev","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_SUBTRACT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ex",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Ey",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ez",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EA",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["Ez","=","Ex","-","Ey",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_EA"],STATEMENTS:[{TYPE:"txt",TOKENS:["EA","=","(","abs","(","Ez","[","0","]",")","+","abs","(","Ez","[","1","]",")","+","abs","(","Ez","[","2","]",")",")","/","3.0",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_AVERAGE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EB",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EC",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"ED",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EE",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["ED","=","EB","+","EC",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_EE"],STATEMENTS:[{TYPE:"txt",TOKENS:["EE","=","length","(","ED",")",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_ED"],STATEMENTS:[{TYPE:"txt",TOKENS:["ED","=","normalize","(","ED",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_DOT_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EF",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EG",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EH",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EI",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["EH","=","vec3","(","_0_0",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_EI"],STATEMENTS:[{TYPE:"txt",TOKENS:["EI","=","dot","(","EF",",","EG",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_CROSS_PRODUCT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EJ",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EK",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EL",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EM",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["EL","=","cross","(","EJ",",","EK",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_EM"],STATEMENTS:[{TYPE:"txt",TOKENS:["EM","=","length","(","EL",")",";"]}]}]}]},{TYPE:"node",NAME:"VECT_MATH_NORMALIZE",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EN",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EO",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EP",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EQ",QUALIFIER:["float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"txt",TOKENS:["EP","=","normalize","(","EN",")",";"]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_EQ"],STATEMENTS:[{TYPE:"txt",TOKENS:["EQ","=","length","(","EN",")",";"]}]}]},{TYPE:"txt",TOKENS:["EO",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"EX",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"EY",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"EZ",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["EZ","=","reflect","(","_","(","u_view_tsr_inverse",",","EX",")",",","EY",")",";"]}]},{TYPE:"node",NAME:"B4W_REFLECT_WORLD",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"E_",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Fa",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["vec3","Gq","=","-","nI",".","xyz",";","Fa","=","reflect","(","Gq",",","E_",")",";"]}]},{TYPE:"node",NAME:"B4W_PARALLAX",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Fb",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fc",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fd",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fe",QUALIFIER:["const","float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Ff",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_param",NAME:"node_B4W_PARALLAX_var_texture",QUALIFIER:["uniform","sampler2D"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["float","bA","=","length","(","rG",")",";","if","(","bA","<","Fe",")","{","vec2","bN","=","rd","(","Fb",")",";","float","bR","=","clamp","(","_0_5","*","(","Fe","-","bA",")",",","_0_0",",","_1_0",")",";","float","he","=","Fc","*","bR",";","vec3","bT","=","normalize","(","nI","*","rD",")",";","float","bU","=","_1_0","/","Fd",";","vec2","bV","=","bT",".","xy","*","he","/","(","Fd","*","bT",".","z",")",";","float","bW","=","_1_0",";","float","bX","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bN",")",".","a",";","for","(","float","bZ","=","1.0",";","bZ","<=","Fd",";","bZ","++",")","{","if","(","bX","<","bW",")","{","bW","-=","bU",";","bN","-=","bV",";","bX","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","bN",")",".","a",";","}","}","vec2","b_","=","bN","+","bV",";","float","ca","=","GLSL_TEXTURE","(","node_B4W_PARALLAX_var_texture",",","b_",")",".","a","-","(","bW","+","bU",")",";","float","cb","=","bX","-","bW",";","float","cc","=","cb","/","(","cb","-","ca",")",";","bN","=","cc","*","b_","+","(","_1_0","-","cc",")","*","bN",";","Ff","=","rc","(","bN",")",";","}","else","Ff","=","Fb",";"]}]},{TYPE:"node",NAME:"B4W_CLAMP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Fg",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Fh",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Fh","=","clamp","(","Fg",",","_0_0",",","_1_0",")",";"]}]},{TYPE:"node",NAME:"B4W_REFRACTION",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Fi",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fj",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Fk",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Fk","=","Fi",";"]}]},{TYPE:"node",NAME:"B4W_TRANSLUCENCY",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Fl",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fm",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fn",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fo",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fp",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Fq",QUALIFIER:["float"],IS_OPTIONAL:true},{TYPE:"node_out",NAME:"Fr",QUALIFIER:["vec4"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Fq"],STATEMENTS:[{TYPE:"txt",TOKENS:["Fq","=","Fl",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["USE_OUT_Fr"],STATEMENTS:[{TYPE:"txt",TOKENS:["Fr","=","vec4","(","Fm",",","Fn",",","Fo",",","Fp",")",";"]}]}]}]},{TYPE:"node",NAME:"B4W_TIME",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_out",NAME:"Fs",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Fs","=","u_time",";"]}]},{TYPE:"node",NAME:"B4W_SMOOTHSTEP",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Ft",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fu",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fv",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"Fw",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["Fw","=","smoothstep","(","Fu",",","Fv",",","Ft",")",";"]}]},{TYPE:"node",NAME:"B4W_GLOW_OUTPUT",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Fx",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_in",NAME:"Fy",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["D","=","Fx",";","H","=","Fy",";"]}]},{TYPE:"node",NAME:"B4W_VECTOSCAL",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"Fz",QUALIFIER:["vec3"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"FA",QUALIFIER:["float"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["FA","=","(","Fz",".","r","+","Fz",".","g","+","Fz",".","b",")","/","3.0",";"]}]},{TYPE:"node",NAME:"B4W_SCALTOVEC",NODE_VARS:[],DECLARATIONS:[{TYPE:"node_in",NAME:"FB",QUALIFIER:["float"],IS_OPTIONAL:false},{TYPE:"node_out",NAME:"FC",QUALIFIER:["vec3"],IS_OPTIONAL:false}],STATEMENTS:[{TYPE:"txt",TOKENS:["FC","[","0","]","=","FB",";","FC","[","1","]","=","FB",";","FC","[","2","]","=","FB",";"]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","I","(","in","vec3","nI",",","out","vec3","D",",","out","vec3","E",",","out","vec3","F",",","out","vec4","G",",","out","float","H",")","{","D","=","vec3","(","_0_0",")",";","E","=","vec3","(","_0_0",")",";","F","=","vec3","(","_0_0",")",";","G","=","vec4","(","_0_0",")",";","H","=","_0_0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_MATERIAL_BEGIN","USE_NODE_GEOMETRY_NO","CAUSTICS","CALC_TBN_SPACE","USE_NODE_TEX_COORD_NO","USE_NODE_NORMAL_MAP","USE_NODE_BSDF_BEGIN","USE_NODE_FRESNEL","USE_NODE_TEX_COORD_RE","USE_NODE_LAYER_WEIGHT","USE_NODE_BUMP",{TYPE:"logical_or_expr",PLACES:11}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rA","=","j",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing","==","false",")"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","gl_FrontFacing",")"]}]}}]},{TYPE:"txt",TOKENS:["rA","=","rA",";","else","rA","=","-","rA",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_NORMAL_MAP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rB","=","rA",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING","USE_NODE_GEOMETRY_NO","USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:4}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rC","=","normalize","(","rA",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DOUBLE_SIDED_LIGHTING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nH","=","rC",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","nH","=","normalize","(","j",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_NO"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","rz","=","rC",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CALC_TBN_SPACE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_TEXTURE_NORMAL","USE_NODE_B4W_PARALLAX",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","W","=","cross","(","rC",",","k",".","xyz",")","*","k",".","w",";","mat3","rD","=","mat3","(","k",".","xyz",",","W",",","rC",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_NORMAL_MAP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","W","=","cross","(","rA",",","k",".","xyz",")","*","k",".","w",";","mat3","rF","=","mat3","(","k",".","xyz",",","W",",","rA",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["vec3","nG","=","h",";","vec4","rG","=","i",";","float","rH","=","u_emit",";","float","rI","=","u_ambient",";"]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/particles_nodes.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PARTICLES_NODES_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PARTICLES_NODES_GLSLV",TOKENS:[""]},{TYPE:"node",NAME:"TEX_COORD_UV",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","Gw",";"]}]},{TYPE:"node",NAME:"UV_MERGED",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","Gw",";"]}]},{TYPE:"node",NAME:"UVMAP",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","Gw",";"]}]},{TYPE:"node",NAME:"GEOMETRY_UV",NODE_VARS:[],DECLARATIONS:[],STATEMENTS:[{TYPE:"txt",TOKENS:["A","=","Gw",";"]}]},{TYPE:"node",NAME:"PARTICLE_INFO",NODE_VARS:[{TYPE:"node_var",NAME:"PART_INFO_SIZE",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_AGE",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_LT",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_LOC",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_IND",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_VEL",TOKENS:["0"]},{TYPE:"node_var",NAME:"PART_INFO_A_VEL",TOKENS:["0"]}],DECLARATIONS:[{TYPE:"node_param",NAME:"F_",QUALIFIER:["GLSL_OUT","vec4"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Ga",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Gb",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"Gc",QUALIFIER:["GLSL_OUT","vec3"],IS_OPTIONAL:true},{TYPE:"node_param",NAME:"node_PARTICLE_INFO_var_a_p_indices",QUALIFIER:["GLSL_IN","float"],IS_OPTIONAL:true}],STATEMENTS:[{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_SIZE"],STATEMENTS:[{TYPE:"txt",TOKENS:["F_","[","3","]","=","Gv",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_AGE"],STATEMENTS:[{TYPE:"txt",TOKENS:["F_","[","1","]","=","Gu",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_LT"],STATEMENTS:[{TYPE:"txt",TOKENS:["F_","[","2","]","=","Gx",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_LOC"],STATEMENTS:[{TYPE:"txt",TOKENS:["Ga","=","Gr",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_IND"],STATEMENTS:[{TYPE:"txt",TOKENS:["F_","[","0","]","=","node_PARTICLE_INFO_var_a_p_indices",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_VEL"],STATEMENTS:[{TYPE:"txt",TOKENS:["Gb","=","Gs",";"]}]}]},{TYPE:"node_cond",PARTS:[{TYPE:"node_if",EXPRESSION:["PART_INFO_A_VEL"],STATEMENTS:[{TYPE:"txt",TOKENS:["Gc","=","Gt",";"]}]}]}]},{TYPE:"nodes_global"},{TYPE:"txt",TOKENS:["void","I","(","in","vec3","Gr",",","in","vec3","Gs",",","in","vec3","Gt",",","in","float","Gu",",","in","float","Gv",",","in","vec2","Gw",",","in","float","Gx",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_NODE_GEOMETRY_OR","USE_NODE_TEX_COORD_GE",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["A","=","Gw",";"]}]}}]},{TYPE:"nodes_main"},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/precision_statement.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PRECISION_STATEMENT_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PRECISION_STATEMENT_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"txt",TOKENS:["precision","PRECISION","float",";"]}]}}]}]},exports["include/procedural.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"PROCEDURAL_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"PROCEDURAL_GLSLF",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec4","Gy","(","vec4","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","289.0",")",")","*","289.0",";","}","vec3","Gy","(","vec3","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","289.0",")",")","*","289.0",";","}","vec2","Gy","(","vec2","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","289.0",")",")","*","289.0",";","}","vec4","Gz","(","vec4","x",")","{","return","x","-","floor","(","x","*","(","_1_0","/","7.0",")",")","*","7.0",";","}","vec4","GA","(","vec4","x",")","{","return","Gy","(","(","34.0","*","x","+","5.0",")","*","x",")",";","}"]},{TYPE:"define",NAME:"K",TOKENS:["0.142857142857"]},{TYPE:"define",NAME:"K2",TOKENS:["0.0714285714285"]},{TYPE:"define",NAME:"JITTER",TOKENS:["0.7"]},{TYPE:"txt",TOKENS:["vec2","fd","(","vec2","GB",")","{","vec2","GC","=","Gy","(","floor","(","GB",")",")",";","vec2","GD","=","fract","(","GB",")",";","vec4","GE","=","GD",".","x","+","vec4","(","-","0.5",",","-","1.5",",","-","0.5",",","-","1.5",")",";","vec4","GF","=","GD",".","y","+","vec4","(","-","0.5",",","-","0.5",",","-","1.5",",","-","1.5",")",";","vec4","p","=","GA","(","GC",".","x","+","vec4","(","_0_0",",","_1_0",",","_0_0",",","_1_0",")",")",";","p","=","GA","(","p","+","GC",".","y","+","vec4","(","_0_0",",","_0_0",",","_1_0",",","_1_0",")",")",";","vec4","GG","=","Gz","(","p",")","*","K","+","K2",";","vec4","GH","=","Gz","(","floor","(","p","*","K",")",")","*","K","+","K2",";","vec4","GI","=","GE","+","JITTER","*","GG",";","vec4","GJ","=","GF","+","JITTER","*","GH",";","vec4","dn","=","GI","*","GI","+","GJ","*","GJ",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:[1],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dn",".","xy","=","min","(","dn",".","xy",",","dn",".","zw",")",";","dn",".","x","=","min","(","dn",".","x",",","dn",".","y",")",";","return","dn",".","xx",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dn",".","xy","=","(","dn",".","x","<","dn",".","y",")","?","dn",".","xy",":","dn",".","yx",";","dn",".","xz","=","(","dn",".","x","<","dn",".","z",")","?","dn",".","xz",":","dn",".","zx",";","dn",".","xw","=","(","dn",".","x","<","dn",".","w",")","?","dn",".","xw",":","dn",".","wx",";","dn",".","y","=","min","(","dn",".","y",",","dn",".","z",")",";","dn",".","y","=","min","(","dn",".","y",",","dn",".","w",")",";","return","sqrt","(","dn",".","xy",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","vec3","kk","(","vec2","GB",",","float","GK",")","{","vec2","GC","=","Gy","(","floor","(","GB",")",")",";","vec2","GD","=","fract","(","GB",")",";","vec4","GE","=","GD",".","x","+","vec4","(","-","0.5",",","-","1.5",",","-","0.5",",","-","1.5",")",";","vec4","GF","=","GD",".","y","+","vec4","(","-","0.5",",","-","0.5",",","-","1.5",",","-","1.5",")",";","vec4","p","=","GA","(","GC",".","x","+","vec4","(","_0_0",",","_1_0",",","_0_0",",","_1_0",")",")",";","p","=","GA","(","p","+","GC",".","y","+","vec4","(","_0_0",",","_0_0",",","_1_0",",","_1_0",")",")",";","vec4","GG","=","Gz","(","p",")","*","K","+","K2",";","vec4","GH","=","Gz","(","floor","(","p","*","K",")",")","*","K","+","K2",";","vec4","GI","=","GE","+","JITTER","*","GG",";","vec4","GJ","=","GF","+","JITTER","*","GH",";","vec4","GL","=","GI","*","GI","+","GJ","*","GJ",";","GI","+=","GK",";","GJ","+=","GK",";","vec4","GM","=","GI","*","GI","+","GJ","*","GJ",";","GI","+=","GK",";","GJ","+=","GK",";","vec4","GN","=","GI","*","GI","+","GJ","*","GJ",";","GL",".","xy","=","min","(","GL",".","xy",",","GL",".","zw",")",";","GL",".","x","=","min","(","GL",".","x",",","GL",".","y",")",";","GM",".","xy","=","min","(","GM",".","xy",",","GM",".","zw",")",";","GM",".","x","=","min","(","GM",".","x",",","GM",".","y",")",";","GN",".","xy","=","min","(","GN",".","xy",",","GN",".","zw",")",";","GN",".","x","=","min","(","GN",".","x",",","GN",".","y",")",";","return","vec3","(","GL",".","x",",","GM",".","x",",","GN",".","x",")",";","}","vec3","GO","(","vec3","x",")","{","return","Gy","(","(","(","x","*","34.0",")","+","_1_0",")","*","x",")",";","}","float","eT","(","vec2","kd",")","{","const","vec4","GP","=","vec4","(","0.211324865405187",",","0.366025403784439",",","-","0.577350269189626",",","0.024390243902439",")",";","vec2","bZ","=","floor","(","kd","+","dot","(","kd",",","GP",".","yy",")",")",";","vec2","GQ","=","kd","-","bZ","+","dot","(","bZ",",","GP",".","xx",")",";","vec2","GR",";","GR","=","(","GQ",".","x",">","GQ",".","y",")","?","vec2","(","_1_0",",","_0_0",")",":","vec2","(","_0_0",",","_1_0",")",";","vec4","GS","=","GQ",".","xyxy","+","GP",".","xxzz",";","GS",".","xy","-=","GR",";","bZ","=","Gy","(","bZ",")",";","vec3","p","=","GO","(","GO","(","bZ",".","y","+","vec3","(","_0_0",",","GR",".","y",",","_1_0",")",")","+","bZ",".","x","+","vec3","(","_0_0",",","GR",".","x",",","_1_0",")",")",";","vec3","aA","=","max","(","0.5","-","vec3","(","dot","(","GQ",",","GQ",")",",","dot","(","GS",".","xy",",","GS",".","xy",")",",","dot","(","GS",".","zw",",","GS",".","zw",")",")",",","_0_0",")",";","aA","=","aA","*","aA",";","aA","=","aA","*","aA",";","vec3","x","=","2.0","*","fract","(","p","*","GP",".","www",")","-","_1_0",";","vec3","bX","=","abs","(","x",")","-","0.5",";","vec3","GG","=","floor","(","x","+","0.5",")",";","vec3","GT","=","x","-","GG",";","aA","*=","1.79284291400159","-","0.85373472095314","*","(","GT","*","GT","+","bX","*","bX",")",";","vec3","g",";","g",".","x","=","GT",".","x","*","GQ",".","x","+","bX",".","x","*","GQ",".","y",";","g",".","yz","=","GT",".","yz","*","GS",".","xz","+","bX",".","yz","*","GS",".","yw",";","return","130.0","*","dot","(","aA",",","g",")",";","}","vec2","GW","(","vec2","fu",")","{","float","GL","=","dot","(","fu",",","vec2","(","12.9898",",","78.233",")",")",";","float","GM","=","dot","(","fu",",","vec2","(","12.9898",",","78.233",")","*","2.0",")",";","float","GU","=","fract","(","sin","(","GL",")","*","43758.5453",")","*","2.0","-","_1_0",";","float","GV","=","fract","(","sin","(","GM",")","*","43758.5453",")","*","2.0","-","_1_0",";","return","vec2","(","GU",",","GV",")",";","}","float","ku","(","vec2","GX",")","{","return","fract","(","sin","(","dot","(","GX",",","vec2","(","12.9898",",","78.233",")",")",")","*","43758.5453",")",";","}"]}]}}]}]},exports["include/refraction.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"REFRACTION_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"REFRACTION_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"REFRACTIVE",TOKENS:["0"]},{TYPE:"var",NAME:"USE_REFRACTION_CORRECTION",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFRACTIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"pack.glslf"}]}}]},{TYPE:"include",FILE:"color_util.glslf"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","eo","(","in","float","cG",",","inout","vec2","en",",","in","vec2","ee",")","{","vec4","GY","=","GLSL_TEXTURE","(","u_scene_depth",",","en",")",";","float","ep","=","cF","(","GY",")",";","if","(","ep","<","m",")","{","en","=","ee",";","return","cG",";","}","else","{","return","ep",";","}","return","cG",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec3","cB","(","in","vec3","qC",",","in","vec2","GZ",")","{","vec2","ee","=","qC",".","xy","/","qC",".","z",";","vec2","en","=","ee","+","GZ",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["USE_REFRACTION_CORRECTION"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","cE","=","GLSL_TEXTURE_PROJ","(","u_scene_depth",",","qC",")",";","float","cG","=","cF","(","cE",")",";","eo","(","cG",",","en",",","ee",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","et","=","GLSL_TEXTURE","(","u_refractmap",",","en",")",".","rgb",";","cg","(","et",")",";","return","et",";","}"]}]}}]}]}}]}]},exports["include/scale_texcoord.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SCALE_TEXCOORD_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SCALE_TEXCOORD_GLSLV",TOKENS:[""]},{TYPE:"txt",TOKENS:["vec2","az","(","vec2","bN",",","vec3","G_",")","{","return","(","bN","+","0.5",")","*","G_",".","xy","-","0.5",";","}"]}]}}]}]},exports["include/shadow.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SHADOW_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SHADOW_GLSLF",TOKENS:[""]},{TYPE:"var",NAME:"PRECISION",TOKENS:["highp"]},{TYPE:"var",NAME:"SHADOW_TEX_RES",TOKENS:["2048.0"]},{TYPE:"var",NAME:"CSM_FADE_LAST_CASCADE",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_BLEND_BETWEEN_CASCADES",TOKENS:["0"]},{TYPE:"var",NAME:"RGBA_SHADOWS",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"var",NAME:"COMPARED_MODE",TOKENS:["0"]},{TYPE:"var",NAME:"POISSON_DISK_NUM",TOKENS:["NO_SOFT_SHADOWS"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"procedural.glslf"}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["const","float","Ha","=","0.1",";","const","float","Hb","=","0.1",";","const","float","Hc","=","-","0.01",";","const","float","Hd","=","0.05",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","POISSON_X_16",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","He","=","vec4","(","0.14383161",",","0.34495938",",","-","0.38277543",",","-","0.26496911",")",";","vec4","Hf","=","vec4","(","0.53742981",",","0.19984126",",","0.79197514",",","-","0.094184101",")",";","vec4","Hg","=","vec4","(","-","0.94201624",",","-","0.91588581",",","-","0.2418884",",","0.44323325",")",";","vec4","Hh","=","vec4","(","-","0.81544232",",","0.94558609",",","-","0.81409955",",","0.97484398",")",";","vec4","Hi","=","vec4","(","-","0.1410079",",","0.2938776",",","0.27676845",",","-","0.41893023",")",";","vec4","Hj","=","vec4","(","-","0.4737342",",","0.78641367",",","0.19090188",",","-","0.9293887",")",";","vec4","Hk","=","vec4","(","-","0.39906216",",","0.45771432",",","0.99706507",",","-","0.97511554",")",";","vec4","Hl","=","vec4","(","-","0.87912464",",","-","0.76890725",",","0.9143759",",","0.7564837",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POISSON_DISK_NUM","POISSON_X_8",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","He","=","vec2","(","-","0.37192261",",","0.47109537",")",";","vec2","Hf","=","vec2","(","-","0.6807477",",","0.69048062",")",";","vec2","Hg","=","vec2","(","0.11615683",",","-","0.91318524",")",";","vec2","Hh","=","vec2","(","0.93688596",",","-","0.16948928",")",";","vec2","Hi","=","vec2","(","-","0.89699117",",","0.74092316",")",";","vec2","Hj","=","vec2","(","0.38263656",",","-","0.66119884",")",";","vec2","Hk","=","vec2","(","-","0.08193062",",","-","0.21275223",")",";","vec2","Hl","=","vec2","(","0.05578877",",","0.84225623",")",";"]}]}},{TYPE:"elif",EXPRESSION:["POISSON_DISK_NUM","POISSON_X_4",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","He","=","vec2","(","-","0.51808083",",","0.0",")",";","vec2","Hf","=","vec2","(","0.5741194",",","0.0",")",";","vec2","Hg","=","vec2","(","-","0.68048857",",","0.0",")",";","vec2","Hh","=","vec2","(","0.82934988",",","0.0",")",";","vec2","Hi","=","vec2","(","0.70009436",",","0.0",")",";","vec2","Hj","=","vec2","(","-","0.78790467",",","0.0",")",";","vec2","Hk","=","vec2","(","-","0.58619489",",","0.0",")",";","vec2","Hl","=","vec2","(","0.41902178",",","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["bool","Hn","(","vec2","hT",",","float","Hm",")","{","return","all","(","lessThanEqual","(","hT",",","vec2","(","1.0","+","Hm",")",")",")","&&","all","(","greaterThanEqual","(","hT",",","vec2","(","0.0","-","Hm",")",")",")",";","}","float","Hu","(","float","Ho",",","float","Hp",",","mat2","Hq",",","vec3","Hr",",","float","Hs",",","PRECISION","GLSL_SMPLR2D_SHDW","Ht",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hT",",","ff",";","ff",".","x","=","Ho",";","ff",".","y","=","Hp",";","ff","=","Hq","*","ff",";","hT","=","Hr",".","xy","+","ff","*","Hs","/","SHADOW_TEX_RES",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec2","hT","=","Hr",".","xy",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","!","Hn","(","hT",",","Hc",")",")","return","1.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["RGBA_SHADOWS"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","dM","=","cF","(","GLSL_TEXTURE","(","Ht",",","hT",")",")",";","return","step","(","Hr",".","z",",","dM",")",";"]}]}},{TYPE:"elif",EXPRESSION:["COMPARED_MODE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","GLSL_TEXTURE","(","Ht",",","vec3","(","hT",",","Hr",".","z",")",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","step","(","Hr",".","z",",","GLSL_TEXTURE","(","Ht",",","hT",")",".","r",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","float","Hz","(","vec3","Hr",",","PRECISION","GLSL_SMPLR2D_SHDW","Ht",",","float","Hs",")","{","float","Hv","=","0.0",";","Hr",".","z","=","clamp","(","Hr",".","z",",","0.0",",","1.0",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Hw","=","GW","(","Hr",".","xy",")",".","x","*","M_PI",";","float","Hx","=","cos","(","Hw",")",";","float","Hy","=","sin","(","Hw",")",";","mat2","Hq","=","mat2","(","Hx",",","Hy",",","-","Hy",",","Hx",")",";","for","(","int","bZ","=","0",";","bZ","<","POISSON_DISK_NUM",";","bZ","++",")","{","Hv","+=","Hu","(","He","[","bZ","]",",","Hi","[","bZ","]",",","Hq",",","Hr",",","Hs",",","Ht",")",";","Hv","+=","Hu","(","Hf","[","bZ","]",",","Hj","[","bZ","]",",","Hq",",","Hr",",","Hs",",","Ht",")",";","Hv","+=","Hu","(","Hg","[","bZ","]",",","Hk","[","bZ","]",",","Hq",",","Hr",",","Hs",",","Ht",")",";","Hv","+=","Hu","(","Hh","[","bZ","]",",","Hl","[","bZ","]",",","Hq",",","Hr",",","Hs",",","Ht",")",";","}","return","clamp","(","Hv","/","(","float","(","POISSON_DISK_NUM",")","*","4.0",")",",","0.0",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","Hu","(","0.0",",","0.0",",","mat2","(","0.0",")",",","Hr",",","Hs",",","Ht",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}","float","HI","(","vec3","HA",",","PRECISION","GLSL_SMPLR2D_SHDW","HB",",","vec3","HC",",","PRECISION","GLSL_SMPLR2D_SHDW","HD",",","float","HE",",","float","HF",",","float","aL",")","{","float","HG",",","HH",";","HA",".","z","=","clamp","(","HA",".","z",",","0.0",",","1.0",")",";","HC",".","z","=","clamp","(","HC",".","z",",","0.0",",","1.0",")",";","HG","=","0.0",";","HH","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","Hw","=","GW","(","HA",".","xy",")",".","x","*","M_PI",";","float","Hx","=","cos","(","Hw",")",";","float","Hy","=","sin","(","Hw",")",";","mat2","Hq","=","mat2","(","Hx",",","Hy",",","-","Hy",",","Hx",")",";","for","(","int","bZ","=","0",";","bZ","<","POISSON_DISK_NUM",";","bZ","++",")","{","HG","+=","Hu","(","He","[","bZ","]",",","Hi","[","bZ","]",",","Hq",",","HA",",","HE",",","HB",")",";","HG","+=","Hu","(","Hf","[","bZ","]",",","Hj","[","bZ","]",",","Hq",",","HA",",","HE",",","HB",")",";","HG","+=","Hu","(","Hg","[","bZ","]",",","Hk","[","bZ","]",",","Hq",",","HA",",","HE",",","HB",")",";","HG","+=","Hu","(","Hh","[","bZ","]",",","Hl","[","bZ","]",",","Hq",",","HA",",","HE",",","HB",")",";","}","for","(","int","bZ","=","0",";","bZ","<","POISSON_DISK_NUM",";","bZ","++",")","{","HH","+=","Hu","(","He","[","bZ","]",",","Hi","[","bZ","]",",","Hq",",","HC",",","HF",",","HD",")",";","HH","+=","Hu","(","Hf","[","bZ","]",",","Hj","[","bZ","]",",","Hq",",","HC",",","HF",",","HD",")",";","HH","+=","Hu","(","Hg","[","bZ","]",",","Hk","[","bZ","]",",","Hq",",","HC",",","HF",",","HD",")",";","HH","+=","Hu","(","Hh","[","bZ","]",",","Hl","[","bZ","]",",","Hq",",","HC",",","HF",",","HD",")",";","}","HG","=","mix","(","HG",",","HH",",","aL",")",";","HG","/=","(","float","(","POISSON_DISK_NUM",")","*","4.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["HG","+=","Hu","(","0.0",",","0.0",",","mat2","(","0.0",")",",","HA",",","HE",",","HB",")",";","HH","+=","Hu","(","0.0",",","0.0",",","mat2","(","0.0",")",",","HC",",","HF",",","HD",")",";","HG","=","mix","(","HG",",","HH",",","aL",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","clamp","(","HG",",","0.0",",","1.0",")",";","}","float","HJ","(","vec2","hT",")","{","float","a","=","min","(","hT",".","x",",","hT",".","y",")",";","float","b","=","min","(","1.0","-","hT",".","x",",","1.0","-","hT",".","y",")",";","return","min","(","a",",","b",")",";","}","float","HL","(","float","tX",",","float","HK",")","{","if","(","HK",">=","0.0","&&","HK","<=","Hb",")","tX","=","(","tX","-","1.0",")","/","Hb","*","HK","+","1.0",";","return","tX",";","}","float","HQ","(","vec3","HM",",","vec3","HN",",","PRECISION","GLSL_SMPLR2D_SHDW","HB",",","PRECISION","GLSL_SMPLR2D_SHDW","HD",",","float","HE",",","float","HF",",","float","HO",",","float","dM",")","{","float","tX",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_BLEND_BETWEEN_CASCADES"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","HK","=","HJ","(","HM",".","xy",")",";","if","(","-","dM",">","HO","&&","HK",">=","0.0","&&","HK","<=","Ha","&&","Hn","(","HN",".","xy",",","0.0",")",")","{","float","HP","=","1.0","-","HK","/","Ha",";","tX","=","HI","(","HM",",","HB",",","HN",",","HD",",","HE",",","HF",",","HP",")",";","}","else"]}]}}]},{TYPE:"txt",TOKENS:["tX","=","Hz","(","HM",",","HB",",","HE",")",";","return","tX",";","}","float","HS","(","vec3","HR",",","PRECISION","GLSL_SMPLR2D_SHDW","Ht",",","float","Hs",",","float","HO",",","float","dM",")","{","float","tX","=","Hz","(","HR",",","Ht",",","Hs",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_FADE_LAST_CASCADE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","-","dM",">","HO",")","{","float","HK","=","HJ","(","HR",".","xy",")",";","tX","=","HL","(","tX",",","HK",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["return","tX",";","}","vec4","dO","(","float","dM",")","{","float","tX","=","1.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["POISSON_DISK_NUM","NO_SOFT_SHADOWS",{TYPE:"non_equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","HT","=","u_pcf_blur_radii",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","HT","=","vec4","(","0.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec3","HA","=","n",".","xyz","/","n",".","w",";","if","(","n",".","w","<","0.0",")","HA",".","z","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1","NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","HC","=","o",".","xyz","/","o",".","w",";","if","(","o",".","w","<","0.0",")","HC",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2","NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","HU","=","u",".","xyz","/","u",".","w",";","if","(","u",".","w","<","0.0",")","HU",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3","NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","HV","=","v",".","xyz","/","v",".","w",";","if","(","v",".","w","<","0.0",")","HV",".","z","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","Hn","(","HA",".","xy",",","0.0",")",")","{","tX","=","HQ","(","HA",",","HC",",","u_shadow_map0",",","u_shadow_map1",",","HT","[","0","]",",","HT","[","1","]",",","u_csm_center_dists","[","0","]",",","dM",")",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","Hn","(","HA",".","xy",",","Hd",")",")","{","tX","=","HS","(","HA",",","u_shadow_map0",",","HT","[","0","]",",","u_csm_center_dists","[","0","]",",","dM",")",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","Hn","(","HC",".","xy",",","0.0",")",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["tX","=","HQ","(","HC",",","HU",",","u_shadow_map1",",","u_shadow_map2",",","HT","[","1","]",",","HT","[","2","]",",","u_csm_center_dists","[","1","]",",","dM",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["tX","=","HS","(","HC",",","u_shadow_map1",",","HT","[","1","]",",","u_csm_center_dists","[","1","]",",","dM",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","Hn","(","HU",".","xy",",","0.0",")",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["tX","=","HQ","(","HU",",","HV",",","u_shadow_map2",",","u_shadow_map3",",","HT","[","2","]",",","HT","[","3","]",",","u_csm_center_dists","[","2","]",",","dM",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["tX","=","HS","(","HU",",","u_shadow_map2",",","HT","[","2","]",",","u_csm_center_dists","[","2","]",",","dM",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","{","if","(","Hn","(","HV",".","xy",",","0.0",")",")","tX","=","HS","(","HV",",","u_shadow_map3",",","HT","[","3","]",",","u_csm_center_dists","[","3","]",",","dM",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","HW","=","Hz","(","HC",",","u_shadow_map1",",","HT","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","HW","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","HX","=","Hz","(","HU",",","u_shadow_map2",",","HT","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","HX","=","0.0",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","HY","=","Hz","(","HV",",","u_shadow_map3",",","HT","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","HY","=","1.0",";"]}]}}]},{TYPE:"txt",TOKENS:["return","vec4","(","tX",",","HW",",","HX",",","HY",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["vec4","cq","(","inout","vec3","cm",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MAPPING_OPAQUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Hv","=","GLSL_TEXTURE","(","u_shadow_mask",",","l",".","xy","/","l",".","z",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"l_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["cm","*=","Hv",".","a",";"]}]}}]},{TYPE:"txt",TOKENS:["return","Hv",";"]}]}},{TYPE:"elif",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Hv","=","dO","(","i",".","z",")",";","return","Hv",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","vec4","(","1.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]},exports["include/shadow.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SHADOW_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SHADOW_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"MAC_OS_SHADOW_HACK",TOKENS:["0"]},{TYPE:"var",NAME:"SHADOW_TEX_RES",TOKENS:["2048.0"]},{TYPE:"var",NAME:"SHADOW_USAGE",TOKENS:["NO_SHADOWS"]},{TYPE:"var",NAME:"NUM_CAST_LAMPS",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION1",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION2",TOKENS:["0"]},{TYPE:"var",NAME:"CSM_SECTION3",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SHADOW_USAGE","SHADOW_MASK_GENERATION",{TYPE:"equal_expr",PLACES:2},"SHADOW_USAGE","SHADOW_MAPPING_BLEND",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"},{TYPE:"txt",TOKENS:["vec4","Ib","(","mat4","HZ",",","vec4","H_",",","mat4","Ia",")","{","vec2","dQ","=","(","HZ","*","Ia","[","3","]",")",".","xy",";","float","dR","=","SHADOW_TEX_RES","/","2.0",";","dQ","=","floor","(","dQ","*","dR","+","0.5",")","/","dR","-","dQ",";","vec4","Hr","=","HZ","*","H_",";","Hr",".","xy","+=","dQ",";","Hr",".","xyz","=","0.5","*","(","Hr",".","xyz","+","Hr",".","w",")",";","return","Hr",";","}","void","bM","(","vec3","eL",",","vec3","Ic",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","Ia","=","bc","(","u_v_light_tsr","[","0","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat4","Ia","=","bc","(","mat3","(","u_v_light_ts","[","0","]",",","u_v_light_r","[","0","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["vec4","Id","=","Ia","*","vec4","(","eL","+","u_normal_offset","*","Ic",",","1.0",")",";","n","=","Ib","(","u_p_light_matrix0",",","Id",",","Ia",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",1,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ia","=","bc","(","u_v_light_tsr","[","1","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ia","=","bc","(","mat3","(","u_v_light_ts","[","1","]",",","u_v_light_r","[","1","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Id","=","Ia","*","vec4","(","eL","+","u_normal_offset","*","Ic",",","1.0",")",";","o","=","Ib","(","u_p_light_matrix1",",","Id",",","Ia",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",2,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ia","=","bc","(","u_v_light_tsr","[","2","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ia","=","bc","(","mat3","(","u_v_light_ts","[","2","]",",","u_v_light_r","[","2","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Id","=","Ia","*","vec4","(","eL","+","u_normal_offset","*","Ic",",","1.0",")",";","u","=","Ib","(","u_p_light_matrix2",",","Id",",","Ia",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["NUM_CAST_LAMPS",3,{TYPE:"g_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAC_OS_SHADOW_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ia","=","bc","(","u_v_light_tsr","[","3","]",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Ia","=","bc","(","mat3","(","u_v_light_ts","[","3","]",",","u_v_light_r","[","3","]",",","0.0",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["Id","=","Ia","*","vec4","(","eL","+","u_normal_offset","*","Ic",",","1.0",")",";","v","=","Ib","(","u_p_light_matrix3",",","Id",",","Ia",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION1"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["o","=","Ib","(","u_p_light_matrix1",",","Id",",","Ia",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION2"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["u","=","Ib","(","u_p_light_matrix2",",","Id",",","Ia",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CSM_SECTION3"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["v","=","Ib","(","u_p_light_matrix3",",","Id",",","Ia",")",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]}}]}]},exports["include/skin.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SKIN_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SKIN_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"DISABLE_TANGENT_SKINNING",TOKENS:["0"]},{TYPE:"var",NAME:"SKINNED",TOKENS:["0"]},{TYPE:"var",NAME:"FRAMES_BLENDING",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKINNED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"include",FILE:"math.glslv"},{TYPE:"define",NAME:"SKIN_SLERP",TOKENS:["0"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","Il","(","in","vec4","qf",",","in","vec4","Ie",",","in","float","If",")","{","float","Ig","=","qf","[","0","]","*","Ie","[","0","]","+","qf","[","1","]","*","Ie","[","1","]","+","qf","[","2","]","*","Ie","[","2","]","+","qf","[","3","]","*","Ie","[","3","]",";","if","(","Ig","<","0.0",")","{","Ie","*=","-","1.0",";","Ig","=","-","Ig",";","}","if","(","abs","(","Ig",")",">=","1.0",")","return","qf",";","float","Ih","=","acos","(","Ig",")",";","float","Ii","=","sqrt","(","1.0","-","Ig","*","Ig",")",";","if","(","abs","(","Ii",")","<","0.001",")","return","vec4","(","qf","*","0.5","+","Ie","*","0.5",")",";","float","Ij","=","sin","(","(","1.0","-","If",")","*","Ih",")","/","Ii",";","float","Ik","=","sin","(","If","*","Ih",")","/","Ii",";","return","qf","*","Ij","+","Ie","*","Ik",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Iz","(","in","vec3","O",",","in","vec4","Im",",","in","vec4","In",",","in","vec4","Io",",","in","vec4","Ip",",","in","float","Iq",")","{","vec3","Ir","=","qr","(","u_arm_rel_trans",",","u_arm_rel_quat",",","O",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","qf","=","Il","(","Im",",","In",",","Iq",")",";","vec4","Is","=","mix","(","Io",",","Ip",",","Iq",")",";","vec3","It","=","T","(","qf",",","Ir",")",";","vec3","Iu","=","It","*","Is",".","w","+","Is",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Iv","=","T","(","Im",",","Ir",")",";","vec3","Iw","=","T","(","In",",","Ir",")",";","vec3","Ix","=","Iv","*","Io",".","w","+","Io",".","xyz",";","vec3","Iy","=","Iw","*","Ip",".","w","+","Ip",".","xyz",";","vec3","Iu","=","mix","(","Ix",",","Iy",",","Iq",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","qw","(","u_arm_rel_trans",",","u_arm_rel_quat",",","Iu",")",";","}","vec3","IF","(","in","vec3","IA",",","in","vec4","Im",",","in","vec4","In",",","in","float","Iq",")","{","vec3","IB","=","qv","(","u_arm_rel_trans",",","u_arm_rel_quat",",","IA",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["SKIN_SLERP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","qf","=","Il","(","Im",",","In",",","Iq",")",";","vec3","IC","=","T","(","qf",",","IB",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","ID","=","T","(","Im",",","IB",")",";","vec3","IE","=","T","(","In",",","IB",")",";","vec3","IC","=","mix","(","ID",",","IE",",","Iq",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","qx","(","u_arm_rel_trans",",","u_arm_rel_quat",",","IC",")",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Iz","(","in","vec3","O",",","in","vec4","Im",",","in","vec4","Io",")","{","vec3","Ir","=","qr","(","u_arm_rel_trans",",","u_arm_rel_quat",",","O",")",";","vec3","It","=","T","(","Im",",","Ir",")",";","vec3","Iu","=","It","*","Io",".","w","+","Io",".","xyz",";","return","qw","(","u_arm_rel_trans",",","u_arm_rel_quat",",","Iu",")",";","}","vec3","IF","(","in","vec3","IA",",","in","vec4","Im",")","{","vec3","IB","=","qv","(","u_arm_rel_trans",",","u_arm_rel_quat",",","IA",")",";","vec3","IC","=","T","(","Im",",","IB",")",";","return","qx","(","u_arm_rel_trans",",","u_arm_rel_quat",",","IC",")",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","an","(","inout","vec3","O",",","inout","vec3","V",",","inout","vec3","W",",","inout","vec3","U",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","IG","=","u_frame_factor",";"]}]}}]},{TYPE:"txt",TOKENS:["if","(","a_influence",".","y",">","0.0",")","{","vec3","iO","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","IH","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","II","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec3","IJ","=","vec3","(","0.0",",","0.0",",","0.0",")",";","vec4","IK","=","a_influence",";","for","(","int","bZ","=","0",";","bZ","<","4",";","bZ","++",")","{","int","IL","=","int","(","IK","[","bZ","]",")",";","float","IM","=","fract","(","IK","[","bZ","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["IH","+=","IM","*","IF","(","V",",","u_quatsb","[","IL","]",",","u_quatsa","[","IL","]",",","IG",")",";","II","+=","IM","*","IF","(","W",",","u_quatsb","[","IL","]",",","u_quatsa","[","IL","]",",","IG",")",";","IJ","+=","IM","*","IF","(","U",",","u_quatsb","[","IL","]",",","u_quatsa","[","IL","]",",","IG",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["iO","+=","IM","*","Iz","(","O",",","u_quatsb","[","IL","]",",","u_transb","[","IL","]",")",";","IJ","+=","IM","*","IF","(","U",",","u_quatsb","[","IL","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["IH","+=","IM","*","IF","(","V",",","u_quatsb","[","IL","]",")",";","II","+=","IM","*","IF","(","W",",","u_quatsb","[","IL","]",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["int","IL","=","int","(","IK","[","0","]",")",";","float","IM","=","fract","(","IK","[","0","]",")",";","iO","+=","IM","*","Iz","(","O",",","u_quatsb","[","IL","]",",","u_quatsa","[","IL","]",",","u_transb","[","IL","]",",","u_transa","[","IL","]",",","IG",")",";","IL","=","int","(","IK","[","1","]",")",";","IM","=","fract","(","IK","[","1","]",")",";","iO","+=","IM","*","Iz","(","O",",","u_quatsb","[","IL","]",",","u_quatsa","[","IL","]",",","u_transb","[","IL","]",",","u_transa","[","IL","]",",","IG",")",";","IL","=","int","(","IK","[","2","]",")",";","IM","=","fract","(","IK","[","2","]",")",";","iO","+=","IM","*","Iz","(","O",",","u_quatsb","[","IL","]",",","u_quatsa","[","IL","]",",","u_transb","[","IL","]",",","u_transa","[","IL","]",",","IG",")",";","IL","=","int","(","IK","[","3","]",")",";","IM","=","fract","(","IK","[","3","]",")",";","iO","+=","IM","*","Iz","(","O",",","u_quatsb","[","IL","]",",","u_quatsa","[","IL","]",",","u_transb","[","IL","]",",","u_transa","[","IL","]",",","IG",")",";"]}]}}]},{TYPE:"txt",TOKENS:["O","=","iO",";","U","=","IJ",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["V","=","IH",";","W","=","II",";"]}]}}]},{TYPE:"txt",TOKENS:["}","if","(","!","(","a_influence",".","y",">","0.0",")",")","{","int","IN","=","int","(","a_influence","[","0","]","-","1.0",")",";","if","(","IN",">","-","1",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["FRAMES_BLENDING"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","Iz","(","O",",","u_quatsb","[","IN","]",",","u_quatsa","[","IN","]",",","u_transb","[","IN","]",",","u_transa","[","IN","]",",","IG",")",";","V","=","IF","(","V",",","u_quatsb","[","IN","]",",","u_quatsa","[","IN","]",",","IG",")",";","W","=","IF","(","W",",","u_quatsb","[","IN","]",",","u_quatsa","[","IN","]",",","IG",")",";","U","=","IF","(","U",",","u_quatsb","[","IN","]",",","u_quatsa","[","IN","]",",","IG",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","Iz","(","O",",","u_quatsb","[","IN","]",",","u_transb","[","IN","]",")",";","U","=","IF","(","U",",","u_quatsb","[","IN","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DISABLE_TANGENT_SKINNING",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["V","=","IF","(","V",",","u_quatsb","[","IN","]",")",";","W","=","IF","(","W",",","u_quatsb","[","IN","]",")",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["}","}","}"]}]}}]}]}}]}]},exports["include/sky_blending.glslf"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"SKY_BLENDING_GLSLF",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"SKY_BLENDING_GLSLF",TOKENS:[""]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"include",FILE:"blending.glslf"},{TYPE:"var",NAME:"WO_SKYREAL",TOKENS:["0"]},{TYPE:"var",NAME:"WO_SKYBLEND",TOKENS:["0"]},{TYPE:"var",NAME:"BLENDTYPE",TOKENS:["MIX"]},{TYPE:"var",NAME:"MTEX_RGBTOINT",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_HORIZ",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_ZENUP",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_ZENDOWN",TOKENS:["0"]},{TYPE:"var",NAME:"WOMAP_BLEND",TOKENS:["0"]},{TYPE:"var",NAME:"MTEX_NEGATIVE",TOKENS:["0"]},{TYPE:"txt",TOKENS:["vec3","IO","(","vec3","jw",",","vec3","jx",",","float","aL",",","float","jW",")","{","float","jy","=","aL","*","jW",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLENDTYPE","MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jz","(","jx",",","jw",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","ADD",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jA","(","jw",",","jx",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SUBTRACT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jB","(","jw",",","jx",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jD","(","jw",",","jx",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SCREEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jE","(","jw",",","jx",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","OVERLAY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jF","(","jw",",","jx",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIFFERENCE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jG","(","jw",",","jx",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIVIDE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jH","(","jw",",","jx",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DARKEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jI","(","jw",",","jx",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LIGHTEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jJ","(","jw",",","jx",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","HUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jN","(","jx",",","jw",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SATURATION",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jO","(","jx",",","jw",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","VALUE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jP","(","jx",",","jw",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","COLOR",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jQ","(","jx",",","jw",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SOFT_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jS","(","jx",",","jw",",","jy",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LINEAR_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jT","(","jx",",","jw",",","jy",")",";"]}]}}]},{TYPE:"txt",TOKENS:["return","vec3","(","1.0",",","0.0",",","1.0",")",";","}","float","IP","(","float","jU",",","float","jV",",","float","aL",",","float","jW",")","{","vec3","jw","=","vec3","(","jU",")",",","jx","=","vec3","(","jV",")",";","float","jy","=","aL","*","jW",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BLENDTYPE","MIX",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jz","(","jx",",","jw",",","jy",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","ADD",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jA","(","jw",",","jx",",","jy",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SUBTRACT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jB","(","jw",",","jx",",","jy",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","MULTIPLY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jX","(","jU",",","jV",",","jy",",","jW",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SCREEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jY","(","jU",",","jV",",","jy",",","jW",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","OVERLAY",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jZ","(","jU",",","jV",",","jy",",","jW",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIFFERENCE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jG","(","jw",",","jx",",","jy",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DIVIDE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jH","(","jw",",","jx",",","jy",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","DARKEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jI","(","jw",",","jx",",","jy",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LIGHTEN",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jJ","(","jw",",","jx",",","jy",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","SOFT_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jS","(","jx",",","jw",",","jy",")",".","x",";"]}]}},{TYPE:"elif",EXPRESSION:["BLENDTYPE","LINEAR_LIGHT",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["return","jT","(","jx",",","jw",",","jy",")",".","x",";"]}]}}]},{TYPE:"txt",TOKENS:["return","0.0",";","}","vec3","dY","(","vec3","dU",",","vec3","dV",",","vec4","dX",",","float","dT",",","vec3","dW",")","{","float","IQ","=","1.0",";","IQ","=","dX",".","a",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["IQ","=","fB","(","dX",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_NEGATIVE"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dX","=","vec4","(","vec3","(","1.0",")","-","dX",".","rgb",",","dX",".","a",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["IQ","=","1.0","-","IQ",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_HORIZ","WOMAP_ZENUP","WOMAP_ZENDOWN",{TYPE:"logical_or_expr",PLACES:3}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dX","=","vec4","(","u_sky_tex_color",",","1.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["IQ","=","dX",".","a",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_HORIZ"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["dU","=","IO","(","dX",".","rgb",",","dU",",","IQ",",","u_sky_tex_fac","[","1","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP","WOMAP_ZENDOWN",{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","IR","=","0.0",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYREAL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["if","(","dot","(","dW",",","vec3","(","0.0",",","0.0",",","1.0",")",")",">=","0.0",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["IR","=","u_sky_tex_fac","[","2","]",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:[";"]}]}}]},{TYPE:"txt",TOKENS:["}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENDOWN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["else","IR","=","u_sky_tex_fac","[","3","]",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_ZENUP"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["IR","=","u_sky_tex_fac","[","2","]",";"]}]}},{TYPE:"elif",EXPRESSION:["WOMAP_ZENDOWN"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["IR","=","u_sky_tex_fac","[","3","]",";"]}]}}]}]}}]},{TYPE:"txt",TOKENS:["if","(","IR","!=","0.0",")","dV","=","IO","(","dX",".","rgb",",","dV",",","IQ",",","IR",")",";"]}]}}]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WOMAP_BLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MTEX_RGBTOINT",{TYPE:"logic_negative_expr",PLACES:1}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["IQ","=","dot","(","dX",".","rgb",",","vec3","(","0.2126",",","0.7152",",","0.0722",")",")",";"]}]}}]},{TYPE:"txt",TOKENS:["dT","=","IP","(","u_sky_tex_dvar",",","dT",",","IQ",",","u_sky_tex_fac","[","0","]",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WO_SKYBLEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dS","=","mix","(","dU",",","dV",",","dT",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","dS","=","dU",";"]}]}}]},{TYPE:"txt",TOKENS:["return","dS",";","}"]}]}}]}]},exports["include/std.glsl"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"STD_ENUMS_GLSL",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"STD_ENUMS_GLSL",TOKENS:[""]},{TYPE:"var",NAME:"CONSTANTS_HACK",TOKENS:["0"]},{TYPE:"define",NAME:"TEXTURE_COORDS_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"TEXTURE_COORDS_UV_ORCO",TOKENS:["1"]},{TYPE:"define",NAME:"TEXTURE_COORDS_NORMAL",TOKENS:["2"]},{TYPE:"define",NAME:"TEXTURE_BLEND_TYPE_MIX",TOKENS:["1"]},{TYPE:"define",NAME:"TEXTURE_BLEND_TYPE_MULTIPLY",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_SRC_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_SRC_DEPTH",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_SRC_MASK",TOKENS:["3"]},{TYPE:"define",NAME:"SHADOW_DST_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_DST_DEPTH",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_DST_MASK",TOKENS:["3"]},{TYPE:"define",NAME:"NO_SHADOWS",TOKENS:["1"]},{TYPE:"define",NAME:"SHADOW_CASTING",TOKENS:["2"]},{TYPE:"define",NAME:"SHADOW_MASK_GENERATION",TOKENS:["3"]},{TYPE:"define",NAME:"SHADOW_MAPPING_OPAQUE",TOKENS:["4"]},{TYPE:"define",NAME:"SHADOW_MAPPING_BLEND",TOKENS:["5"]},{TYPE:"define",NAME:"POISSON_X_16",TOKENS:["4"]},{TYPE:"define",NAME:"POISSON_X_8",TOKENS:["2"]},{TYPE:"define",NAME:"POISSON_X_4",TOKENS:["1"]},{TYPE:"define",NAME:"NO_SOFT_SHADOWS",TOKENS:["0"]},{TYPE:"define",NAME:"SPECULAR_PHONG",TOKENS:["1"]},{TYPE:"define",NAME:"SPECULAR_COOKTORR",TOKENS:["2"]},{TYPE:"define",NAME:"SPECULAR_WARDISO",TOKENS:["3"]},{TYPE:"define",NAME:"SPECULAR_BLINN",TOKENS:["4"]},{TYPE:"define",NAME:"SPECULAR_TOON",TOKENS:["5"]},{TYPE:"define",NAME:"DIFFUSE_LAMBERT",TOKENS:["1"]},{TYPE:"define",NAME:"DIFFUSE_OREN_NAYAR",TOKENS:["2"]},{TYPE:"define",NAME:"DIFFUSE_FRESNEL",TOKENS:["3"]},{TYPE:"define",NAME:"DIFFUSE_MINNAERT",TOKENS:["4"]},{TYPE:"define",NAME:"DIFFUSE_TOON",TOKENS:["5"]},{TYPE:"define",NAME:"MIX",TOKENS:["0"]},{TYPE:"define",NAME:"ADD",TOKENS:["1"]},{TYPE:"define",NAME:"SUBTRACT",TOKENS:["2"]},{TYPE:"define",NAME:"MULTIPLY",TOKENS:["3"]},{TYPE:"define",NAME:"SCREEN",TOKENS:["4"]},{TYPE:"define",NAME:"OVERLAY",TOKENS:["5"]},{TYPE:"define",NAME:"DIFFERENCE",TOKENS:["6"]},{TYPE:"define",NAME:"DIVIDE",TOKENS:["7"]},{TYPE:"define",NAME:"DARKEN",TOKENS:["8"]},{TYPE:"define",NAME:"LIGHTEN",TOKENS:["9"]},{TYPE:"define",NAME:"HUE",TOKENS:["10"]},{TYPE:"define",NAME:"SATURATION",TOKENS:["11"]},{TYPE:"define",NAME:"VALUE",TOKENS:["12"]},{TYPE:"define",NAME:"COLOR",TOKENS:["13"]},{TYPE:"define",NAME:"SOFT_LIGHT",TOKENS:["14"]},{TYPE:"define",NAME:"LINEAR_LIGHT",TOKENS:["15"]},{TYPE:"define",NAME:"REFL_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"REFL_MIRRORMAP",TOKENS:["1"]},{TYPE:"define",NAME:"REFL_PLANE",TOKENS:["2"]},{TYPE:"define",NAME:"REFL_CUBE",TOKENS:["3"]},{TYPE:"define",NAME:"INVERSE_QUADRATIC",TOKENS:["0"]},{TYPE:"define",NAME:"LINEAR",TOKENS:["1"]},{TYPE:"define",NAME:"QUADRATIC",TOKENS:["2"]},{TYPE:"define",NAME:"HEMI",TOKENS:["1"]},{TYPE:"define",NAME:"SPOT",TOKENS:["2"]},{TYPE:"define",NAME:"POINT",TOKENS:["3"]},{TYPE:"define",NAME:"SUN",TOKENS:["4"]},{TYPE:"define",NAME:"DOF_SIMPLE",TOKENS:["0"]},{TYPE:"define",NAME:"DOF_BOKEH",TOKENS:["1"]},{TYPE:"define",NAME:"COC_ALL",TOKENS:["0"]},{TYPE:"define",NAME:"COC_FOREGROUND",TOKENS:["1"]},{TYPE:"define",NAME:"COC_COMBINE",TOKENS:["2"]},{TYPE:"define",NAME:"VT_WORLD_TO_WORLD",TOKENS:["0"]},{TYPE:"define",NAME:"VT_WORLD_TO_OBJECT",TOKENS:["1"]},{TYPE:"define",NAME:"VT_WORLD_TO_CAMERA",TOKENS:["2"]},{TYPE:"define",NAME:"VT_OBJECT_TO_WORLD",TOKENS:["3"]},{TYPE:"define",NAME:"VT_OBJECT_TO_OBJECT",TOKENS:["4"]},{TYPE:"define",NAME:"VT_OBJECT_TO_CAMERA",TOKENS:["5"]},{TYPE:"define",NAME:"VT_CAMERA_TO_WORLD",TOKENS:["6"]},{TYPE:"define",NAME:"VT_CAMERA_TO_OBJECT",TOKENS:["7"]},{TYPE:"define",NAME:"VT_CAMERA_TO_CAMERA",TOKENS:["8"]},{TYPE:"define",NAME:"VT_POINT",TOKENS:["0"]},{TYPE:"define",NAME:"VT_VECTOR",TOKENS:["1"]},{TYPE:"define",NAME:"VT_NORMAL",TOKENS:["2"]},{TYPE:"define",NAME:"NM_TANGENT",TOKENS:["0"]},{TYPE:"define",NAME:"NM_OBJECT",TOKENS:["1"]},{TYPE:"define",NAME:"NM_WORLD",TOKENS:["2"]},{TYPE:"define",NAME:"NM_BLENDER_OBJECT",TOKENS:["3"]},{TYPE:"define",NAME:"NM_BLENDER_WORLD",TOKENS:["4"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_VIEW",TOKENS:["1"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_XY",TOKENS:["2"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_YZ",TOKENS:["3"]},{TYPE:"define",NAME:"BILLBOARD_ALIGN_ZX",TOKENS:["4"]},{TYPE:"define",NAME:"POST_EFFECT_NONE",TOKENS:["1"]},{TYPE:"define",NAME:"POST_EFFECT_GRAYSCALE",TOKENS:["2"]},{TYPE:"define",NAME:"POST_EFFECT_BLUR",TOKENS:["3"]},{TYPE:"define",NAME:"POST_EFFECT_GLOW_BLUR",TOKENS:["4"]},{TYPE:"define",NAME:"POST_EFFECT_DOF_BLUR",TOKENS:["5"]},{TYPE:"define",NAME:"POST_EFFECT_ALPHA_BLUR",TOKENS:["6"]},{TYPE:"define",NAME:"POST_EFFECT_EXTEND",TOKENS:["7"]},{TYPE:"define",NAME:"FLIP_CUBEMAP_COORDS",TOKENS:["8"]},{TYPE:"define",NAME:"BLUR_PASS_1",TOKENS:["1"]},{TYPE:"define",NAME:"BLUR_PASS_2",TOKENS:["2"]},{TYPE:"define",NAME:"BLUR_PASS_3",TOKENS:["3"]},{TYPE:"define",NAME:"BLUR_PASS_4",TOKENS:["4"]},{TYPE:"define",NAME:"BLUR_PASS_5",TOKENS:["5"]},{TYPE:"define",NAME:"DV_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"DV_OPAQUE_WIREFRAME",TOKENS:["1"]},{TYPE:"define",NAME:"DV_TRANSPARENT_WIREFRAME",TOKENS:["2"]},{TYPE:"define",NAME:"DV_FRONT_BACK_VIEW",TOKENS:["3"]},{TYPE:"define",NAME:"DV_BOUNDINGS",TOKENS:["4"]},{TYPE:"define",NAME:"DV_CLUSTERS_VIEW",TOKENS:["5"]},{TYPE:"define",NAME:"DV_BATCHES_VIEW",TOKENS:["6"]},{TYPE:"define",NAME:"DV_RENDER_TIME",TOKENS:["7"]},{TYPE:"define",NAME:"SSAO_QUALITY_8",TOKENS:["1"]},{TYPE:"define",NAME:"SSAO_QUALITY_16",TOKENS:["2"]},{TYPE:"define",NAME:"SSAO_QUALITY_24",TOKENS:["3"]},{TYPE:"define",NAME:"SSAO_QUALITY_32",TOKENS:["4"]},{TYPE:"define",NAME:"AA_METHOD_FXAA_LIGHT",TOKENS:["1"]},{TYPE:"define",NAME:"AA_METHOD_FXAA_QUALITY",TOKENS:["2"]},{TYPE:"define",NAME:"AA_QUALITY_LOW",TOKENS:["0"]},{TYPE:"define",NAME:"AA_QUALITY_MEDIUM",TOKENS:["1"]},{TYPE:"define",NAME:"AA_QUALITY_HIGH",TOKENS:["2"]},{TYPE:"define",NAME:"SMAA_RESOLVE",TOKENS:["25"]},{TYPE:"define",NAME:"SMAA_EDGE_DETECTION",TOKENS:["24"]},{TYPE:"define",NAME:"SMAA_BLENDING_WEIGHT_CALCULATION",TOKENS:["23"]},{TYPE:"define",NAME:"SMAA_NEIGHBORHOOD_BLENDING",TOKENS:["26"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_LOW",TOKENS:["1"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_MEDIUM",TOKENS:["2"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_HIGH",TOKENS:["3"]},{TYPE:"define",NAME:"AA_METHOD_SMAA_ULTRA",TOKENS:["4"]},{TYPE:"define",NAME:"REFL_PASS_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"REFL_PASS_PLANE",TOKENS:["1"]},{TYPE:"define",NAME:"REFL_PASS_CUBE",TOKENS:["2"]},{TYPE:"define",NAME:"SRGB_NONE",TOKENS:["0"]},{TYPE:"define",NAME:"SRGB_SIMPLE",TOKENS:["1"]},{TYPE:"define",NAME:"SRGB_PROPER",TOKENS:["2"]},{TYPE:"define",NAME:"CAM_TYPE_ORTHO",TOKENS:["0"]},{TYPE:"define",NAME:"CAM_TYPE_PERSP",TOKENS:["1"]},{TYPE:"define",NAME:"M_PI",TOKENS:["3.14159265359"]},{TYPE:"define",NAME:"M_PI_4",TOKENS:["0.785398163"]},{TYPE:"define",NAME:"INV_PI",TOKENS:["0.318309886"]},{TYPE:"define",NAME:"UP_VECTOR",TOKENS:["vec3","(","0.0",",","0.0",",","1.0",")"]},{TYPE:"define",NAME:"RIGHT_VECTOR",TOKENS:["vec3","(","1.0",",","0.0",",","0.0",")"]},{TYPE:"define",NAME:"TOWARD_VECTOR",TOKENS:["vec3","(","0.0",",","-","1.0",",","0.0",")"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["CONSTANTS_HACK"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","_0_0","=","0.0",";","float","_0_5","=","0.5",";","float","_1_0","=","1.0",";","float","_255_0","=","255.0",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"_0_0",TOKENS:["0.0"]},{TYPE:"define",NAME:"_0_5",TOKENS:["0.5"]},{TYPE:"define",NAME:"_1_0",TOKENS:["1.0"]},{TYPE:"define",NAME:"_255_0",TOKENS:["255.0"]}]}}]}]}}]}]},exports["include/to_world.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"TO_WORLD_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"TO_WORLD_GLSLV",TOKENS:[""]},{TYPE:"include",FILE:"math.glslv"},{TYPE:"var",NAME:"BILLBOARD_ALIGN",TOKENS:["BILLBOARD_ALIGN_VIEW"]},{TYPE:"var",NAME:"BILLBOARD_SPHERICAL",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_RANDOM",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_JITTERED",TOKENS:["0"]},{TYPE:"var",NAME:"BILLBOARD_PRES_GLOB_ORIENTATION",TOKENS:["0"]},{TYPE:"var",NAME:"STATIC_BATCH",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"define",NAME:"MAX_BILLBOARD_ANGLE",TOKENS:["M_PI_4"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_SPHERICAL","BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD_ALIGN","BILLBOARD_ALIGN_VIEW",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","bj","(","vec3","IS",",","mat3","N",")","{","vec4","IT","=","vec4","(","N","[","1","]","[","1","]",",","N","[","1","]","[","2","]",",","N","[","2","]","[","0","]",",","N","[","2","]","[","1","]",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","IU","=","X","(","RIGHT_VECTOR",",","-","M_PI","/","2.0",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","IU","=","X","(","RIGHT_VECTOR",",","M_PI","/","2.0",")",";"]}]}}]},{TYPE:"txt",TOKENS:["IT","=","qh","(","IU",",","IT",")",";","IT","=","ke","(","IT",")",";","mat3","bk","=","cQ","(",")",";","bk","[","0","]","=","IS",";","bk","=","cT","(","IT",",","bk",")",";","return","bk",";","}"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","IW","(","vec3","kV",",","vec3","IS",")","{","vec3","IV","=","kV","-","IS",";","IV",".","z","=","0.0",";","IV","=","normalize","(","IV",")",";","vec4","IT","=","qm","(","IV",",","TOWARD_VECTOR",")",";","mat3","bk","=","cQ","(",")",";","bk","[","0","]","=","IS",";","bk","=","cT","(","IT",",","bk",")",";","return","bk",";","}"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_JITTERED"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","at","(","in","vec3","IX",",","float","IY",",","float","IZ",",","float","I_",",","vec3","a_",",","mat3","Z",")","{","float","GX","=","fract","(","length","(","a_",")","/","0.17",")",";","float","Ja","=","I_","+","GX","/","10.0",";","float","Jb","=","GX",";","if","(","I_","!=","0.0",")","Jb","/=","I_",";","IX","*=","1.0","+","0.5","*","sin","(","IY",")",";","float","Jc","=","length","(","IX",")","*","IZ","*","sin","(","2.0","*","3.14","*","IY","*","Ja","+","Jb",")",";","vec4","Jd","=","X","(","TOWARD_VECTOR",",","Jc",")",";","vec4","Je","=","vec4","(","Z","[","1","]","[","1","]",",","Z","[","1","]","[","2","]",",","Z","[","2","]","[","0","]",",","Z","[","2","]","[","1","]",")",";","Je","=","qh","(","Je",",","Jd",")",";","Z","=","cT","(","Je",",","Z",")",";","return","Z",";","}"]}]}}]},{TYPE:"txt",TOKENS:["mat3","as","(","in","vec3","kV",",","in","vec3","aq",",","in","mat3","N",",","in","mat3","Z",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_SPHERICAL","BILLBOARD",{TYPE:"logic_negative_expr",PLACES:1},"BILLBOARD_ALIGN","BILLBOARD_ALIGN_VIEW",{TYPE:"equal_expr",PLACES:2},{TYPE:"logical_and_expr",PLACES:2},{TYPE:"logical_or_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","lj","=","bj","(","aq",",","N",")",";"]}]}},{TYPE:"elif",EXPRESSION:["BILLBOARD_RANDOM"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["float","GX","=","fract","(","(","aq",".","x","*","1.43","-","aq",".","z","*","0.123","+","aq",".","y","*","6.1",")",")",";","float","Jf","=","2.0","*","M_PI","*","GX",";","vec4","Jg","=","vec4","(","N","[","1","]","[","1","]",",","N","[","1","]","[","2","]",",","N","[","2","]","[","0","]",",","N","[","2","]","[","1","]",")",";","float","Jh","=","asin","(","2.0","*","(","Jg",".","x","*","Jg",".","y","-","Jg",".","z","*","Jg",".","w",")",")",";","float","gT","=","Jh","-","Jf",";","if","(","gT","<","0.0",")","gT","=","2.0","*","M_PI","+","gT",";","float","Ji","=","Jf",";","if","(","gT","<=","MAX_BILLBOARD_ANGLE",")","Ji","+=","gT",";","else","if","(","gT","<=","M_PI","-","MAX_BILLBOARD_ANGLE",")","Ji","+=","MAX_BILLBOARD_ANGLE","*","(","2.0","*","gT","-","M_PI",")","/","(","2.0","*","MAX_BILLBOARD_ANGLE","-","M_PI",")",";","else","if","(","gT","<=","M_PI","+","MAX_BILLBOARD_ANGLE",")","Ji","+=","gT","-","M_PI",";","else","if","(","gT","<=","2.0","*","M_PI","-","MAX_BILLBOARD_ANGLE",")","Ji","+=","MAX_BILLBOARD_ANGLE","*","(","2.0","*","gT","-","M_PI",")","/","(","2.0","*","MAX_BILLBOARD_ANGLE","-","M_PI",")","+","M_PI",";","else","Ji","+=","gT","-","2.0","*","M_PI",";","vec4","Jj","=","X","(","UP_VECTOR",",","Ji",")",";","mat3","lj","=","cQ","(",")",";","lj","[","0","]","=","aq",";","lj","=","cT","(","Jj",",","lj",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["mat3","lj","=","IW","(","kV",",","aq",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BILLBOARD_PRES_GLOB_ORIENTATION","STATIC_BATCH",{TYPE:"logic_negative_expr",PLACES:1},{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Z","[","0","]","=","vec3","(","0.0",",","0.0",",","0.0",")",";","lj","=","aY","(","lj",",","Z",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["lj","[","1","]","[","0","]","*=","Z","[","1","]","[","0","]",";"]}]}}]},{TYPE:"txt",TOKENS:["return","lj",";","}","au","av","(","in","vec3","eL",",","in","vec3","Jk",",","in","vec3","Jl",",","in","vec3","Jm",",","in","vec3","Jn",",","in","vec3","Jo",",","in","mat3","Z",")","{","eL","=","ap","(","Z",",","eL",")",";","Jk","=","ap","(","Z",",","Jk",")",";","Jl","=","_","(","Z",",","Jl",")",";","Jm","=","_","(","Z",",","Jm",")",";","Jn","=","_","(","Z",",","Jn",")",";","Jo","=","_","(","Z",",","Jo",")",";","return","lk","(","au","(","eL",",","Jk",",","Jl",",","Jm",",","Jn",",","Jo",",","vec3","(","0.0",")",")",")",";","}"]}]}}]}]},exports["include/wind_bending.glslv"] = {TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"ifndef",NAME:"WIND_BENDING_GLSLV",GROUP:{TYPE:"grp",PARTS:[{TYPE:"define",NAME:"WIND_BENDING_GLSLV",TOKENS:[""]},{TYPE:"var",NAME:"WIND_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"MAIN_BEND_COL",TOKENS:["0"]},{TYPE:"var",NAME:"DETAIL_BEND",TOKENS:["0"]},{TYPE:"var",NAME:"BEND_CENTER_ONLY",TOKENS:["0"]},{TYPE:"var",NAME:"REFLECTION_PASS",TOKENS:["REFL_PASS_NONE"]},{TYPE:"var",NAME:"BILLBOARD",TOKENS:["0"]},{TYPE:"include",FILE:"std.glsl"},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["WIND_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["void","JB","(","inout","vec3","bo",",","in","vec3","Jp",",","in","float","Jq",",","in","float","Jr",",","in","float","eS",",","in","vec3","IX",",","in","float","Js",",","in","mat4","bI",")","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Jt","=","(","bI","*","vec4","(","bo",",","1.0",")",")",".","xyz",";","vec3","Ju","=","(","bI","*","vec4","(","Jp",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Jt","=","bo",";","vec3","Ju","=","Jp",";"]}]}}]},{TYPE:"txt",TOKENS:["float","dp","=","length","(","Ju",")",";","float","Jv","=","Jr","*","(","1.0","+","0.1","*","fract","(","dp",")",")",";","float","Jw","=","Jq","*","Js","*","(","1.0","+","sin","(","2.0","*","3.14","*","eS","*","Jv","+","dp",")",")",";","float","Jx","=","(","Jt",".","z","-","Ju",".","z",")","*","abs","(","Jw",")",";","Jx","+=","1.0",";","Jx","*=","Jx",";","Jx","=","Jx","*","Jx","-","Jx",";","vec3","Jy","=","Jt",";","Jy",".","xy","+=","IX",".","xy","*","Jx","*","sign","(","Jw",")",";","vec3","Jz","=","Jy","-","Ju",";","if","(","all","(","equal","(","Jz",",","vec3","(","0.0",")",")",")",")","bo","=","Jp",";","else","{"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["Jz","=","(","bI","*","vec4","(","Jz",",","0.0",")",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["float","JA","=","length","(","Jt","-","Ju",")",";","bo","=","Jp","+","normalize","(","Jz",")","*","JA",";","}","}"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec4","JC","(","vec4","x",")","{","return","x","*","x","*","(","3.0","-","2.0","*","x",")",";","}","vec4","JD","(","vec4","x",")","{","return","abs","(","fract","(","x","+","0.5",")","*","2.0","-","1.0",")",";","}","vec4","JE","(","vec4","x",")","{","return","JC","(","JD","(","x",")",")",";","}","void","JQ","(","inout","vec3","bo",",","in","float","eS",",","in","vec3","U",",","in","vec3","IX",",","in","vec3","Jp",",","in","float","JF",",","in","float","JG",",","in","float","JH",",","in","vec3","JI",",","in","mat4","bI",")","{","float","JJ",";","float","JK",";","float","JL",";","vec2","JM",";","vec4","JN",";","vec2","JO",";","vec3","JP",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Jt","=","(","bI","*","vec4","(","bo",",","1.0",")",")",".","xyz",";","vec3","Ju","=","(","bI","*","vec4","(","Jp",",","1.0",")",")",".","xyz",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","Jt","=","bo",";","vec3","Ju","=","Jp",";"]}]}}]},{TYPE:"txt",TOKENS:["JJ","=","dot","(","Ju",",","vec3","(","1.0",")",")",";","JK","=","JJ","+","JI",".","g",";","JL","=","dot","(","Jt",",","vec3","(","JI",".","g",")",")",";","JM","=","(","eS","+","vec2","(","JL",",","JK",")",")",";","JN","=","(","(","fract","(","(","JM",".","xxyy","*","vec4","(","1.975",",","0.793",",","0.375",",","0.193",")",")",")","*","2.0",")","-","1.0",")","*","length","(","IX",")","*","JF",";","JN","=","JE","(","JN",")",";","JO","=","JN",".","xz","+","JN",".","yw",";","JO",".","y","=","0.5","-","JO",".","y",";","JP","=","JO",".","xxy","*","JI",".","rrb","*","vec3","(","JG","*","U",".","x",",","JG","*","U",".","y",",","JH",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["JP","=","(","bI","*","vec4","(","JP",",","0.0",")",")",".","xyz",";"]}]}}]},{TYPE:"txt",TOKENS:["bo","+=","JP",";","}"]}]}}]},{TYPE:"txt",TOKENS:["void","ax","(","inout","vec3","O",",","inout","vec3","ao",",","in","vec3","U",",","in","mat4","bI",")","{","vec3","JR","=","u_wind","*","1.0","+","0.7","*","sin","(","u_time",")",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","JS","=","ao",";","vec3","JT","=","a_emitter_center",";"]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["REFLECTION_PASS","REFL_PASS_PLANE",{TYPE:"equal_expr",PLACES:2},"BILLBOARD",{TYPE:"logical_and_expr",PLACES:2}],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["JT","=","(","bI","*","vec4","(","JT",",","1.0",")",")",".","xyz",";"]}]}}]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["vec3","JS","=","O",";","vec3","JT","=","ao",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["MAIN_BEND_COL"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["DETAIL_BEND"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["JQ","(","JS",",","u_time",",","U",",","JR",",","JT",",","au_detail_bending_freq",",","au_detail_bending_amp",",","au_branch_bending_amp",",","a_bending_col_detail",",","bI",")",";"]}]}}]},{TYPE:"txt",TOKENS:["JB","(","JS",",","JT",",","au_wind_bending_amp",",","au_wind_bending_freq",",","u_time",",","JR",",","a_bending_col_main",",","bI",")",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["JB","(","JS",",","JT",",","au_wind_bending_amp",",","au_wind_bending_freq",",","u_time",",","JR",",","1.0",",","bI",")",";"]}]}}]},{TYPE:"cond",PARTS:[{TYPE:"if",EXPRESSION:["BEND_CENTER_ONLY"],GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","+=","JS","-","ao",";","ao","=","JS",";"]}]}},{TYPE:"else",GROUP:{TYPE:"grp",PARTS:[{TYPE:"txt",TOKENS:["O","=","JS",";","ao","=","JT",";"]}]}}]},{TYPE:"txt",TOKENS:["}"]}]}}]}]}}]}]}}